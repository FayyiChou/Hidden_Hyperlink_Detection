<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8;">
    <title>搜房帮登录页，房产经纪人登录平台—房天下</title>
    <meta name="keywords" content="搜房帮登录，房产经纪人，经纪人网络平台，房屋中介">
    <meta name="description" content="搜房帮房产经纪人登录平台，中介、经纪人房源管理，新房、二手房、租房信息发布，达成房屋交易买卖，想快速、精准找到购房用户请登录搜房帮。">
    <link href="http://esf.js.soufunimg.com/esf/sfb/login/css/LoginNewVersion.css?v=20161129" rel="stylesheet">
    <style>
        .login-tab {
            background-color: #eaf6ff;
            width: 103px;
            float: left;
            border: none;
            border-bottom: 1px solid #ccc;
        }

            .login-tab.active {
                background-color: transparent;
                border-bottom-style: none;
            }

        .wx_shadow_wrap {
            position: absolute;
            top: 0;
            left: 20px;
            width: 200px;
            height: 200px;
            filter: progid:DXImageTransform.Microsoft.gradient(enabled='true', startColorstr='#B2000000', endColorstr='#B2000000');
            background: rgba(0,0,0,.7);
            text-align: center;
        }

            .wx_shadow_wrap a {
                color: #fff;
                text-decoration: none;
                line-height: 18px;
                position: relative;
                top: 75px;
            }
    </style>
    <img src="http://countpvn.light.fang.com/countpv?v=1.30^b=24^f=0^l=http://agent.fang.com/^r=http://n1.agent.fang.com/magent/main.aspx^g=4tjahds232ygts0dbs9ipytem12j0zygzu7^u=U_4tjahds232ygts0dbs9ipytem12j0zygzu7^c=1^a=1^s=nnn/taann^m=0^t=%E6%90%9C%E6%88%BF%E5%B8%AE%E7%99%BB%E5%BD%95%E9%A1%B5%EF%BC%8C%E6%88%BF%E4%BA%A7%E7%BB%8F%E7%BA%AA%E4%BA%BA%E7%99%BB%E5%BD%95%E5%B9%B3%E5%8F%B0%E2%80%94%E6%88%BF%E5%A4%A9%E4%B8%8B^i=0^1491093333873^o=^realip=^pageid=" width="0" height="0"><script type="text/javascript" async="" src="http://static.soufunimg.com/ggcp/uv/new/uv.min.js?20170321">SFUV.init({isNorth:_isNorth,bid:_bid,frameType:_sfuv_frameType,location:_sfuv_location,referrer:_sfuv_referrer,urlowner:_urlowner,realip:_realip,pageid:_pageid})</script><script type="text/javascript" async="" src="http://www.google-analytics.com/ga.js"></script><script type="text/javascript" async="" src="http://js.soufunimg.com/count/load.min.js"></script><script>
        (function () {
            
            if (document.domain.toLowerCase().indexOf("soufun") > 0) {
                window.location.href = "http://agent.fang.com";
            }
        }());
        var currentDomain = 'fang.com';
        document.domain = currentDomain;
    </script>
</head>
<body><img id="USERBEHAVIOR_IMG" src="http://countubn.3g.fang.com/w?g=0&amp;c=%E5%85%A8%E5%9B%BD&amp;b=0&amp;vwg.page=ehloansfb&amp;vwg.city=%E5%85%A8%E5%9B%BD&amp;vwg.usertype=0&amp;vwg.business=E&amp;vwg.clientstorage=0&amp;vwg.sourcepage=ehloansfb&amp;vwg.userAgent=Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.48 Safari/537.36&amp;vwg.browser=chrome^537.36&amp;vwg.system=win7" width="0" height="0" style="display: none; ">
    <div style="height: 1px;">
        <iframe id="frameLogin" name="frameLogin" width="0" height="0" frameborder="no" border="0" marginwidth="0" marginheight="0"></iframe>
    </div>
    <div class="wrapper">
        <!--head start-->
        <div class="headerwrap">
            <div class="head">
                <div class="headleft ml15 fl">
                    <img src="http://img.soufun.com/secondhouse/image/login/newlogin/sfblogo_new.jpg" alt="" class="fl mt8">
                    <span class="sfbword fl ml10">搜房帮 </span>
                </div>
                <div class="headright fr">
                    <a id="agentsy_C01_01" href="http://esf.fang.com/" target="_blank">二手房首页</a>
                    <a id="agentsy_C01_02" href="http://zu.fang.com/" target="_blank">租房首页</a>
                    <a id="agentsy_C01_03" href="http://zu.fang.com/rent/include/agtindex/agtindex.htm" target="_blank">经纪人频道</a>
                    <a id="agentsy_C01_04" href="http://training.fang.com/" target="_blank">中国房地产经纪人大学</a>
                    <a id="agentsy_C01_05" href="http://agent.fang.com/Develop/EsfProductIntroduce/index.html" target="_blank">产品介绍</a>
                    <a id="agentsy_C01_06" href="http://help.agent.fang.com/" target="_blank">帮助中心</a> <span>400-630-6888</span>
                </div>
            </div>
        </div>
        <!--content start-->
        <div class="adwrapper pr" id="wrap" style="background-color: rgb(227, 20, 50); ">
            <!--rightfix start-->
            
            <div class="sfb_ad1" id="BackgroundArea" style="background-image: url(http://imgn1.soufunimg.com/news/2017_03/27/1490597298461.jpg); ">
                <div class="left_link "><a href="http://b.agent.fang.com/wapagent/Activity/houseshare/ad" class="link" id="agentsy_C02_01" target="_blank"></a></div>
                <div class="right_btn pa"><a class="leftbtn turnbtn" id="last" href="javascript:;"></a><a class="rightbtn turnbtn" id="agentsy_C02_02" href="javascript:;"></a></div>
            </div>
            <div class="login pa">
                <div class="title">
                    <a href="javascript:;" class="countlogin login-tab active" id="countlogin" style="border-left-style: none;">账号登录</a>
                    <a href="javascript:;" class="welogin login-tab" id="wechatlogin" style="border-left: 1px solid #ccc; width: 102px;">微信登录</a>
                    <a href="javascript:;" class="malogin login-tab" id="malogin" style="border-left: 1px solid #ccc;">二维码登录</a>
                </div>
                <div class="form1" id="login1">
                    <form id="loginForm">
                        <div class="pr usernamewrap">
                            <input id="agentsy_C03_01" name="str_username" type="text" value="请输入用户名" class="username inputpub gray" onclick="changeCss(this)" onblur="javascript:if(this.value==''){this.value='请输入用户名';this.style.color = 'gray';}" onfocus="javascript:if(this.value=='请输入用户名'){this.value='';this.style.color = 'black';}">
                            <span id="usererror" class="alertword01" style="display: none;">用户名不能为空</span>
                        </div>
                        <div class="passwordwrap pr">
                            <span id="pwderror" class="alertword01 posalertpsw" style="display: none;">登录密码不能为空</span>
                            <span class="inputpsw">请输入登录密码</span>
                            
                            <input name="str_userpwd" type="password" class="password inputpub" id="str_userpwd" onclick="changeCss(this)">
                        </div>
                        <div class="verify" id="imgCodeError" style="display: none;">
                            <span id="imgCodeErrorTip" class="alertword01 posalertprov" style="display: none;">验证码不能为空</span>
                            <input id="str_imgcode" name="str_imgcode" type="text" value="请输入验证码" class="inputpub fl gray" onclick="changeCss(this)" onblur="javascript:if(this.value==''){this.value='请输入验证码';this.style.color = 'gray';}" onfocus="javascript:if(this.value=='请输入验证码'){this.value='';this.style.color = 'black';}">
                            <script type="text/javascript">
                                (function () {
                                    var v_rand = Math.round(Math.random() * 10000000000);
                                    document.write('<img class="fr mamar" width="100" height="40" alt="搜房帮" id="imgcode"  onclick="refreshVCode(1)" style="cursor:pointer;" src="http://captcha.fang.com/Display?type=soufangbang&width=100&height=40&r=' + v_rand + '" />');
                                }.call(this));
                            </script><img class="fr mamar" width="100" height="40" alt="搜房帮" id="imgcode" onclick="refreshVCode(1)" style="cursor:pointer;" src="http://captcha.fang.com/Display?type=soufangbang&amp;width=100&amp;height=40&amp;r=5853054665">
                            <div class="clear"></div>
                            <p><a href="javascript:;" class="change" onclick="refreshVCode(1);return;">换一张</a></p>
                        </div>
                        <p class="forget">
                            <label style="float: left;">
                                <input name="rememberme" checked="checked" id="rememberme" class="fl mt2 mr5 mt0_ie6" type="checkbox" style="margin-top: 2px; *margin-top: -2px;">记住我的用户名</label>
                            <a id="agentsy_C03_02" href="ForgetPasswordNew.aspx" target="_blank" class="fr mr30 blueword">忘记密码?</a>
                        </p>
                        <input type="button" value="登录" class="loginbtn" id="btnLogin">
                        <div class="selectversion">
                            <p class="version">
                                <span class="fl">版本 : &nbsp;<a class="default">默认版本</a>
                                </span>
                            </p>
                            <ul class="select" style="display: none;">
                                <li><a href="#" class="moren">默认版本</a></li>
                            </ul>
                            <p></p>
                        </div>
                        <p class="register"><span>还没有账户？</span><a href="AgentRegister.aspx" id="agentsy_C03_04" target="_blank">注册新账户</a></p>
                        <div class="littlead" id="agentsy_C03_03">
                            <a href="http://erp.fang.com/" target="_blank">房天下AOS，为经纪公司打造的ERP管理平台</a>
                            <div class="turnword">
                                <!--text Ad-->
                            </div>
                        </div>
                    </form>
                </div>
                <div class="clear"></div>
                <div class="form2" id="login2" style="display: none;">
                    <div class="turnimg">
                        <div class="mawrap2">
                            <p class="matips">微信扫码登录，安全防盗</p>
                            <div class="erweima" style="position: relative">
                                <img id="weimg" style="width: 200px; height: 200px; margin-left: 19px;" src="http://img.soufun.com/secondhouse/image/login/newlogin/loading.gif" alt="" class="ml29 maimgshadow erma">
                                <div id="img-mask" class="wx_shadow_wrap" style="display: none;">
                                    <a href="javascript:;">二维码已过期<br>
                                        点击刷新</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <p class="register mb15"><span>还没有账户？</span><a id="a1" href="AgentRegister.aspx" target="_blank">注册新账户</a></p>
                </div>
                <div class="clear"></div>
                <div class="form2" id="login3" style="display: none;">
                    <div class="turnimg">
                        <div class="mawrap">
                            <!--onclick="turnimgact()"    ljl-->
                            <p class="matips"><a href="javascript:;" class="cellphonesfb">手机搜房帮</a> 扫码登录，安全防盗</p>
                            <div class="erweima imgturn">
                                <img id="erweima" style="width: 200px; height: 200px; margin-left: 19px;" src="http://img.soufun.com/secondhouse/image/login/newlogin/loading.gif" alt="" class="ml29 maimgshadow erma">
                            </div>
                        </div>
                        <div class="phoneimg" id="phone" style="display: none;">
                            <img src="http://img.soufun.com/secondhouse/image/login/newlogin/phone.jpg" alt="" class="ml44 phoneclick">
                        </div>
                    </div>
                    <p class="register mb15"><span>还没有账户？</span><a id="agentsy_C04_02" href="AgentRegister.aspx" target="_blank">注册新账户</a></p>
                    <div class="appwrap"><a id="agentsy_C04_03" class="download" href="http://client.3g.fang.com/http/wap/appdownload/download_sfb.html" target="_blank"></a></div>
                </div>
            </div>
        </div>
        <!--list-->
        <div class="list">
            <a id="agentsy_C05_01" href="http://training.fang.com/" class="list1 listpub" target="_blank">中国房地产经纪人大学</a>
            <a id="agentsy_C05_02" href="http://www.fang.com/house/tools_grzfgjjdk.htm" target="_blank" class="list2 listpub">公积金计算器</a>
            <a id="agentsy_C05_03" href="http://agent.fang.com/tools/NewDraw.aspx" target="_blank" class="list3 listpub">户型图绘制</a>
            <a id="agentsy_C05_04" href="http://pinggu.fang.com/" target="_blank" class="list4 listpub">房产评估</a>
            <a id="agentsy_C05_05" href="http://agent.fang.com/showip.aspx" target="_blank" class="list5 listpub">IP查询</a>
        </div>
        <!--footer-->
        <form method="post" action="Login.aspx" id="form1">
<div class="aspNetHidden">
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwULLTIwNjY2MjM3ODJkZDjQe4sHLsHVwQ4km2SUDYcBabupL0lw0qeze5c5KOuW">
</div>

<div class="aspNetHidden">

	<input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="C2EE9ABB">
</div>
            

<style type="text/css">
    .list {
        width: 800px;
        height: 50px;
        background-color: #fff;
        margin: 0 auto;
        padding: 0 100px;
        border-bottom: 1px solid #e3e3e3;
    }
    /*footer*/
    .footer {
        position: relative;
    }

        .footer a:link, .footer a:visited {
            color: #888;
        }

        .footer a:hover {
            color: #f00;
            text-decoration: underline;
        }

    .linkwords strong {
        color: #f00;
    }

    .footer * {
        margin: 0;
    }
</style>

<div class="footer">
    <script type="text/javascript">
        var gEBI = function (id) {
            return document.getElementById(id);
        }
        function moreBoxto(numcss1020) {
            for (j = 0; j < 10; j++) {
                if (gEBI('moreBox' + j)) {
                    gEBI('moreBox' + j).style.display = 'none';

                }
            }
            gEBI('moreBox' + numcss1020).style.display = 'block';
        }
        function hidden_moreBoxto(numcss1020) {
            timeout = setTimeout(function () { gEBI("moreBox" + numcss1020).style.display = "none"; }, 100);
        }
        function show_moreBoxto(numcss1020) {
            window.clearTimeout(timeout);
            gEBI("moreBox" + numcss1020).style.display = "";
        }
    </script>
    <div class="mt10 clear"></div>
    <div style="width: 960px; position: relative; height: 160px; font-size: 12px; font-family: '宋体'; clear: both; margin: 0 auto; padding-top: 10px; background-repeat: no-repeat; color: #888;" class="DivCss20091020WZiColor333" id="agentsy_B03_01">
        
        <div style="line-height: 20px; text-align: center;"><a target="_blank" href="http://www.fang.com/aboutus/index.asp">关于我们</a> <span style="font-family: Verdana;">‖</span> <a target="_blank" href="http://www.fang.com/hezuo_file/house/index.html">网站合作</a> <span style="font-family: Verdana;">‖</span> <a target="_blank" href="http://esf.fang.com/aboutus/contactus.html">联系我们</a> <span style="font-family: Verdana;">‖</span> <a target="_blank" href="http://www.fang.com/zhaopin">招聘信息</a> <span style="font-family: Verdana;">‖</span> <a onmouseover="moreBoxto(1020)" onmouseout="hidden_moreBoxto(1020)" href="http://www.fang.com/SoufunFamily.htm">房天下家族</a> <span style="font-family: Verdana;">‖</span> <a target="_blank" href="http://www.fang.com/sitemap/sitemap.html">网站地图</a> <span style="font-family: Verdana;">‖</span>  <a target="_blank" href="http://www.fang.com/service/feedback/LeaveMess.aspx/">意见反馈</a><span style="font-family: Verdana;">‖</span> <a href="http://wap.fang.com/xc/mobile.html" target="_blank">手机房天下</a> <span style="font-family: Verdana;">‖</span> <a target="_blank" href="http://open.fang.com">开放平台</a> <span style="font-family: Verdana;">‖</span> <a target="_blank" href="http://www.fang.com/aboutus/copyright.html">服务声明</a> <span style="font-family: Verdana;">‖</span> <a target="_blank" href="http://www.fang.com/zt/201107/xbc.html">加盟搜房帮</a> </div>
        <!--弹出城市 begin-->
        <div class="linkwords" style="position: relative; width: 1px; height: 1px;">
            <div onmouseout="hidden_moreBoxto(1020)" onmouseover="show_moreBoxto(1020);" id="moreBox1020" style="display: none; margin: 0; position: absolute; top: 0px; right: 10px!important; left: 300px; width: 480px; height: 153px; background: #f0f0f0; border: 1px solid #999; padding: 10px 10px 0 10px; line-height: 21px; font-size: 12px;">
                <table class="DivCss20091020WZiColor333" border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tbody>
                        <tr>
                            <td width="16"><strong style="color: #c00;">B</strong></td>
                            <td width="80"><a href="http://bj.fang.com/" target="_blank">北京房地产</a></td>
                            <td width="16"><strong style="color: #c00;">D</strong></td>
                            <td width="80"><a href="http://dg.fang.com/" target="_blank">东莞房地产</a></td>
                            <td width="16">&nbsp;</td>
                            <td width="80"><a href="http://hn.fang.com/" target="_blank">海南房地产</a></td>
                            <td width="16">&nbsp;</td>
                            <td width="100"><a href="http://nn.fang.com/" target="_blank">南宁房地产</a></td>
                            <td width="16">&nbsp;</td>
                            <td width="80"><a href="http://sy.fang.com/" target="_blank">沈阳房地产</a></td>
                        </tr>
                        <tr>
                            <td><strong style="color: #c00;">C</strong></td>
                            <td><a href="http://cd.fang.com/" target="_blank">成都房地产</a></td>
                            <td>&nbsp;</td>
                            <td><a href="http://dl.fang.com/" target="_blank">大连房地产</a></td>
                            <td>&nbsp;</td>
                            <td><a href="http://hf.fang.com" target="_blank">合肥房地产</a></td>
                            <td><strong style="color: #c00;">Q</strong></td>
                            <td><a href="http://qd.fang.com/" target="_blank">青岛房地产</a></td>
                            <td><strong style="color: #c00;">T</strong></td>
                            <td><a href="http://tj.fang.com/" target="_blank">天津房地产</a></td>
                        </tr>
                        <tr>
                            <td>&nbsp;</td>
                            <td><a href="http://cq.fang.com/" target="_blank">重庆房地产</a></td>
                            <td><strong style="color: #c00;">F</strong></td>
                            <td><a href="http://fz.fang.com/" target="_blank">福州房地产</a></td>
                            <td><strong style="color: #c00;">J</strong></td>
                            <td><a href="http://jn.fang.com/" target="_blank">济南房地产</a></td>
                            <td><strong style="color: #c00;">S</strong></td>
                            <td><a href="http://sh.fang.com/" target="_blank">上海房地产</a></td>
                            <td><strong style="color: #c00;">W</strong></td>
                            <td><a href="http://wuhan.fang.com/" target="_blank">武汉房地产</a></td>
                        </tr>
                        <tr>
                            <td>&nbsp;</td>
                            <td><a href="http://cs.fang.com/" target="_blank">长沙房地产</a></td>
                            <td><strong style="color: #c00;">G</strong></td>
                            <td><a href="http://gz.fang.com/" target="_blank">广州房地产</a></td>
                            <td><strong style="color: #c00;">N</strong></td>
                            <td><a href="http://nanjing.fang.com/" target="_blank">南京房地产</a></td>
                            <td>&nbsp;</td>
                            <td><a href="http://sz.fang.com/" target="_blank">深圳房地产</a></td>
                            <td>&nbsp;</td>
                            <td><a href="http://wuxi.fang.com/" target="_blank">无锡房地产</a></td>
                        </tr>
                        <tr>
                            <td>&nbsp;</td>
                            <td><a href="http://changchun.fang.com/" target="_blank">长春房地产</a></td>
                            <td>&nbsp;</td>
                            <td><a href="http://gy.fang.com" target="_blank">贵阳房地产</a></td>
                            <td>&nbsp;</td>
                            <td><a href="http://nc.fang.com/" target="_blank">南昌房地产</a></td>
                            <td>&nbsp;</td>
                            <td><a href="http://suzhou.fang.com/" target="_blank">苏州房地产</a></td>
                            <td><strong style="color: #c00;">X</strong></td>
                            <td><a href="http://xian.fang.com/" target="_blank">西安房地产</a></td>
                        </tr>
                        <tr>
                            <td>&nbsp;</td>
                            <td><a href="http://cz.fang.com/" target="_blank">常州房地产</a></td>
                            <td><strong style="color: #c00;">H</strong></td>
                            <td><a href="http://hz.fang.com/" target="_blank">杭州房地产</a></td>
                            <td>&nbsp;</td>
                            <td><a href="http://nb.fang.com/" target="_blank">宁波房地产</a></td>
                            <td>&nbsp;</td>
                            <td><a href="http://sjz.fang.com/" target="_blank">石家庄房地产</a></td>

                            <td><strong style="color: #c00;">Z</strong></td>
                            <td><a href="http://zz.fang.com/" target="_blank">郑州房地产</a></td>
                        </tr>
                    </tbody>
                </table>
                <div style="text-align: right;" class="DivCss20091020WZiColorf00"><a target="_blank" href="http://esf.fang.com/cities.aspx">进入搜房二手房&gt;&gt;</a> </div>
            </div>
        </div>
        <!--弹出城市 end-->
        
        <div style="font-family: Verdana; line-height: 20px; text-align: center;">
            copyright  ©
            <script type="text/javascript">
                document.write(new Date().getFullYear());//输出年份
            </script>2017
            北京拓世宏业科技发展有限公司 Beijing Tuo Shi Hong Ye Science&amp;Technology Development Co.,Ltd 版权所有
        </div>
        <div style="margin-top: 5px; text-align: center;">客服电话： 400-630-6888 违法信息举报邮箱：<a href="mailto:jubao@fang.com" rel="nofollow"><em>jubao@fang.com</em></a></div>
        <div style="margin-top: 5px; text-align: center;"></div>
    </div>
</div>

        </form>
    </div>
    <!--升级浏览器提醒-->
    <div class="popbg" id="DownLoadBrowser" style="display: none; position: absolute; z-index: 1001; visibility: hidden; overflow: hidden; ">
        <div class="pop1">
            <a href="#" class="close" onclick="Cancel();">
                <img src="http://img.soufun.com/secondhouse/image/magent/bluestyle/close.gif" alt="" title=""></a>
            <p class="pop1word">尊敬的用户，您的IE浏览器版本过低，建议您更换浏览器或使用微信登录。</p>
            <div class="btnwrap">
                <a href="#" onclick="Cancel();">暂不更换</a>
                <a href="http://img.fang.com/secondhouse/image/magent/download/360cse_8.5.0.122.exe" class="downloadbtn">下载新版本</a>
            </div>
        </div>
    </div>
    <popup modal="true" element="DownLoadBrowser"></popup>
    <script type="text/javascript" src="http://esf.js.soufunimg.com/esf/sfb/magent/js/Root.Popup20130806.js"></script><div id="__PopupMask" style="background-color:#666666; z-index:1000; position:fixed; visibility:hidden; display:none; left:0; top:0;overflow:hidden;height:100%;width:100%;">&nbsp;</div>
    <script src="http://esf.js.soufunimg.com/esf/sfb/magentnew/scripts/jquery-1.8.2.min.Fixed.js?v=20150408"></script>
    <script src="http://esf.js.soufunimg.com/esf/sfb/magent/admin/js/underscore.js"></script>
    <script type="text/javascript" src="http://esf.js.soufunimg.com/esf/sfb/magent/js/jQuery.md5.js?v=20150408"></script>
<script type="text/javascript" src="http://esf.js.soufunimg.com/esf/sfb/magent/payment/js/json2.js"></script>
<script type="text/javascript" src="http://esf.js.soufunimg.com/esf/sfb/magent/js/BigInt.js?v=20150408"></script><script type="text/javascript" src="http://esf.js.soufunimg.com/esf/sfb/magent/js/RSA.js?v=20150408"></script><script type="text/javascript" src="http://esf.js.soufunimg.com/esf/sfb/magent/js/Barrett.js?v=20150408"></script>
    <script type="text/javascript">
        var isIELower = false;
        window.onload = function () {
            if (screen.width < 900) {
                if (isIE = navigator.userAgent.indexOf("MSIE") != -1) {
                    $(".login").css('left', '40%');
                    $(".right_btn").css('left', '40%');
                }
            }

        };

        function Cancel() {
            document.popups["DownLoadBrowser"].close();
        }
    </script>
    <script type="text/javascript">
        //加载图片,加载完成后执行callback
        function loadImage(url, callback) {
            var img = new Image();
            img.src = url;
            if (img.complete) {
                callback.call(img);
                return;
            }
            img.onload = function () {
                callback.call(img);
            };
        };
        function changeCss(element) {
            var $element = $(element);
            $element.siblings("span.alertword01:visible").hide();//隐藏错误提示
        }

        function updateImgCodeDisplay(showFlag) {
            if (showFlag == 0) {
                $("#imgCodeError").hide();
            } else {
                $("#imgCodeError").show();
            }
        }
        function refreshVCode(ref) {
            document.getElementById("str_imgcode").value = "";
            //新的键值
            var v_rand = Math.round(Math.random() * 10000000000);
            document.getElementById('imgcode').src = 'http://Captchas.fang.com/Display?type=soufangbang&width=100&height=32&r=' + v_rand + '';
        }
        function cmdEncrypt(str) {
            //if (str.length < 17) {
            setMaxDigits(129);
            var key = new RSAKeyPair("010001", "", "978C0A92D2173439707498F0944AA476B1B62595877DD6FA87F6E2AC6DCB3D0BF0B82857439C99B5091192BC134889DFF60C562EC54EFBA4FF2F9D55ADBCCEA4A2FBA80CB398ED501280A007C83AF30C3D1A142D6133C63012B90AB26AC60C898FB66EDC3192C3EC4FF66925A64003B72496099F4F09A9FB72A2CF9E4D770C41");
            var pwdRtn = encryptedString(key, str);
            //$("#str_userpwd").val(pwdRtn);
            return pwdRtn;
            //}
        }
    </script>
    <script type="text/javascript">
        var showFlag = 0;
        //用户名输入框默认提示文字显示与隐藏处理
        $("#agentsy_C03_01").focus(function () {
            if ($.trim($(this).val()) == this.defaultValue) {
                $(this).val('');
            }
        }).blur(function () {
            var value = $.trim($(this).val());
            if (!value || value.length <= 0) {
                $(this).val(this.defaultValue);
            }
            else {
                getLoginErrorCount();
            }
        });

        $(".inputpsw").click(function () {
            $(this).hide().next().focus();
        });

        $(".password").focus(function () {
            $('.inputpsw').hide();
        }).blur(function () {
            if (this.value == '') {
                $(".inputpsw").show();
            }
            else { }
        });
        $("#agentsy_C03_01,#str_userpwd,#str_imgcode").keydown(function (e) {
            if (e.which == 13) {
                $("#btnLogin").click();
            }
        });
        $("#str_userpwd").keyup(function () {
            $(this).siblings(".alertword01:visible").hide();
        });

        //显示错误信息
        function showMsg(errMsg) {
            if (errMsg.indexOf("用户") != -1 || errMsg.indexOf("用户名") != -1) {
                $("#usererror").html(errMsg).show();
            }
            else if (errMsg.indexOf("密码") != -1) {
                $("#pwderror").html(errMsg).show();
            }
            else if (errMsg.indexOf("验证码") > -1) {
                $("#imgCodeError").show();
                $("#imgCodeErrorTip").html(errMsg).show();
            } else {
                $("#usererror").html(errMsg).show();
            }
        }
    </script>
    <script type="text/javascript">
        //二维码登录
        var timeout = null;
        var curUuid = "";//当前uuid

        function QRLogin() {
            var maxQryCnt = 16;//最大请求次数
            var maxHideQryCnt = 3;//隐藏后最大请求次数
            var curQryCnt = 0;//已请求次数
            if ($("#login3").is(":visible")) {
                StartQrDeal();
            }

            function StartQrDeal() {
                //1.更新uuid
                var uuid = GetUUID();
                curUuid = uuid;
                //2.为uuid生成二维码
                LoadQrImg(uuid);
                //3.循环检测状态
                CheckQrStatus(uuid);
            }

            function GetUUID() {
                var uuid = "";
                $.ajax({
                    url: "QrImg.aspx",
                    data: { action: "getuuid" },
                    datetype: "json",
                    type: "get",
                    async: false,
                    success: function (rspJson) {
                        var rst = eval("(" + rspJson + ")");
                        uuid = rst.uuid;
                    }
                })
                return uuid;
            }

            function LoadQrImg(uuid) {
                var imgUrl = "QrImg.aspx?action=getimg&uuid=" + uuid;
                loadImage(imgUrl, function () {
                    $("#login3 .erweima").html("<img src='" + this.src + "' class='ml29 maimgshadow erma'>");
                });
            }

            function CheckQrStatus(uuid) {
                curQryCnt++;
                if (curQryCnt > maxQryCnt) {

                    if (curQryCnt - maxQryCnt > maxHideQryCnt) {
                        //请求次数超过了最大请求数+隐藏后的最大请求数值,归0
                        curQryCnt = 0;
                        return;
                    }
                    //隐藏二维码div后，需要再轮询几次
                    //QRLogin();
                }

                $.ajax({
                    url: "QrImg.aspx?action=chkstat&uuid=" + uuid,
                    datetype: "json",
                    type: "get",
                    success: function (rspJson) {
                        var rst = eval("(" + rspJson + ")");
                        //返回状态说明：-1 = 非法请求； 0 = 二维码已失效； 1 = 未登录； 2 = 成功登录；
                        switch (rst.state) {
                            case 0:
                                curQryCnt = 0;
                                StartQrDeal();//二维码已失效,重新请求
                                break;
                            case 1:
                                if (($("#login3").is(":visible") && curQryCnt > 0) &&
                                    curUuid == uuid) {
                                    setTimeout(function () {
                                        CheckQrStatus(uuid);
                                    }, 3000);
                                }
                                break;
                            case 2:
                                curQryCnt = 0;
                                location.href = "QrImg.aspx?action=suclogin&uuid=" + uuid;
                                break;
                        }
                    }
                });
            }
        }

        //tab 切换
        $(".login-tab").click(function (e) {
            var self = $(this);
            var idx = self.index();
            if (timeout) {
                clearTimeout(timeout);
            }

            switch (idx) {
                case 1:
                    timeout = setTimeout(function () {
                        $("#login1").hide();
                        $("#login2").show();
                        $("#login3").hide();
                        self.addClass("active").siblings().removeClass("active");
                        //WeLogin();
                    }, 200);
                    break;
                case 2:
                    timeout = setTimeout(function () {
                        $("#login1").hide();
                        $("#login2").hide();
                        $("#login3").show();
                        self.addClass("active").siblings().removeClass("active");
                        QRLogin();
                    }, 200);
                    break;
                default:
                    timeout = setTimeout(function () {
                        $("#login1").show();
                        $("#login2").hide();
                        $("#login3").hide();
                        self.addClass("active").siblings().removeClass("active");
                    }, 200);
                    break;
            }
        });

        //底部链接效果
        $(".list a").hover(function () {
            $(this).addClass("swing");
        }, function () {
            //$(this).removeClass("swing");
        });

        //二维码图片
        $(".imgturn").hover(function () {
            $(".mawrap").addClass("rotate");
            setTimeout(function () {
                $(".phoneimg").show();
                $(".mawrap").removeClass("rotate");
                $(".mawrap").hide();
            }, 600)
        }, function () { });

        //手机图片
        $(".phoneclick").hover(function () { }, function () {
            $(".phoneimg").addClass("rotate");
            setTimeout(function () {
                $(".mawrap").show();
                $(".phoneimg").removeClass("rotate");//每次隐藏的同时把动画效果的移除了，为了下次添加有效果
                $(".phoneimg").hide();

            }, 600)
        });
    </script>
    <script type="text/javascript">
        //广告轮播
        (function () {
            var adArr = [], index = 0, section = null;
            var turn = function () {
                if (adArr.length > 0) {
                    if (index > adArr.length - 1) { index = 0; }
                    var currentAd = adArr[index];
                    document.getElementById("wrap").style.backgroundColor = currentAd.bgColor;
                    document.getElementById("BackgroundArea").style.backgroundImage = "url(" + currentAd.src + ")";
                    document.getElementById("agentsy_C02_01").href = currentAd.linkUrl;
                    index++;
                }
            };
            //上一帧
            $("#last").click(function () {
                clearInterval(section);
                function turnlast() {
                    if (adArr.length > 0) {
                        index = index - 1;
                        if (index < 0) { index = adArr.length - 1; }
                        var currentAd = adArr[index];
                        document.getElementById("wrap").style.backgroundColor = currentAd.bgColor
                        document.getElementById("BackgroundArea").style.backgroundImage = "url(" + currentAd.src + ")";
                        document.getElementById("agentsy_C02_01").href = currentAd.linkUrl;
                    }
                }
                turnlast();
                return;
            });

            //下一帧
            $("#agentsy_C02_02").click(function () {
                clearInterval(section);
                turn();
                return;
            });

            //广告初始化
            $.getJSON("Login.aspx?City=%b1%b1%be%a9", { action: 'getImgAd' }, function (data) {
                if (data && data.length > 0) {
                    for (var i = 0; i < data.length; i++) {
                        adArr.push({
                            src: data[i].ImageScr,//注意字段名 scr
                            bgColor: data[i].BgColor,
                            linkUrl: data[i].ImageLink
                        })
                    }
                    //console.log(adArr);
                    //初始化轮播
                    section = setInterval(turn, 5000);
                }
            });
        }());
    </script>
    <script type="text/javascript">
        (function () {
            $.getJSON("Login.aspx?City=%b1%b1%be%a9", { action: 'getTextAd' }, function (data) {
                //console.log(data);
                if (data && data.length > 0) {
                    var str = "";
                    for (var i = 0; i < data.length; i++) {
                        str += "<a href='" + data[i].ADLink + "' target='_blank'>" + data[i].ADText + "</a>"
                    }
                    $("div.turnword").append(str);
                    //文字广告切换
                    $(".turnword a").not(":first").hide();
                    var i = 0;
                    var j = $(".turnword a").size() - 1;
                    function turnwords() {
                        i++;
                        if (i > j) i = 0;
                        $(".turnword a").eq(i).show().siblings().hide();
                    }
                    var action = setInterval(turnwords, 2000);
                }
            });
            $("#agentsy_C03_01").focus();

        }());
    </script>
    <script type="text/javascript">
        $("#likea").one('click', function () {
            if (!$(this).prop('disable')) {
                $("#likea,#dislikea").prop("disable", true);
                $("#likeplus").show();
                $("#likeplus").addClass("fadeInUp");

                $.post('Login.aspx?City=北京', { action: 'vote', like: 1 }, function (data) {
                    //console.log(data);
                }, "json");
                setTimeout(function () {
                    $("#likeplus").hide();
                }, 1000)
            }

        });
        $("#dislikea").one('click', function () {
            if (!$(this).prop('disable')) {
                $("#likea,#dislikea").prop("disable", true);
                $("#dislikeplus").show();
                $("#dislikeplus").addClass("fadeInUp");
                $.post('Login.aspx?City=北京', { action: 'vote', like: 0 }, function (data) {
                    //console.log(data);
                }, "json");
                setTimeout(function () {
                    $("#dislikeplus").hide();
                }, 1000)
            }
        });
    </script>
    <script type="text/javascript" src="http://clickm.fang.com/click/new/clickm.js"></script>
    <script type="text/javascript">
        Clickstat.eventAdd(window, 'load', function (e) {
            Clickstat.batchEvent('agentsy_', '');
        });
    </script>
    <script type="text/javascript">
        $("#str_userpwd").change(function () {
            if ($(this).val().length > 0) {
                $(".inputpsw").hide();
            }
        })
    </script>
    <script type="text/javascript">
        var _dctc = _dctc || {};
        _dctc._account = _dctc._account || ['UA-24830445-3'];
        _dctc.isNorth = _dctc.isNorth || 'Y';
        _dctc.bid = '24';
        (function () {
            var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
            script.src = 'http://js.soufunimg.com/count/load.min.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
        })();
    </script>
    <script type="text/javascript">
        var SFLogin = {
            Version: '1.00',
            LoginURL: '',
            Name: '',
            callback: '',

            GetLoginErrorCountByJsonp: function (callback, username) {
                var request = 'uid={0}&Service={1}'
                    .replace('{0}', username)
                    .replace('{1}', 'esf-agent-web');
                $.ajax({
                    type: "post",
                    url: this.LoginURL,
                    dataType: "jsonp",
                    jsonp: 'callback',
                    jsonpCallback: "updateImgCodeDisplay1",
                    data: request,
                    cache: false,
                    success: function (json) {
                        if (json.Message == "Success") {
                            showFlag = (json.LoginErrorCount >= 5
                                || json.IsIpCanVisit == "false") ? 1 : 0;
                            updateImgCodeDisplay(showFlag);

                        } else {
                            updateImgCodeDisplay(showFlag);
                        }
                    },
                    error: function (e) {
                        //alert(e.Message);
                    }
                });
            },

            GetLoginErrorCount: function (o) {
                this.Name = o.nameId;
                this.callback = o.callback;
                this.LoginURL = o.loginurl;

                this.GetLoginErrorCountByJsonp(this.callback, this.Name);

            }
        }
    </script>
    <script type="text/javascript">
        var isLowSys = false;
        var agent = navigator.userAgent;
        //判断是否是低版本的操作系统,决定使用http接口还是https接口
        if ((agent.indexOf("Win95") > -1 || agent.indexOf("Win98") > -1 || agent.indexOf("Win 9x 4.90") > -1 || agent.indexOf("Windows NT 5.0") > -1
            || agent.indexOf("Windows NT 5.1") > -1 || agent.indexOf("Windows NT 5.2") > -1 || agent.indexOf("Windows NT 6.1") > -1)) {
            isLowSys = true;
        }

        //为了测试，写死isLowSys= true;
        //isLowSys = true;

        var passPortErrorCountUrl = 'passport.fang.com/GetLoginErrorCount.api';
        var passPortLoginUrl = 'passport.fang.com/login.api';
        if (isLowSys) {
            passPortErrorCountUrl = "http://" + passPortErrorCountUrl;
            passPortLoginUrl = "http://" + passPortLoginUrl;
        } else {
            passPortErrorCountUrl = "https://" + passPortErrorCountUrl;
            passPortLoginUrl = "https://" + passPortLoginUrl;
        }
        //获取登录失败次数
        function getLoginErrorCount() {
            var _sflm = _sflm || {};
            _sflm.callback = 'updateImgCodeDisplay';
            var str_username = $.trim($("#agentsy_C03_01").val());
            if (str_username == "请输入用户名")
                return;
            _sflm.nameId = escape(str_username);
            _sflm.loginurl = passPortErrorCountUrl;

            SFLogin.GetLoginErrorCount({ callback: _sflm.callback, nameId: _sflm.nameId, loginurl: _sflm.loginurl });
        };

        var isOnLineIP = 'True';
        $("#btnLogin").click(function () {
            var str_username = $.trim($("#agentsy_C03_01").val());
            var str_userpwd = $.trim($("#str_userpwd").val());

            if (!str_username || str_username.length <= 0) {
                $("#usererror").html("请输入您的用户名").show();
                return;
            } else if (str_username == "请输入用户名") {
                $("#usererror").html("请输入您的用户名").show();
                return;
            }
            if (!str_userpwd || str_userpwd.length <= 0) {
                $("#pwderror").html("请输入您的密码").show();
                ;
                return;
            }
            var imgCode = $.trim($("#str_imgcode").val());
            if (showFlag == 1) {

                if (!imgCode || imgCode.length <= 0) {
                    $("#imgCodeErrorTip").html("请输入验证码").show();
                    return;
                } else if (imgCode == "请输入验证码") {
                    $("#imgCodeErrorTip").html("请输入验证码").show();
                    return;
                }
            }

            if (isLowSys) {
                //使用http接口登陆
                unhttpsLogin(str_username, str_userpwd);
            } else {
                ////使用https接口登陆
                httpsLogin(str_username, str_userpwd);
            }
        });

        function unhttpsLogin(str_username, str_userpwd) {
            var uid = escape(str_username);
            var pwdEncrypt = cmdEncrypt(str_userpwd);
            var Service = "esf-agent-web";
            var backurl = "http://agent.fang.com/DealLoginAjaxNew.aspx";
            var vcode = $("#str_imgcode").val();
            if (vcode == "请输入验证码") vcode = "";
            login('frameLogin', uid, pwdEncrypt, Service, backurl, vcode, 1);
        }
        function httpsLogin(str_username, str_userpwd) {
            var Uid = escape(str_username);
            var Pwd = str_userpwd;
            var Service = "esf-agent-web";
            var backurl = 'http://agent.fang.com/DealLoginAjaxNew.aspx';
            var vcode = $("#str_imgcode").val();
            if (vcode == "请输入验证码") vcode = "";
            login('frameLogin', Uid, Pwd, Service, backurl, vcode, 0);
        }

        function login(fname, uid, pwd, service, backurl, vcode, rsa) {
            var subForm = document.getElementById("loginForm");
            var oldAction = subForm.action;
            var oldSubmit = subForm.onSubmit;
            var oldtarget = subForm.target;

            subForm.action = passPortLoginUrl + '?Uid=' + uid + '&Pwd=' + pwd + '&Service=' + service + '&vcode=' + vcode + '&Rsa=' + rsa + '&backurl=' + backurl;

            subForm.target = fname;
            subForm.method = "Post";
            subForm.submit();
            subForm.action = oldAction;
            subForm.onSubmit = oldSubmit;
            subForm.target = oldtarget;
        };
    </script>
    <script>
        (function ($) {
            var base_url = 'WeChatLogin.aspx';
            var expireFlag;  //timer句柄
            var imgArr = []; //图片数组
            var guid = "";  //二维码id
            var wechat_qrcode_url = "https://mp.weixin.qq.com/cgi-bin/showqrcode?ticket="; //微信wechat_qrcode_url
            var expireTime = '';

            var debounced_click = _.debounce(function () {
                if (expireFlag) {
                    clearInterval(expireFlag);
                }
                getQrCode();
            }, 200);

            $("#wechatlogin").click(function () {
                debounced_click();
            });

            $("#img-mask").click(function () {
                clearTimeout(expireFlag);
                $(this).hide();
                $("#wechatlogin").click();
            });
            //如果切换面饭非微信登陆，停止轮训查询
            $(".login-tab").click(function (e) {
                var self = $(this);
                var idx = self.index();

                if (idx != 1) {
                    if (expireFlag) {
                        clearInterval(expireFlag);
                    }
                }
            });

            //生成二维码
            function getQrCode() {

                //先用loading图替换二维码图片
                $("#weimg").attr('src', 'http://img.soufun.com/secondhouse/image/login/newlogin/loading.gif');
                $.getJSON(base_url, { action: 'getQrImg' }).success(function (data) {
                    if (!data || !data.res) {
                        return;
                    }
                    //加载二维码
                    $("#weimg").attr("src", wechat_qrcode_url + encodeURIComponent(data.res.ticket))
                    //保存过期时间
                    var now = parseInt(+new Date());
                    now += 1000 * parseInt(180);
                    expireTime = new Date(now);//失效时间
                    //保存二维码code
                    guid = data.res.code_id;
                    //轮询检测
                    expireFlag = setInterval(queryState, 5000);
                });
            }

            //查询上传图片
            function queryState() {
                var time = new Date();
                if (time > expireTime) {
                    $("#img-mask").show();
                    clearInterval(expireFlag);
                    return;
                }

                //$.getJSON(base_url, { action: 'queryState', uuid: guid }).success(function (data) {
                //    if (data.status != "success") {
                //        return;
                //    }
                //    if (data.state == 1) {
                //        //console.log("login success,redirecting...");
                //        clearInterval(expireFlag);
                //        location.href = base_url + "?action=suclogin&uuid=" + guid;
                //    }
                //});
                $.ajax({
                    type: "get",
                    url: "http://a.wap.soufun.com/WeChat/QueryState?uuid=" + guid,
                    dataType: "jsonp",
                    jsonp: 'callback',
                    jsonpCallback: "GetLoginState1",
                    data: "",
                    cache: false,
                    success: function (json) {
                        if (json.ManagerID == 0 || json.State == "false") {
                            return;
                        }
                        if (json.State == true) {
                            clearInterval(expireFlag);
                            location.href = base_url + "?action=suclogin&uuid=" + guid;
                        }
                    },
                    error: function (e) {
                        return;
                    }
                });

            }
        })(jQuery);
    </script>
    <!--用户行为收集埋码 搜房帮登陆页访问-->
    <script id="__vb" src="http://js.ub.fang.com/_vb.js?c=ehloansfb" type="text/javascript"></script>
    <script type="text/javascript" src="http://js.ub.fang.com/_ub.js?v=201407181100"></script>
    <script>
        _ub.city = '全国'; //所在城市（中文）（这个地方的城市取得是页面左上角那个地方的城市，）
        _ub.biz = 'e'; //二手房‘e’
        _ub.location = 0; //方位 ，网通为0，电信为1，如果无法获取方位，记录0
        _ub.collect(0, { 'vwg.page': 'ehloansfb' });//例如_ub.collect(0,{'vwe.key':'房产证'，‘vwe.city’：‘北京’})
    </script>
    


</body></html>