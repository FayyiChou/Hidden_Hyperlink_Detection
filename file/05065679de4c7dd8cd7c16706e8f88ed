<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'/>
<meta http-equiv='X-UA-Compatible' content='IE=edge' />
<meta name='viewport' content='width=device-width, initial-scale=1.0' />
<link rel='shortcut icon' href='button/xixi_pf-3m2_32x32.ico' type='image/x-icon' />
<link rel='icon' href='button/xixi_pf-3m_32x32.png' sizes='16x16 32x32' type='image/png' />
<link rel='apple-touch-icon' sizes='72x72' href='button/xixi_pf-3m_72x72.png' />
<link rel='apple-touch-icon' sizes='144x144' href='button/xixi_pf-3m_144x144.png' />
<link rel='stylesheet' href='wryb_styles.css' type='text/css' />
<script src='xOSC.js'></script>
<script>

ts = 0;
function initAnimatehd()
{
if ( ts !=0 )
{
clearTimeout(ts);    
ts = 0;
}
else
{    
animatePichd();
}
}

counthd = 0;
jsback = ['People', 'Urban', 'People', 'Industry'];

function animatePichd()
{
var bgpic = "button/Background_" + jsback[counthd] + ".jpg";
var topplt = document.getElementById("under");
topplt.setAttribute("src",bgpic);

counthd = counthd + 1;
if (counthd == jsback.length)
{
    counthd = 0;
}
 ts = setTimeout ("animatePichd()",10000);
}

</script>
<script>

scrollbarWidth = 0;
myWidth = 0;
myHeight = 0;
em2px = 0;
function resetFontSize() 
{
// Create the measurement node
var scrollDiv = document.createElement("div");
scrollDiv.className = "scrollbar-measure";
document.body.appendChild(scrollDiv);

// Get the scrollbar width
scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;

// Delete the DIV 
document.body.removeChild(scrollDiv);

  if( typeof( window.innerWidth ) == 'number' ) {
    //Non-IE
    myWidth = window.innerWidth;
    myHeight = window.innerHeight;
  } else if( document.documentElement && ( document.documentElement.clientWidth || document.documentElement.clientHeight ) ) {
    //IE 6+ in 'standards compliant mode'
    myWidth = document.documentElement.clientWidth;
    myHeight = document.documentElement.clientHeight;
  } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
    //IE 4 compatible
    myWidth = document.body.clientWidth;
    myHeight = document.body.clientHeight;
  }

myWidth = myWidth - scrollbarWidth;
// myHeight = myHeight - scrollbarWidth;

var repfz = Math.round ( 100*myWidth/1280 ); 
if (myWidth >= 1280 || myHeight >=1280 ) 
{ repfz = 100; em2px=16;}
else if (myWidth >= 800 || myHeight >= 800 )
{ repfz = 75; em2px=12;}
else if (myWidth >= 480 || myHeight>= 480 )
{ repfz = 50; em2px=8;}
else 
{ repfz = 25; em2px=4;}

repfz = repfz.toString()+'%';
  
document.body.style.fontSize=repfz;

//window.alert(repfz);

}


function resetHeight() 
{
var pxmyWidth = myWidth.toString()+'px';
var pxmyHeight = myHeight.toString()+'px';
  
document.getElementById('myheader').style.height=pxmyHeight;
document.getElementById('myheader').style.width=pxmyWidth; 
}

function setGlobe() 
{ 
var woverh = myWidth/myHeight; 

if( woverh > 1.77) 
{
var gheight = "88%";
var gwidth = "auto";

var rgwidth = Math.floor ( 50-0.5*100*myHeight*0.88*1.777778/myWidth );
rgwidth = rgwidth.toString()+'%';

document.getElementById('htop').style.height=gheight;
document.getElementById('htop').style.width=gwidth; 
document.getElementById('htop').style.left=rgwidth;
document.getElementById('htop').style.right=rgwidth;
//window.alert(rgwidth);
}
else
{
document.getElementById('htop').style.height="auto";
document.getElementById('htop').style.width="100%"; 
document.getElementById('htop').style.left="0%";
document.getElementById('htop').style.right="0%";     
//window.alert("auto");
}
//window.alert(woverh);
}

bmenu = " ";
function resetMargin(bmenu) 
{
var mymargin = " ";
if (myWidth >= 1280 ) 
{ mymargin = "0 10% 0 10%"; }
else if (myWidth >= 960 )
{ mymargin = "0 4% 0 4%";}
else if (myWidth >= 600 )
{ mymargin = "0 2% 0 2%";}
else if (myWidth >= 480 )
{ mymargin = "0 1% 0 1%";}
else
{ mymargin = "0 0 0 0";}
        
document.getElementById(bmenu).style.margin=mymargin;

}

cmenu = " ";
function resetWall(cmenu) 
{
var menuHeight = 0;
var wallHeight = 0;

if (document.getElementById('mymenu')) 
{
menuHeight = document.getElementById('mymenu').clientHeight; 
}

if (document.getElementById('hmenud')) 
{
menuHeight = document.getElementById('hmenud').clientHeight; 
menuHeight = menuHeight*8.5/3.0;
}

menuHeight = Math.round(menuHeight+ em2px*0.25 );

wallHeight = myHeight - menuHeight;
wallHeight = wallHeight.toString()+'px';
document.getElementById(cmenu).style.height=wallHeight;

//window.alert(wallHeight);
//window.alert(menuHeight); 
}

gmenu = " ";
function resetWallPrev(gmenu) 
{
var menuHeight = 0;
var wallHeight = 0;
var titleHeight = 0;

if (document.getElementById('mymenu')) 
{
menuHeight = document.getElementById('mymenu').clientHeight; 
}

if (document.getElementById('prevtitle')) 
{
titleHeight = document.getElementById('prevtitle').clientHeight; 
}

restHeight = Math.round(menuHeight + titleHeight +em2px*0.25 );

wallHeight = myHeight - restHeight;
wallHeight = wallHeight.toString()+'px';
document.getElementById(gmenu).style.height=wallHeight;

//window.alert(wallHeight);
//window.alert(restHeight); 
}

mtableRWidth = 0;
mtableRHeight = 0;
mplotWidth = 0;
mplotLeft = 0;
mplotHeight = 0;
mplotTop = 0;
mtableLWidth = 0;
mtableLHeight = 0;
function getMainWidths()  
{

var mainerHeight = document.getElementById('mainer').clientHeight;
var mainerWidth = document.getElementById('mainer').clientWidth;
var WoverH = mainerWidth/mainerHeight;

if ( WoverH >= 1.1475)
{
mplotHeight = 100;
mplotTop = 0;
mtableRHeight = 100;
mtableLHeight = 100;

var plotHeight= mainerHeight - 3.25*em2px;
var plotWidth=plotHeight*1.1475;
mplotWidth = 100*plotWidth/mainerWidth;

if ( WoverH >= 1.5)
{ mtableRWidth = 49 - mplotWidth/2;
  mtableLWidth = mtableRWidth;
  mplotLeft = mtableLWidth + 1;
}
else
{ mtableRWidth = 99 - mplotWidth;
  mtableLWidth = 0; mplotLeft = 0;
}
}
else
{
mplotWidth = 100;
mplotLeft = 0;
mtableRWidth = 100;
mtableLWidth = 100;

var plotWidth= mainerWidth;
var plotHeight=plotWidth/1.1475 + 3.25*em2px;
mplotHeight = 100*plotHeight/mainerHeight;    
if ( WoverH <= 0.66667)
{
  mtableRHeight = 49 - mplotHeight/2;
  mtableLHeight = mtableRHeight;
  mplotTop = mtableLHeight + 1;    
}
else
{
  mtableRHeight = 99 - mplotHeight;
  mtableLHeight = 0; mplotTop = 0;
}        
}
//window.alert(mplotWidth);
//window.alert(mtableRWidth);
//window.alert(mtableLWidth);
}

function resetPtitle()  
{
    if ( mplotWidth == 100) 
    {  
document.getElementById('pmtitle').style.width="100%";
document.getElementById('pmtitle').style.left="0";   
       
         }
}

function setMainPlot()  
{
var MainPlotHeight = mplotHeight.toString()+'%';
document.getElementById('mainplot').style.height=MainPlotHeight;
var MainPlotWidth = mplotWidth.toString()+'%';
document.getElementById('mainplot').style.width=MainPlotWidth;
var MainPlotTop = mplotTop.toString()+'%';
document.getElementById('mainplot').style.top=MainPlotTop;
var MainPlotLeft = mplotLeft.toString()+'%';
document.getElementById('mainplot').style.left=MainPlotLeft;    
}

function setMainTableR()  
{
var MainTableRHeight = mtableRHeight.toString()+'%';
document.getElementById('maintableR').style.height=MainTableRHeight;
var MainTableRWidth = mtableRWidth.toString()+'%';
document.getElementById('maintableR').style.width=MainTableRWidth;
}

function setRtb()  
{
if ( mtableRHeight < mtableRWidth )
{
document.getElementById('Rtop').style.top='0';
document.getElementById('Rtop').style.left='0';
document.getElementById('Rtop').style.right='50%';
document.getElementById('Rtop').style.bottom='0';
document.getElementById('Rbottom').style.top='0';
document.getElementById('Rbottom').style.left='50%';
document.getElementById('Rbottom').style.right='0';
document.getElementById('Rbottom').style.bottom='0';
var mainerWidth = document.getElementById('mainer').clientWidth;
//window.alert(mainerWidth);
if ( mtableRWidth == 100 && mainerWidth > 40*em2px )
{
document.getElementById('Rtopt').style.top='2em';
document.getElementById('Rtopt').style.left='0';
document.getElementById('Rtopt').style.right='70%';
document.getElementById('Rtopt').style.bottom='0';
document.getElementById('Rdprovcity').style.top='0';
document.getElementById('Rdprovcity').style.left='1em';
document.getElementById('Rdprovcity').style.right='0';
document.getElementById('Rdprovcity').style.bottom='0';
document.getElementById('Rtopb').style.top='1em';
document.getElementById('Rtopb').style.left='30%';
document.getElementById('Rtopb').style.right='0';
document.getElementById('Rtopb').style.bottom='0';
document.getElementById('Rbottomt').style.top='0';
document.getElementById('Rbottomt').style.left='0';
document.getElementById('Rbottomt').style.right='50%';
document.getElementById('Rbottomt').style.bottom='0';
document.getElementById('Rbottomb').style.top='0';
document.getElementById('Rbottomb').style.left='50%';
document.getElementById('Rbottomb').style.right='0';
document.getElementById('Rbottomb').style.bottom='0';
}
}
}

function setMainTableL()  
{
if ( mtableLHeight == 0 || mtableLWidth == 0 )
{
document.getElementById('maintableL').style.display='none';    
} 
var MainTableLHeight = mtableLHeight.toString()+'%';
document.getElementById('maintableL').style.height=MainTableLHeight;
var MainTableLWidth = mtableLWidth.toString()+'%';
document.getElementById('maintableL').style.width=MainTableLWidth;
}
 
function setLtb()  
{
if ( mtableLHeight < mtableLWidth )
{
document.getElementById('Ltop').style.top='0';
document.getElementById('Ltop').style.left='0';
document.getElementById('Ltop').style.right='50%';
document.getElementById('Ltop').style.bottom='0';
document.getElementById('Lbottom').style.top='0';
document.getElementById('Lbottom').style.left='50%';
document.getElementById('Lbottom').style.right='0';
document.getElementById('Lbottom').style.bottom='0';
var mainerWidth = document.getElementById('mainer').clientWidth;
//window.alert(mainerWidth);
if ( mtableLWidth ==100 && mainerWidth > 40*em2px )
{
document.getElementById('Ltopt').style.top='2em';
document.getElementById('Ltopt').style.left='0';
document.getElementById('Ltopt').style.right='70%';
document.getElementById('Ltopt').style.bottom='0';
document.getElementById('Ldprovcity').style.top='0';
document.getElementById('Ldprovcity').style.left='1em';
document.getElementById('Ldprovcity').style.right='0';
document.getElementById('Ldprovcity').style.bottom='0';
document.getElementById('Ltopb').style.top='1em';
document.getElementById('Ltopb').style.left='30%';
document.getElementById('Ltopb').style.right='0';
document.getElementById('Ltopb').style.bottom='0';
document.getElementById('Lbottomt').style.top='0';
document.getElementById('Lbottomt').style.left='0';
document.getElementById('Lbottomt').style.right='50%';
document.getElementById('Lbottomt').style.bottom='0';
document.getElementById('Lbottomb').style.top='0';
document.getElementById('Lbottomb').style.left='50%';
document.getElementById('Lbottomb').style.right='0';
document.getElementById('Lbottomb').style.bottom='0';
}
}
}               

esideWidth = 0;
esideHeight = 0;
splotWidth = 0;
splotTop = 0;
oplotWidth = 0;
oplotRight = 0;
function getMainEval()  
{

var mainerHeight = document.getElementById('maineval').clientHeight;
var mainerWidth = document.getElementById('maineval').clientWidth;
var WoverH = mainerWidth/mainerHeight;

//window.alert(WoverH);

if ( WoverH >= 1.1475)
{
esideWidth = em2px;
var plotHeight= Math.round(mainerWidth/(1.1475+1.5));
esideHeight=plotHeight;
splotHeight=plotHeight;
splotWidth=Math.round(splotHeight*1.1475);
oplotHeight=plotHeight;
//oplotWidth=Math.round((oplotHeight-2*em2px)*1.5);
oplotWidth=mainerWidth-splotWidth-3*em2px
}
else
{
esideHeight = em2px;
esideWidth=mainerWidth;
splotWidth=mainerWidth;
splotHeight=Math.round(splotWidth/1.1475);
oplotWidth=mainerWidth;
oplotHeight=Math.round(oplotWidth/1.5+2*em2px);
var plotHeight=splotHeight+oplotHeight+esideHeight;
resetEtitle();
}
plotHeight=plotHeight.toString()+'px';

document.getElementById('wrapeval').style.height=plotHeight
document.getElementById('maineval').style.height=plotHeight

//window.alert(mainerWidth);
//window.alert(myWidth);
//window.alert(splotWidth);
//window.alert(oplotWidth);
//window.alert(em2px);

}

function resetEtitle()  
{
    
document.getElementById('evtitle').style.width="100%";
document.getElementById('evtitle').style.left="0";   
  
        
}

function resetAbout()  
{

//window.alert(myWidth);

if (myWidth >= 1280 )
{ 
document.getElementById('mainabout').style.width="64%";
document.getElementById('mainabout').style.margin="0 18% 0 18%";   
}
else if (myWidth >= 960 )
{ 
document.getElementById('mainabout').style.width="80%";
document.getElementById('mainabout').style.margin="0 10% 0 10%";   
}
else if (myWidth >= 600 )
{ 
document.getElementById('mainabout').style.width="90%";
document.getElementById('mainabout').style.margin="0 5% 0 5%";   
}
else if (myWidth >= 480 )
{ 
document.getElementById('mainabout').style.width="96%";
document.getElementById('mainabout').style.margin="0 2% 0 2%";   
}
else 
{
document.getElementById('mainabout').style.width="100%";
document.getElementById('mainabout').style.margin="0";        
}

}

cside=" ";
function setSide(cside)  
{
var sideHeight = Math.round(esideHeight);
var sideWidth = Math.round(esideWidth);
sideHeight = sideHeight.toString()+'px';
sideWidth = sideWidth.toString()+'px';

if ( esideHeight == em2px)
{

if ( cside == 'mainsideC' )
{
document.getElementById(cside).style.height=sideHeight;
document.getElementById(cside).style.width=sideWidth;    
}
  
else
{   
document.getElementById(cside).style.display='none';    
} 

}
else
{
document.getElementById(cside).style.height=sideHeight;
document.getElementById(cside).style.width=sideWidth;    
}

}

amenu = " ";
aheight = "8.5em";
function resetWidth(amenu, aheight) 
{
var pxmyWidth = myWidth.toString()+'px';
//var pxmyHeight = myHeight.toString()+'px';
var pxmyHeight = aheight
      
document.getElementById(amenu).style.height=pxmyHeight;
document.getElementById(amenu).style.width=pxmyWidth; 
}

fmenu = " ";
function setFontSize(fmenu) 
{
var plotWidth = document.getElementById(fmenu).clientWidth;
//window.alert(plotWidth);
//window.alert(em2px);

if (plotWidth < 40*em2px)
{
var ratioWidth = 0.75*plotWidth/(40*em2px);
var ratioFont = ratioWidth.toString()+'em';    
document.getElementById(fmenu).style.fontSize=ratioFont;
//window.alert(ratioFont);
}
if (plotWidth <=480)
{ 
var ratioFont = '0.5em';    
document.getElementById(fmenu).style.fontSize=ratioFont;
//window.alert(ratioFont);    
}
if (plotWidth <=320)
{ 
var ratioFont = '0.25em';    
document.getElementById(fmenu).style.fontSize=ratioFont;
//window.alert(ratioFont);    
}
} 

function setPlotSize() 
{
var plotHeight = document.getElementById('mainplot').clientHeight;
var plotWidth = document.getElementById('mainplot').clientWidth;
plotHeight = Math.round(plotHeight - 3.25*em2px);

plotWidth = plotWidth.toString()+'px';
plotHeight = plotHeight.toString()+'px';

//window.alert(plotWidth)
//window.alert(plotHeight)
    
document.getElementById('imgnation').style.height=plotHeight;
document.getElementById('imgnation').style.width=plotWidth; 
}

function setSplot() 
{
var plotWidth = splotWidth.toString()+'px';
var plotHeight = splotHeight.toString()+'px';

//window.alert(plotWidth)
//window.alert(plotHeight)
    
document.getElementById('simnation').style.height=plotHeight;
document.getElementById('simnation').style.width=plotWidth; 

}

function setOplot() 
{
var plotWidth = oplotWidth.toString()+'px';
var plotHeight = oplotHeight.toString()+'px';

//window.alert(plotWidth)
//window.alert(plotHeight)
    
document.getElementById('obsnation').style.height=plotHeight;
document.getElementById('obsnation').style.width=plotWidth; 

}

function setImgOplot() 
{
var plotWidth = oplotWidth.toString()+'px';
var plotHeight = oplotHeight-2*em2px
    plotHeight = plotHeight.toString()+'px';

//window.alert(plotWidth)
//window.alert(plotHeight)
    
document.getElementById('divobsjczz').style.height=plotHeight;
document.getElementById('divobsjczz').style.width=plotWidth; 
}

</script>

<title>矮马预报 - 预报五天空气质量</title>
</head>
<body onresize='window.location.href = window.location.href'>
<script>
resetFontSize(); 
</script>
<div id='hmymenu'>
<script>
resetMargin('hmymenu'); 
</script>
<div id='mlogo'><a href='index.php?movie=yes'><img id='logom' src='button/LOGO-wryb-BW_333x100.png' onMouseOver=src='button/LOGO-wryb_333x100_shadow.png' onMouseOut=src='button/LOGO-wryb-BW_333x100.png'></a></div><!--[if lte IE 9]><span id='lteie9'>您正在使用IE9或以下版本，建议您使用IE最新版本！</span><![endif]-->
<div id='mmenud'><ul id='mmenu'><li id='mabout' class='mbutton'><a href='wryb_about.php?movie=no'>关于矮马预报</a></li><li id='mindex' class='mbutton'><a href='index.php?movie=no'>最新发布</a></li><li id='mprev' class='mbutton'><a href='wryb_prev.php?movie=no'>近期回顾</a></li><li id='meval' class='mbutton'><a href='wryb_eval.php?movie=no'>历史评估</a></li><li id='mqa' class='mbutton'><a href='wryb_qa.php?movie=no'>答疑解惑</a></li><li id='mservice' class='mbutton'><a href='wryb_service.php?movie=no'>我们的服务</a></li><li id='maima' class='mbutton'><a href='blog/index.php'>矮马博客</a></li></ul></div>
<div id='mgarnish'></div>
</div>
<script>
var page = window.location.href;
page = page.substr((page.lastIndexOf('/') + 1));
page = page.split('.');
page = page[0];
//At this point you will have the current page only with no extension or query paramaters
//I.E. "About Us"
page = page.toUpperCase();
//This accounts for upper or lower casing of urls by browsers.
switch(page) {
    case "WRYB_ABOUT":
    document.getElementById("mabout").style.backgroundColor="#AE7428";
    break;
    case "INDEX":
    document.getElementById("mindex").style.backgroundColor="#AE7428";
    break;
    case "WRYB_PREV":
    document.getElementById("mprev").style.backgroundColor="#AE7428";
    break;
    case "WRYB_EVAL":
    document.getElementById("meval").style.backgroundColor="#AE7428";
    break;
    case "WRYB_QA":
    document.getElementById("mqa").style.backgroundColor="#AE7428";
    break;
    case "WRYB_SERVICE":
    document.getElementById("mservice").style.backgroundColor="#AE7428";
    break;    
}
</script>
<div id='myheader'>
<script>
resetHeight(); 
</script>
<span id='hlogo'><a href='index.php?movie=yes'><img id='logom' src='button/aima_darkgray_144x144.png' onMouseOver=src='button/xixi_pf-3m_144x144.png' onMouseOut=src='button/aima_darkgray_144x144.png'></a></span>
<div id='hmenud'><ul id='hmenu'><li><a href='wryb_about.php?movie=no'>关于矮马预报</a></li><li><a href='index.php?movie=no'>最新发布</a></li><li><a href='wryb_prev.php?movie=no'>近期回顾</a></li><li><a href='wryb_eval.php?movie=no'>历史评估</a></li><li><a href='wryb_qa.php?movie=no'>答疑解惑</a></li><li><a href='wryb_service.php?movie=no'>我们的服务</a></li><li><a href='blog/index.php'>矮马博客</a></li></ul></div><!--[if lte IE 9]>
<span id='lteie92'>您正在使用IE9或以下版本，建议您使用IE最新版本！</span><![endif]-->
<img id='under' src='button/Background_People.jpg' alt='不要这样' >
<span id='htop'>
<script>setGlobe();</script>
<img id='top' src='button/Header_Top.png' alt='为了我们的蓝天' >
</span>
<span id='harrow'><a href='index.php?movie=no'><img id='arrow' src='button/Arrow_149x90.png'></a></span>
<script>

document.onscroll = function()
{
    var xScroll, yScroll;
    if (self.pageYOffset) {
      yScroll = self.pageYOffset;
      xScroll = self.pageXOffset;
    } else if (document.documentElement && document.documentElement.scrollTop) {
      yScroll = document.documentElement.scrollTop;
      xScroll = document.documentElement.scrollLeft;
    } else if (document.body) {// all other Explorers
      yScroll = document.body.scrollTop;
      xScroll = document.body.scrollLeft;
    }
    var pagescrol=yScroll/myHeight;

        if (pagescrol > 0.7) 
    {
document.getElementById('hmymenu').style.display='block';
document.getElementById('myheader').style.display='none'; 
   }

//    if (pagescrol < 0.1) 
//    {
//document.getElementById('hmymenu').style.display='none';
//document.getElementById('myheader').style.display='block'; 
//   }   

// for fixed hmymenu
//      if (pagescrol > 0.08) 
//    {
//document.getElementById('hmymenu').style.display='block';
//    }
//      if (pagescrol < 0.08) 
//    {
//document.getElementById('hmymenu').style.display='none';
//    }

}

</script>
</div>
<script>
RO3 = new Array();
RPM25 = new Array();
RAQI = new Array();
RPRIMARY = new Array();
RVIS = new Array();
RRH = new Array();
RRAIN = new Array();
RPBL = new Array();
RHTEMP = new Array();
RLTEMP = new Array();
RWSPD = new Array();
RWDIR = new Array();    
</script>
<script>
LO3 = new Array();
LPM25 = new Array();
LAQI = new Array();
LPRIMARY = new Array();
LVIS = new Array();
LRH = new Array();
LRAIN = new Array();
LPBL = new Array();
LHTEMP = new Array();
LLTEMP = new Array();
LWSPD = new Array();
LWDIR = new Array();    
</script>
<style type="text/css">

.ds_box {
	background-color: #FFF;
	border: thin inset #3590EF;
	position: absolute;
	z-index: 32767;
}

.ds_tbl {
	background-color: #FFF;
}

.ds_head {
	/*background-color: #333;*/
	color: #FFF;
	font-family: Arial, Helvetica, sans-serif;
	font-size: 13px;
	font-weight: bold;
	text-align: center;
	letter-spacing: 2px;
        background-color: #3590FF;
        }

.ds_subhead {
	background-color: #CCC;
	color: #000;
	font-size: 12px;
	font-weight: bold;
	text-align: center;
	font-family: Arial, Helvetica, sans-serif;
	width: 32px;
}

.ds_cell {
	background-color: #EEE;
	color: #000;
	font-size: 13px;
	text-align: center;
	font-family: Arial, Helvetica, sans-serif;
	padding: 5px;
	cursor: pointer;
}

.ds_cell:hover {
	background-color: #F3F3F3;
} /* This hover code won't work for IE */


</style>

<table class="ds_box" cellpadding="0" cellspacing="0" id="ds_conclass" style="display: none;">
<tr><td id="ds_calclass">
</td></tr>
</table>


<script>

cprovince = ["北京","天津","河北","山西","内蒙古","辽宁","吉林","黑龙江","上海","江苏","浙江","安徽","福建","江西","山东","河南","湖北","湖南","广东","广西","海南","重庆","四川","贵州","云南","西藏","陕西","甘肃","青海","宁夏","新疆","台湾","香港","澳门"];
eprovince = ["Beijing","Tianjin","Hebei","Shanxi","Neimeng","Liaoning","Jilin","Heilongjiang","Shanghai","Jiangsu","Zhejiang","Anhui","Fujian","Jiangxi","Shandong","Henan","Hubei","Hunan","Guangdong","Guangxi","Hainan","Chongqing","Sichuan","Guizhou","Yunan","Xizang","Shangxi","Gansu","Qinghai","Ningxia","Xinjiang","Taiwan","Xianggang","Aomen"];


cprovs = {"北京": [ ],
          "天津": [ ],
          "河北": ["石家庄","唐山","秦皇岛","邯郸","邢台","保定","张家口","承德","沧州","廊坊","衡水"],
          "山西": ["太原","大同","阳泉","长治","临汾"],
          "内蒙古": ["呼和浩特","包头","赤峰","鄂尔多斯"],
          "辽宁": ["沈阳","大连","鞍山","抚顺","本溪","丹东","锦州","营口","辽阳","盘锦","葫芦岛"],
          "吉林": ["长春","吉林"],
          "黑龙江": ["哈尔滨","齐齐哈尔","大庆","牡丹江"],
          "上海": [ ],
          "江苏": ["南京","无锡","徐州","常州","苏州","南通","连云港","淮安","盐城","扬州","镇江","泰州","宿迁"],
          "浙江": ["杭州","宁波","温州","嘉兴","湖州","绍兴","金华","衢州","舟山","台州","丽水"],
          "安徽": ["合肥","芜湖","马鞍山","黄山"],
          "福建": ["福州","厦门","泉州"],
          "江西": ["南昌","景德镇","九江"],
          "山东": ["济南","青岛","淄博","枣庄","东营","烟台","潍坊","威海","济宁","泰安","日照","莱芜","临沂","德州","聊城","滨州","菏泽"],
          "河南": ["郑州","开封","洛阳","平顶山","安阳","焦作","三门峡"],
          "湖北": ["武汉","荆州","宜昌","恩施"],
          "湖南": ["长沙","株洲","湘潭","岳阳","常德","张家界"],
          "广东": ["广州","深圳","珠海","汕头","韶关","佛山","江门","湛江","茂名","肇庆","惠州","梅州","汕尾","河源","阳江","清远","东莞","中山","潮州","揭阳","云浮"],
          "广西": ["南宁","柳州","桂林","北海"],
          "海南": ["海口","三亚","三沙"],
          "重庆": [ ],
          "四川": ["成都","自贡","攀枝花","泸州","德阳","绵阳","南充","宜宾"],
          "贵州": ["贵阳","遵义"],
          "云南": ["昆明","大理","曲靖","玉溪"],
          "西藏": ["拉萨"],
          "陕西": ["西安","铜川","宝鸡","咸阳","渭南","延安"],
          "甘肃": ["兰州","嘉峪关","金昌"],
          "青海": ["西宁"],
          "宁夏": ["银川","石嘴山"],
          "新疆": ["乌鲁木齐","克拉玛依","库尔勒"],
          "台湾": ["台北","高雄"],
          "香港": [ ],
          "澳门": [ ]};

eprovs = {"Beijing": ["Beijing"],
          "Tianjin": ["Tianjin"],
          "Hebei": ["Shijiazhuang","Tangshan","Qinhuangdao","Handan","Xingtai","Baoding","Zhangjiakou","Chengde","Cangzhou","Langfang","Hengshui"],
          "Shanxi": ["Taiyuan","Datong","Yangquan","Changzhi","Linfen"],
          "Neimeng": ["Huhehaote","Baotou","Chifeng","Ordos"],
          "Liaoning": ["Shenyang","Dalian","Anshan","Fushun","Benxi","Dandong","Jinzhou","Yingkou","Liaoyang","Panjin","Huludao"],
          "Jilin": ["Changchun","Jilin"],
          "Heilongjiang": ["Haerbin","Qiqihaer","Daqing","Mudanjiang"],
          "Shanghai": ["Shanghai"],
          "Jiangsu": ["Nanjing","Wuxi","Xuzhou","Changzhou","Suzhou","Nantong","Lianyungang","Huaian","Yancheng","Yangzhou","Zhenjiang","Taizhou","Suqian"],
          "Zhejiang": ["Hangzhou","Ningbo","Wenzhou","Jiaxing","Huzhou","Shaoxing","Jinhua","Quzhou","Zhoushan","Taizzhou","Lishui"],
          "Anhui": ["Hefei","Wuhu","Maanshan","Huangshan"],
          "Fujian": ["Fuzhou","Xiamen","Quanzhou"],
          "Jiangxi": ["Nanchang","Jingdezhen","Jiujiang"],
          "Shandong": ["Jinan","Qingdao","Zibo","Zaozhuang","Dongying","Yantai","Weifang","Weihai","Jining","Taian","Rizhao","Laiwu","Linyi","Dezhou","Liaocheng","Binzhou","Heze"],
          "Henan": ["Zhengzhou","Kaifeng","Luoyang","Pingdingshan","Anyang","Jiaozuo","Sanmenxia"],
          "Hubei": ["Wuhan","Jingzhou","Yichang","Enshi"],
          "Hunan": ["Changsha","Zhuzhou","Xiangtan","Yueyang","Changde","Zhangjiajie"],
          "Guangdong": ["Guangzhou","Shenzhen","Zhuhai","Shantou","Shaoguan","Foshan","Jiangmen","Zhanjiang","Maoming","Zhaoqing","Huizhou","Meizhou","Shanwei","Heyuan","Yangjiang","Qingyuan","Dongguan","Zhongshan","Chaozhou","Jieyang","Yunfu"],
          "Guangxi": ["Nanning","Liuzhou","Guilin","Beihai"],
          "Hainan": ["Haikou","Sanya","Sansha"],
          "Chongqing": ["Chongqing"],
          "Sichuan": ["Chengdu","Zigong","Panzhihua","Luzhou","Deyang","Mianyang","Nanchong","Yibin"],
          "Guizhou": ["Guiyang","Zunyi"],
          "Yunan": ["Kunming","Dali","Qujing","Yuxi"],
          "Xizang": ["Lhasa"],
          "Shangxi": ["Xian","Tongchuan","Baoji","Xianyang","Weinan","Yanan"],
          "Gansu": ["Lanzhou","Jiayuguan","Jinchang"],
          "Qinghai": ["Xining"],
          "Ningxia": ["Yinchuan","Shizuishan"],
          "Xinjiang": ["Wulumuqi","Karamay","Kuerle"],
          "Taiwan": ["Taipei","Kaohsiung"],
          "Xianggang": ["HongKong"],
          "Aomen": ["Macao"]};

// Code begin...

// Get Element By Id
function ds_getel(id) {
	return document.getElementById(id);
}

// Get the left and the top of the element.
function ds_getleft(el) {
	var tmp = el.offsetLeft;
	el = el.offsetParent
	while(el) {
		tmp += el.offsetLeft;
		el = el.offsetParent;
	}
	return tmp;
}
function ds_gettop(el) {
	var tmp = el.offsetTop;
	el = el.offsetParent
	while(el) {
		tmp += el.offsetTop;
		el = el.offsetParent;
	}
	return tmp;
}

// Output Element
var ds_oe = ds_getel('ds_calclass');
// Container
var ds_ce = ds_getel('ds_conclass');

// Output Buffering
var ds_ob = ''; 
function ds_ob_clean() {
	ds_ob = '';
}
function ds_ob_flush() {
	ds_oe.innerHTML = ds_ob;
	ds_ob_clean();
}
function ds_echo(t) {
	ds_ob += t;
}

var ds_element; // Text Element...
var RL;

// Calendar-like table template
function ds_template_main_above_provs(t) {
	return '<table cellpadding="3" cellspacing="3" class="ds_tbl">'
	     + '<tr>'
		 + '<td class="ds_head" colspan="3">' + t + '</td>'
		 + '<td class="ds_head" style="cursor: pointer" onclick="ds_hi();" colspan="2">[关闭]</td>'
		 + '</tr>'
	     + '<tr>';
}

// Calendar-like table template
function ds_template_main_above_city(t) {
        //var maxlength = 
        return '<table cellpadding="3" cellspacing="4" class="ds_tbl">'
	     + '<tr>'
		 + '<td class="ds_head" colspan="3">' + t + '</td>'
		 + '<td class="ds_head" style="cursor: pointer" onclick="ds_draw_calendar_provs();" colspan="2">[返回]</td>'
		 + '</tr>'
	     + '<tr>';
}

function ds_template_new_week() {
	return '</tr><tr>';
}

function ds_template_blank_cell(colspan) {
	return '<td colspan="' + colspan + '"></td>'
}

function ds_template_city(d,c) {
        return '<td class="ds_cell" onclick="ds_onclick(\'' + d + '\', \'' + c + '\')">' + c + '</td>';
	// Define width the day row.
}

function ds_template_provs(d) {
if (cprovs[d].length > 0) { 
return '<td class="ds_cell" onclick="ds_draw_calendar_city(\'' + d + '\')">' + d + '</td>';
}
else {
return '<td class="ds_cell" onclick="ds_onclick(\'' + d + '\')">' + d + '</td>';
}
}

function ds_template_main_below() {
	return '</tr>'
	     + '</table>';
}

// This one draws calendar-like table ...
function ds_draw_calendar_provs( ) {
	// First clean the output buffer.
	ds_ob_clean();
	// Here we go, do the header
        ds_echo (ds_template_main_above_provs('全国'));
        
	// If sunday is not the first day of the month, make a blank cell...
	var j = 0;
	for ( var key in cprovs) {
		if (j == 0 ) {
			// New week!!
			ds_echo (ds_template_new_week());
		}
		// Make a row !
		ds_echo (ds_template_provs(key));
		j ++;
		j %= 5;
	}
	// Do the footer
	ds_echo (ds_template_main_below());
	// And let's display..
	ds_ob_flush();
	// Scroll it into view.
	//ds_ce.scrollIntoView();
}

// This one draws calendar-like table ...
function ds_draw_calendar_city(d) {
	// First clean the output buffer.
	ds_ob_clean();
	// Here we go, do the header
        ds_echo (ds_template_main_above_city(d));
        
	// If sunday is not the first day of the month, make a blank cell...
	var j = 0;
        var cities = cprovs[d];
	for ( var i = 0; i < cities.length; i++ ) {
               var c = cities[i];
		if (j == 0 ) {
			// New week!!
			ds_echo (ds_template_new_week());
		}
		// Make a row !
		ds_echo (ds_template_city(d,c));
		j ++;
		j %= 5;
	}
	// Do the footer
	ds_echo (ds_template_main_below());
	// And let's display..
	ds_ob_flush();
	// Scroll it into view.
	//ds_ce.scrollIntoView();
}

// A function to show the calendar.
// When user click on the date, it will set the content of t.
function ds_sh(t, rl) {
	// Set the element to set...
	ds_element = t;
        RL = rl;
	// Draw a calendar-like tabel for provinces
	ds_draw_calendar_provs( );
	// To change the position properly, we must show it first.
	ds_ce.style.display = '';
	// Move the calendar container!
	the_left = ds_getleft(t);
	the_top = ds_gettop(t) + t.offsetHeight;
	ds_ce.style.left = the_left + 'px';
	ds_ce.style.top = the_top + 'px';
	// Scroll it into view.
	//ds_ce.scrollIntoView();
}

// Hide the calendar.
function ds_hi() {
	ds_ce.style.display = 'none';
}

// When the user clicks the city.
function ds_onclick(d, c) {
	// Hide the calendar.
	ds_hi();
	// Set the value of it, if we can.
//window.alert(d);
//window.alert(c);
var indx = cprovince.indexOf(d);
var m = eprovince[indx];
if (cprovs[d].length > 0) { 
var indxc = cprovs[d].indexOf(c);
var y = eprovs[m][indxc];
var dc = d + ' ' + c;
}
else {
var y = eprovs[m][0];
var dc = d;
}        
	
        if (typeof(ds_element.value) != 'undefined') {
		ds_element.value = dc;
       	// Maybe we want to set the HTML in it.
	} 
        else if (typeof(ds_element.innerHTML) != 'undefined') {
	ds_element.innerHTML = dc;
        //window.alert(m);
        //window.alert(y);
        //window.alert(jscycle);
        //window.alert(RL);        
        // here is the AJAX kicks in for updating the table using m and y. plus R or L, and jscycle.        
    params  = "rdcity=" + m + "," + y + "," + jscycle
    request = new ajaxRequest()
    request.open("POST", "wryb_rdcity.php", true)
    request.setRequestHeader("Content-type", "application/x-www-form-urlencoded")
    request.setRequestHeader("Content-length", params.length)
    request.setRequestHeader("Connection", "close")
    
    request.onreadystatechange = function()
    {
        if (this.readyState == 4 && this.status == 200 && this.responseText != null)
    {  
         ds_element.innerHTML = dc; 
         //var cityvalues = JSON.stringify(JSON.parse(this.responseText));
         //window.alert (cityvalues);
         var cityvalues = JSON.parse(this.responseText);
            
                    if (RL == "R" ) {
                    RO3 = cityvalues["O3"];
                    RPM25 = cityvalues["PM25"];
                    RAQI = cityvalues["AQI"];
                    RPRIMARY = cityvalues["PRIMARY"];
                    RVIS = cityvalues["VIS"];
                    RRH = cityvalues["RH"];
                    RRAIN = cityvalues["RAIN"];
                    RPBL = cityvalues["PBL"];
                    RHTEMP = cityvalues["HTEMP"];
                    RLTEMP = cityvalues["LTEMP"];
                    RWSPD = cityvalues["WSPD"];
                    RWDIR = cityvalues["WDIR"];                    
                    initTableR(0);
                    };
                    if (RL == "L" ) {
                    LO3 = cityvalues["O3"];
                    LPM25 = cityvalues["PM25"];
                    LAQI = cityvalues["AQI"];
                    LPRIMARY = cityvalues["PRIMARY"];
                    LVIS = cityvalues["VIS"];
                    LRH = cityvalues["RH"];
                    LRAIN = cityvalues["RAIN"];
                    LPBL = cityvalues["PBL"];
                    LHTEMP = cityvalues["HTEMP"];
                    LLTEMP = cityvalues["LTEMP"];
                    LWSPD = cityvalues["WSPD"];
                    LWDIR = cityvalues["WDIR"];                                                 
                    initTableL(0);
                    };
      }                                            
    }
    request.send(params)
}
    // I don't know how should we display it, just alert it to user.
	else {alert (d, c);}
}

function ajaxRequest()
{
    try { var request = new XMLHttpRequest() }
    catch(e1) {
        try { request = new ActiveXObject("Msxml2.XMLHTTP") }
        catch(e2) {
            try { request = new ActiveXObject("Microsoft.XMLHTTP") }
            catch(e3) {
                request = false
    }   }   }
    return request
}


// And here is the end.

</script>
<script>
LO3.push(Math.round(60.082));
LPM25.push(Math.round(27.861));
LAQI.push(78);
LPRIMARY.push(String("NO2"));
LVIS.push(22.000);
LRH.push(Math.round(78.750));
LRAIN.push(Math.round(2.914));
LPBL.push(Math.round(1009.508));
LHTEMP.push(Math.round(27.178));
LLTEMP.push(Math.round(21.910));
LWSPD.push(Math.round(5.182));
LWDIR.push(String("N"));
</script>
<script>
LO3.push(Math.round(76.676));
LPM25.push(Math.round(27.229));
LAQI.push(78);
LPRIMARY.push(String("NO2"));
LVIS.push(19.000);
LRH.push(Math.round(78.223));
LRAIN.push(Math.round(4.127));
LPBL.push(Math.round(1344.782));
LHTEMP.push(Math.round(27.391));
LLTEMP.push(Math.round(21.206));
LWSPD.push(Math.round(5.972));
LWDIR.push(String("NNW"));
</script>
<script>
LO3.push(Math.round(66.622));
LPM25.push(Math.round(27.006));
LAQI.push(84);
LPRIMARY.push(String("NO2"));
LVIS.push(19.000);
LRH.push(Math.round(72.407));
LRAIN.push(Math.round(0.559));
LPBL.push(Math.round(1621.724));
LHTEMP.push(Math.round(26.972));
LLTEMP.push(Math.round(18.780));
LWSPD.push(Math.round(4.168));
LWDIR.push(String("NNW"));
</script>
<script>
LO3.push(Math.round(71.451));
LPM25.push(Math.round(33.618));
LAQI.push(93);
LPRIMARY.push(String("NO2"));
LVIS.push(18.000);
LRH.push(Math.round(61.650));
LRAIN.push(Math.round(0.001));
LPBL.push(Math.round(1790.734));
LHTEMP.push(Math.round(27.067));
LLTEMP.push(Math.round(19.400));
LWSPD.push(Math.round(2.718));
LWDIR.push(String("N"));
</script>
<script>
LO3.push(Math.round(78.037));
LPM25.push(Math.round(49.504));
LAQI.push(102);
LPRIMARY.push(String("NO2"));
LVIS.push(10.000);
LRH.push(Math.round(61.152));
LRAIN.push(Math.round(0.000));
LPBL.push(Math.round(1637.457));
LHTEMP.push(Math.round(27.536));
LLTEMP.push(Math.round(19.353));
LWSPD.push(Math.round(2.106));
LWDIR.push(String("N"));
</script>
<script>
RO3.push(Math.round(50.145));
RPM25.push(Math.round(31.952));
RAQI.push(80);
RPRIMARY.push(String("NO2"));
RVIS.push(16.000);
RRH.push(Math.round(60.301));
RRAIN.push(Math.round(0.404));
RPBL.push(Math.round(1326.239));
RHTEMP.push(Math.round(22.159));
RLTEMP.push(Math.round(17.808));
RWSPD.push(Math.round(2.222));
RWDIR.push(String("NNE"));
</script>
<script>
RO3.push(Math.round(74.592));
RPM25.push(Math.round(32.505));
RAQI.push(75);
RPRIMARY.push(String("NO2"));
RVIS.push(14.000);
RRH.push(Math.round(41.177));
RRAIN.push(Math.round(0.000));
RPBL.push(Math.round(1987.620));
RHTEMP.push(Math.round(24.717));
RLTEMP.push(Math.round(15.509));
RWSPD.push(Math.round(2.213));
RWDIR.push(String("NNE"));
</script>
<script>
RO3.push(Math.round(47.214));
RPM25.push(Math.round(39.940));
RAQI.push(95);
RPRIMARY.push(String("NO2"));
RVIS.push(14.000);
RRH.push(Math.round(35.418));
RRAIN.push(Math.round(0.000));
RPBL.push(Math.round(2237.941));
RHTEMP.push(Math.round(26.535));
RLTEMP.push(Math.round(15.507));
RWSPD.push(Math.round(1.521));
RWDIR.push(String("NNW"));
</script>
<script>
RO3.push(Math.round(79.059));
RPM25.push(Math.round(79.149));
RAQI.push(108);
RPRIMARY.push(String("NO2"));
RVIS.push(10.000);
RRH.push(Math.round(38.036));
RRAIN.push(Math.round(0.000));
RPBL.push(Math.round(1775.726));
RHTEMP.push(Math.round(28.062));
RLTEMP.push(Math.round(16.837));
RWSPD.push(Math.round(2.672));
RWDIR.push(String("S"));
</script>
<script>
RO3.push(Math.round(73.155));
RPM25.push(Math.round(117.261));
RAQI.push(154);
RPRIMARY.push(String("PM25"));
RVIS.push(5.000);
RRH.push(Math.round(44.819));
RRAIN.push(Math.round(3.583));
RPBL.push(Math.round(2317.018));
RHTEMP.push(Math.round(30.225));
RLTEMP.push(Math.round(18.627));
RWSPD.push(Math.round(1.668));
RWDIR.push(String("S"));
</script>
<script>jscycle=20160917; jsdays=new Array();jsdays.push(20160918);jsdays.push(20160919);jsdays.push(20160920);jsdays.push(20160921);jsdays.push(20160922);
</script>
<script>
jsmaps = ['grid', 'city'];
jspols = ['AQI', 'max8hrO3', 'PM2.5'];
jspnames = ['aqi', 'o3', 'pm25'];
jsregs = ['tile', 'tilejjj', 'tilecsj','tilezsj', 'tilecy'];

jmap = jsmaps[0];
jpol = jspols[0];
jreg = jsregs[0];
jdate = jsdays[1];

function swapPicDay(jitem)
{
jdate = Number(jitem);    
var pic = "plot/" + jscycle + "/wryb_" + jmap + "_" + jreg + "." + jscycle + "." + jpol + "." + jdate + ".png";
var plt = document.getElementById("nation");
plt.setAttribute("src",pic);

var indx = jsdays.indexOf(jdate);
var k=0;
for ( k =0; k < jsdays.length; ++k)
{
var kdate = jsdays[k];
if ( k != indx) 
{
var buttonid = document.getElementById(kdate); 
buttonid.style.backgroundColor="#FFF";        
buttonid.getElementsByTagName("a")[0].style.color="#352A2D";    
}
else
{
var buttonid = document.getElementById(kdate); 
buttonid.style.backgroundColor="#AE7428";        
buttonid.getElementsByTagName("a")[0].style.color="#F5F5F5";
}
}

}

function swapPicReg(jitem)
{
jreg = jitem;    
var pic = "plot/" + jscycle + "/wryb_" + jmap + "_" + jreg + "." + jscycle + "." + jpol + "." + jdate + ".png";
var plt = document.getElementById("nation");
plt.setAttribute("src",pic);

var indx = jsregs.indexOf(jreg);
var k=0;
for ( k =0; k < jsregs.length; ++k)
{
var kreg = jsregs[k];
if ( k != indx) 
{
var buttonid = document.getElementById(kreg); 
buttonid.style.backgroundColor="#FFF";        
buttonid.getElementsByTagName("a")[0].style.color="#352A2D";    
}
else
{
var buttonid = document.getElementById(kreg); 
buttonid.style.backgroundColor="#AE7428";        
buttonid.getElementsByTagName("a")[0].style.color="#F5F5F5";
}
}

}

function swapPicMap(jitem)
{
jmap = jitem;    
var pic = "plot/" + jscycle + "/wryb_" + jmap + "_" + jreg + "." + jscycle + "." + jpol + "." + jdate + ".png";
var plt = document.getElementById("nation");
plt.setAttribute("src",pic);

var indx = jsmaps.indexOf(jmap);
var k=0;
for ( k =0; k < jsdays.length; ++k)
{
var kmap = jsmaps[k];
if ( k != indx) 
{
var buttonid = document.getElementById(kmap); 
buttonid.style.backgroundColor="#FFF";        
buttonid.getElementsByTagName("a")[0].style.color="#352A2D";    
}
else
{
var buttonid = document.getElementById(kmap); 
buttonid.style.backgroundColor="#AE7428";        
buttonid.getElementsByTagName("a")[0].style.color="#F5F5F5";
}
}

}

function swapPicPol(jitem)
{
jpol = jitem;
var pic = "plot/" + jscycle + "/wryb_" + jmap + "_" + jreg + "." + jscycle + "." + jpol + "." + jdate + ".png";
var plt = document.getElementById("nation");
plt.setAttribute("src",pic);

var indx = jspols.indexOf(jpol);
var k=0;
for ( k =0; k < jsdays.length; ++k)
{
var kpol = jspnames[k];
if ( k != indx) 
{
var buttonid = document.getElementById(kpol); 
buttonid.style.backgroundColor="#FFF";        
buttonid.getElementsByTagName("a")[0].style.color="#352A2D";    
}
else
{
var buttonid = document.getElementById(kpol); 
buttonid.style.backgroundColor="#AE7428";        
buttonid.getElementsByTagName("a")[0].style.color="#F5F5F5";
}
}

}

t = 0;
function initAnimate()
{
if ( t !=0 )
{
clearTimeout(t);    
t = 0;
var eanimate = document.getElementById("animate");
eanimate.style.backgroundColor="#FFF"; 
eanimate.getElementsByTagName("a")[0].innerHTML="启动动画";
eanimate.getElementsByTagName("a")[0].style.color="#352A2D";
}
else
{
var eanimate = document.getElementById("animate"); 
eanimate.style.backgroundColor="#AE7428";        
eanimate.getElementsByTagName("a")[0].innerHTML="停止动画";
eanimate.getElementsByTagName("a")[0].style.color="#F5F5F5";
animatePic();
}
}

counter = 1;

function animatePic()
{

jdate = jsdays[counter];
var pic = "plot/" + jscycle + "/wryb_" + jmap + "_" + jreg + "." + jscycle + "." + jpol + "." + jdate + ".png";
var plt = document.getElementById("nation");
plt.setAttribute("src",pic);

var k=0;
for ( k =0; k < jsdays.length; ++k)
{
var kdate = jsdays[k];
if ( k != counter) 
{
var buttonid = document.getElementById(kdate); 
buttonid.style.backgroundColor="#FFF";        
buttonid.getElementsByTagName("a")[0].style.color="#352A2D";    
}
else
{
var buttonid = document.getElementById(kdate); 
buttonid.style.backgroundColor="#AE7428";        
buttonid.getElementsByTagName("a")[0].style.color="#F5F5F5";
}
}

counter = counter + 1;
if (counter == jsdays.length)
{
    counter = 0;
}
 t = setTimeout ("animatePic()",500);
}

function swapPicNext(k)
{
var indx = jsdays.indexOf(jdate) + k;
if (indx == jsdays.length) indx = 0;
if (indx == -1) indx = jsdays.length-1;

jdate = jsdays[indx];    
var pic = "plot/" + jscycle + "/wryb_" + jmap + "_" + jreg + "." + jscycle + "." + jpol + "." + jdate + ".png";
var plt = document.getElementById("nation");
plt.setAttribute("src",pic);

var k=0;
for ( k =0; k < jsdays.length; ++k)
{
var kdate = jsdays[k];
if ( k != indx) 
{
var buttonid = document.getElementById(kdate); 
buttonid.style.backgroundColor="#FFF";        
buttonid.getElementsByTagName("a")[0].style.color="#352A2D";    
}
else
{
var buttonid = document.getElementById(kdate); 
buttonid.style.backgroundColor="#AE7428";        
buttonid.getElementsByTagName("a")[0].style.color="#F5F5F5";
}
}

}

eprimary = ['SO2','NO2','PM10','PM25','CO','O3'] 
//cprimary = ["二氧化硫(SO2)","二氧化氮(NO2)","颗粒物(粒径≤10微米)","颗粒物(粒径≤2.5微米)","一氧化碳(CO)","臭氧(O3)"];
cprimary = ["二氧化硫(SO2)","二氧化氮(NO2)","颗粒物(PM10)","颗粒物(PM2.5)","一氧化碳(CO)","臭氧(O3)"];
ewdir  =  ['N','NNE','NE','ENE','E','ESE','SE','SSE', 'S','SSW','SW','WSW','W','WNW','NW','NNW'];
cwdir  =  ['北','北东北','东北','东东北','东','东东南','东南','南东南', '南','南西南','西南','西西南','西','西西北','西北','北西北'];
//colors = ['#00E400','#FFFF00','#FF7E00','#FF0000','#99004C','#7E0023'];
colors = ['#00E400','#FFFF00','#FF7E00','#FF0000','#6B00BD','#7E0023'];
classes = ['优','良','轻度污染','中度污染','重度污染','严重污染'];

rjdate =  jsdays[1];
function initTableR(k)
{
var indx = jsdays.indexOf(rjdate) + k;
if (indx == jsdays.length) indx = 0;
if (indx == -1) indx = jsdays.length-1;
rjdate = jsdays[indx]; 

var cpindx = eprimary.indexOf(RPRIMARY[indx]);
var cwindx = ewdir.indexOf(RWDIR[indx]);

var cjdate = String(rjdate);    
var y4 = cjdate.substr(0,4);
var m2 = cjdate.substr(4,2);
var d2 = cjdate.substr(6,2);

if ( RAQI[indx] <= 50 ) {var raqicolor = colors[0]; var raqiclass = classes[0];}
else if ( RAQI[indx] >= 51 && RAQI[indx] <= 100 ) {var raqicolor = colors[1]; var raqiclass = classes[1];}
else if ( RAQI[indx] >= 101 && RAQI[indx] <= 150 ) {var raqicolor = colors[2]; var raqiclass = classes[2];}
else if ( RAQI[indx] >= 151 && RAQI[indx] <= 200 ) {var raqicolor = colors[3]; var raqiclass = classes[3];}
else if ( RAQI[indx] >= 201 && RAQI[indx] <= 300 ) {var raqicolor = colors[4]; var raqiclass = classes[4];}
else {var raqicolor = colors[5]; var raqiclass = classes[5];}

document.getElementById("rdate").innerHTML= y4 + '年' + m2 + '月' + d2 + '日';    
document.getElementById("raqi").innerHTML= RAQI[indx];
document.getElementById("rprimary").innerHTML= '首要污染物 ' + cprimary[cpindx];
document.getElementById("ro3").innerHTML= '&nbsp&nbsp' + RO3[indx] + '微克每立方米';
document.getElementById("rpm25").innerHTML= '&nbsp&nbsp' + RPM25[indx] + '微克每立方米';
document.getElementById("rvis").innerHTML= '最低能见度 ' + RVIS[indx] + '千米';
document.getElementById("rrh").innerHTML= '平均湿度 ' + RRH[indx] + '%';
document.getElementById("rrain").innerHTML= '降水 ' + RRAIN[indx] + '毫米';
document.getElementById("rpbl").innerHTML= '最大混合层高 ' + RPBL[indx] + '米';
document.getElementById("rhtemp").innerHTML= '最高气温 ' + RHTEMP[indx] + '摄氏度';
document.getElementById("rltemp").innerHTML= '最低气温 ' + RLTEMP[indx] + '摄氏度';
document.getElementById("rwspd").innerHTML= '平均风速 ' + RWSPD[indx] +　'米每秒';
document.getElementById("rwdir").innerHTML= '最多风向 ' + cwdir[cwindx];
document.getElementById("raqi").style.color = raqicolor;
document.getElementById("raqic").innerHTML= raqiclass;
}

ljdate = jsdays[1];
function initTableL(k)
{
var indx = jsdays.indexOf(ljdate) + k;
if (indx == jsdays.length) indx = 0;
if (indx == -1) indx = jsdays.length-1;
ljdate = jsdays[indx]; 

var cpindx = eprimary.indexOf(LPRIMARY[indx]);
var cwindx = ewdir.indexOf(LWDIR[indx]);

var cjdate = String(ljdate);    
var y4 = cjdate.substr(0,4);
var m2 = cjdate.substr(4,2);
var d2 = cjdate.substr(6,2);

if ( LAQI[indx] <= 50 ) {var laqicolor = colors[0]; var laqiclass = classes[0];}
else if ( LAQI[indx] >= 51 && LAQI[indx] <= 100 ) {var laqicolor = colors[1]; var laqiclass = classes[1];}
else if ( LAQI[indx] >= 101 && LAQI[indx] <= 150 ) {var laqicolor = colors[2]; var laqiclass = classes[2];}
else if ( LAQI[indx] >= 151 && LAQI[indx] <= 200 ) {var laqicolor = colors[3]; var laqiclass = classes[3];}
else if ( LAQI[indx] >= 201 && LAQI[indx] <= 300 ) {var laqicolor = colors[4]; var laqiclass = classes[4];}
else {var laqicolor = colors[5]; var laqiclass = classes[5];}

document.getElementById("ldate").innerHTML= y4 + '年' + m2 + '月' + d2 + '日';    
document.getElementById("laqi").innerHTML= LAQI[indx];
document.getElementById("lprimary").innerHTML= '首要污染物 ' + cprimary[cpindx];
document.getElementById("lo3").innerHTML=  LO3[indx] + '微克每立方米' + '&nbsp&nbsp';
document.getElementById("lpm25").innerHTML=  LPM25[indx] + '微克每立方米' + '&nbsp&nbsp';
document.getElementById("lvis").innerHTML= '最低能见度 ' + LVIS[indx] + '千米';
document.getElementById("lrh").innerHTML= '平均湿度 ' + LRH[indx] + '%';
document.getElementById("lrain").innerHTML= '降水 ' + LRAIN[indx] + '毫米';
document.getElementById("lpbl").innerHTML= '最大混合层高 ' + LPBL[indx] + '米';
document.getElementById("lhtemp").innerHTML= '最高气温 ' + LHTEMP[indx] + '摄氏度';
document.getElementById("lltemp").innerHTML= '最低气温 ' + LLTEMP[indx] + '摄氏度';
document.getElementById("lwspd").innerHTML= '平均风速 ' + LWSPD[indx] +　'米每秒';
document.getElementById("lwdir").innerHTML= '最多风向 ' + cwdir[cwindx];
document.getElementById("laqi").style.color = laqicolor;
document.getElementById("laqic").innerHTML= laqiclass;
}

</script><div id='wrapper'>
<script>
resetMargin('wrapper');
resetWall('wrapper'); 
</script><div id='mainer'>
<script>
getMainWidths(); 

</script><div id='mainplot'>
<script>
setMainPlot(); 

</script><div id='plotabove'>
<script>
setFontSize('plotabove'); 
</script>
<span id='pmpol'><ul class='pdates'>

<li id='aqi' class='pol'><a href='#' onclick='swapPicPol("AQI")'>AQI</a></li>

<li id='o3'  class='pol'><a href='#' onclick='swapPicPol("max8hrO3")'>O3</a></li>

<li id='pm25' class='pol'><a href='#' onclick='swapPicPol("PM2.5")'>PM2.5</a></li>

</ul></span>
<span id='pmmap'><ul class='pdates'>

<li id='grid' class='map'><a href='#' onclick='swapPicMap("grid")'>空间分布</a></li>

<li id='city' class='map'><a href='#' onclick='swapPicMap("city")'>重点城市</a></li>

</ul></span>
<span id='pmreg'><ul class='pdates'>

<li id='tile' class='reg'><a href='#' onclick='swapPicReg("tile")'>全国</a></li>

<li id='tilejjj' class='reg'><a href='#' onclick='swapPicReg("tilejjj")'>京津冀</a></li>

<li id='tilecsj' class='reg'><a href='#' onclick='swapPicReg("tilecsj")'>长三角</a></li>

<li id='tilezsj' class='reg'><a href='#' onclick='swapPicReg("tilezsj")'>珠三角</a></li>

<li id='tilecy' class='reg'><a href='#' onclick='swapPicReg("tilecy")'>成渝</a></li>

</ul></span>
<script>
var buttonid = document.getElementById("aqi"); 
buttonid.style.backgroundColor="#AE7428";        
buttonid.getElementsByTagName("a")[0].style.color="#F5F5F5";
buttonid = document.getElementById("grid"); 
buttonid.style.backgroundColor="#AE7428";        
buttonid.getElementsByTagName("a")[0].style.color="#F5F5F5";
buttonid = document.getElementById("tile"); 
buttonid.style.backgroundColor="#AE7428";        
buttonid.getElementsByTagName("a")[0].style.color="#F5F5F5";

</script>
</div>
<div id='imgnation'>
<script>
setPlotSize(); 

</script>
<img id='nation' src='plot/20160917/wryb_grid_tile.20160917.AQI.20160919.png' alt='每日空气质量预报图' >
</div>
<div id='pgarnish'></div><div id='plotbelow'>
<script>
setFontSize('plotbelow'); 
</script>
<span id='pmdates'><ul class='pdates'>
<li id='20160918' class='lidates'><a href='#' onclick='swapPicDay("20160918");'>09月18日</a></li>
<li id='20160919' class='lidates'><a href='#' onclick='swapPicDay("20160919");'>09月19日</a></li>
<li id='20160920' class='lidates'><a href='#' onclick='swapPicDay("20160920");'>09月20日</a></li>
<li id='20160921' class='lidates'><a href='#' onclick='swapPicDay("20160921");'>09月21日</a></li>
<li id='20160922' class='lidates'><a href='#' onclick='swapPicDay("20160922");'>09月22日</a></li>
</ul></span>
<span id='pmanimate'><ul class='pdates'>

<li><a href='#' onclick='swapPicNext(-1)'>前一天</a></li>

<li><a href='#' onclick='swapPicNext(1)'>后一天</a></li>

<li id='animate'><a href='#' onclick='initAnimate()'>启动动画</a></li>

</ul></span>
<script>
var buttonid = document.getElementById(jdate); 
buttonid.style.backgroundColor="#AE7428";        
buttonid.getElementsByTagName("a")[0].style.color="#F5F5F5";

</script></div></div>
<div id='maintableR'>

<script>
setMainTableR(); 
</script>

<div id='maintableRH'>

<div id='Rtop'>

<div id='Rtopt'>

<div id='Rdprovcity'>
<span id='rprovcity' class='rtable'><a id='ccdate' href='#' onclick='ds_sh(this, "R");'>北京</a></span>
</div>

</div>

<div id='Rtopb'>

<div id='Rddate'>
<span id='rdateprev' class='rtablec'><a href='#' onclick='initTableR(-1)'><<</a></span>

<span id='rdate' class='rtablec'></span>

<span id='rdatenext' class='rtablec'><a href='#' onclick='initTableR(1)'>>></a></span>
</div>

<div id='Rdaqi'>
<span id='raqin' class='rtablec'>AQI指数</span>

<span id='raqi' class='rtablec'></span>

<span id='raqic' class='rtablec'></span>
</div>

<div id='Rdprimary'>
<span id='rprimary' class='rtablec'></span>
</div>

</div>

</div>

<div id='Rbottom'>

<div id='Rbottomt'>

<span id='ro3n' class='rtable'>臭氧日最大八小时浓度</span>

<span id='ro3' class='rtable'></span>

<span id='rpm25n' class='rtable'>PM2.5日均浓度</span>

<span id='rpm25' class='rtable'></span>

</div>

<div id='Rbottomb'>

<span id='rvis' class='rtable'></span>

<span id='rrh' class='rtable'></span>

<span id='rrain' class='rtable'></span>

<span id='rpbl' class='rtable'></span>

<span id='rhtemp' class='rtable'></span>

<span id='rltemp' class='rtable'></span>

<span id='rwspd' class='rtable'></span>

<span id='rwdir' class='rtable'></span>

</div>

</div>

</div>

<script>
setRtb();
initTableR(0); 
</script>

</div>
<div id='maintableL'>

<script>
setMainTableL(); 
</script>

<div id='maintableLH'>

<div id='Ltop'>

<div id='Ltopt'>

<div id='Ldprovcity'>
<span id='lprovcity' class='ltable'><a id='ccdate' href='#' onclick='ds_sh(this, "L");'>浙江 杭州</a></span>
</div>

</div>

<div id='Ltopb'>

<div id='Lddate'>
<span id='ldateprev' class='rtablec'><a href='#' onclick='initTableL(-1)'><<</a></span>

<span id='ldate' class='ltablec'></span>

<span id='ldatenext' class='ltablec'><a href='#' onclick='initTableL(1)'>>></a></span>
</div>

<div id='Ldaqi'>
<span id='laqin' class='ltablec'>AQI指数</span>

<span id='laqi' class='ltablec'></span>

<span id='laqic' class='ltablec'></span>
</div>

<div id='Ldprimary'>
<span id='lprimary' class='ltablec'></span>
</div>

</div>

</div>

<div id='Lbottom'>

<div id='Lbottomt'>

<span id='lo3n' class='ltable'>臭氧日最大八小时浓度</span>

<span id='lo3' class='ltable'></span>

<span id='lpm25n' class='ltable'>PM2.5日均浓度</span>

<span id='lpm25' class='ltable'></span>

</div>

<div id='Lbottomb'>

<span id='lvis' class='ltable'></span>

<span id='lrh' class='ltable'></span>

<span id='lrain' class='ltable'></span>

<span id='lpbl' class='ltable'></span>

<span id='lhtemp' class='ltable'></span>

<span id='lltemp' class='ltable'></span>

<span id='lwspd' class='ltable'></span>

<span id='lwdir' class='ltable'></span>

</div>

</div>

</div>

<script>
setLtb();
initTableL(0); 
</script>

</div>
</div>
</div>
<div id='myfooter'>
<script>
resetMargin('myfooter'); 
</script>
<div id='fgarnish'></div>

<div id='copyrightH'>


<div id='copyrightT' class='copyright'>

<span>矮马预报&copy2014 矮马博客&copy2014 wuranyubao.com.cn 版权所有 All Rights Reserved.</span>

</div>


<div id='copyrightB' class='copyright'>

<span>京ICP备14000542号 网站设计、制作、维护：Hutan LLC 平面设计：樱工作室及西西小朋友 对IE用户建议使用最新版本 建议使用高清大屏幕</span>

</div>


<div id='copyrightL' class='copyright'>

<span><a href='wryb_about.php?movie=no'>关于矮马预报</a></span>

<span><a href='wryb_service.php?movie=no'>我们的服务</a></span>

<span><a href='wryb_legal.php?movie=no'>法律声明</a></span>

</div>


<div id='copyrightR' class='copyright'>

<span><a href='wryb_qa.php?movie=no'>答疑解惑</a></span>

<span><a href='wryb_contact.php?movie=no'>联系我们</a></span>

<span><a href='wryb_privacy.php?movie=no'>隐私保护</a></span>

</div>


</div>
</div>
</body></html>