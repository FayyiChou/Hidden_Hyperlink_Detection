<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN">
<head profile="http://gmpg.org/xfn/11">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>孙广锋个人博客 | 老孙的自言自语</title>
	<link rel="stylesheet" type="text/css" media="all" href="http://www.sgfblog.com/wp-content/themes/zbench/style.css" />
	<link rel="pingback" href="http://www.sgfblog.com/xmlrpc.php" />
	<link rel="alternate" type="application/rss+xml" title="孙广锋个人博客 &raquo; Feed" href="http://www.sgfblog.com/feed" />
<link rel="alternate" type="application/rss+xml" title="孙广锋个人博客 &raquo; 评论Feed" href="http://www.sgfblog.com/comments/feed" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/www.sgfblog.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.5.2"}};
			!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;if(!g||!g.fillText)return!1;switch(g.textBaseline="top",g.font="600 32px Arial",a){case"flag":return g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3;case"diversity":return g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,d=c[0]+","+c[1]+","+c[2]+","+c[3],g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e;case"simple":return g.fillText(h(55357,56835),0,0),0!==g.getImageData(16,16,1,1).data[0];case"unicode8":return g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='codebox-css'  href='http://www.sgfblog.com/wp-content/plugins/wp-codebox/css/codebox.css?ver=0.1' type='text/css' media='screen' />
<script type='text/javascript' src='http://www.sgfblog.com/wp-includes/js/jquery/jquery.js?ver=1.12.3'></script>
<script type='text/javascript' src='http://www.sgfblog.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.0'></script>
<script type='text/javascript' src='http://www.sgfblog.com/wp-content/plugins/wp-codebox/js/codebox.js?ver=0.1'></script>
<link rel='https://api.w.org/' href='http://www.sgfblog.com/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.sgfblog.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.sgfblog.com/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.5.2" />
		<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
			<meta name="viewport" content="width=device-width"/><!-- for mobile -->
</head>
<body class="home blog">
<div id="nav">
	<div class="nav-inside">
		<div id="menus">
			<ul id="menus-dt" class="menus-dt">
				<li class="current_page_item"><a href="http://www.sgfblog.com/">首页</a></li><li class="page_item page-item-213"><a href="http://www.sgfblog.com/micrblog">我的微博</a></li>
<li class="page_item page-item-137"><a href="http://www.sgfblog.com/reader">读者墙</a></li>
			</ul>
			<ul id="menus-m" class="menus-m">
				<li>菜单</li>
			</ul>
		</div>
		<div id="search">
			<form id="searchform" method="get" action="http://www.sgfblog.com/">
<input type="text" value="站内搜索" onfocus="if (this.value == '站内搜索') {this.value = '';}" onblur="if (this.value == '') {this.value = '站内搜索';}" size="35" maxlength="50" name="s" id="s" />
<input type="submit" id="searchsubmit" value="搜索" />
</form>		</div>
	</div>
</div>
<div id="header">
		<div class="site_title">
		<h1><a href="http://www.sgfblog.com/">孙广锋个人博客</a></h1>
		<h2>老孙的自言自语</h2>
		<div class="clear"></div>
	</div>
	</div>
<div id="wrapper">
<div id="content">
			<div class="post post-369 type-post status-publish format-standard hentry category-6" id="post-369"><!-- post div -->
		<h2 class="title"><a href="http://www.sgfblog.com/archives/369" title="链接到 Apache反向代理。">Apache反向代理。</a></h2>
		<div class="post-info-top">
			<span class="post-info-date">
				作者: <a href="http://www.sgfblog.com/archives/author/sgf" title="查看 sgf 的所有文章" rel="author">sgf</a>
				日期: <a href="http://www.sgfblog.com/archives/369" title="13:22" rel="bookmark">2015年7月18日</a>
							</span>
			<span class="gotocomments"><a href="http://www.sgfblog.com/archives/369#comments">1 条评论</a></span>
		</div>
		<div class="clear"></div>
		<div class="entry">
			<p>作用，意义，Nginx反向代理配置 见 <a href="http://www.sgfblog.com/archives/363">http://www.sgfblog.com/archives/363</a></p>
<p>1、将以下2行中的注释去掉</p>
<p>#LoadModule proxy_module modules/mod_proxy.so<br />
#LoadModule proxy_http_module modules/mod_proxy_http.so</p>
<p>2、配置内容</p>

<div class="wp_codebox_msgheader"><span class="right"><sup><a href="http://www.ericbess.com/ericblog/2008/03/03/wp-codebox/#examples" target="_blank" title="WP-CodeBox HowTo?"><span style="color: #99cc00">?</span></a></sup></span><span class="left"><a href="javascript:;" onclick="javascript:showCodeTxt('p369code1'); return false;">View Code</a> TEXT</span><div class="codebox_clear"></div></div><div class="wp_codebox"><table><tr id="p3691"><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td><td class="code" id="p369code1"><pre class="text" style="font-family:monospace;">&lt;VirtualHost *:80&gt;    
       ServerName test.sgfblog.com
       ProxyRequests Off  
  &lt;Proxy *&gt;  
       Order deny,allow  
       Allow from all  
   &lt;/Proxy&gt;  
       ProxyPass / http://127.0.0.1:8080/ 
       ProxyPassReverse / http://127.0.0.1:8080/
&lt;/VirtualHost&gt;</pre></td></tr></table></div>

		</div><!-- END entry -->
			</div><!-- END post -->
		<div class="post post-363 type-post status-publish format-standard hentry category-php category-6 tag-nginx tag-46" id="post-363"><!-- post div -->
		<h2 class="title"><a href="http://www.sgfblog.com/archives/363" title="链接到 使用Nginx反向代理，多进程共享80端口">使用Nginx反向代理，多进程共享80端口</a></h2>
		<div class="post-info-top">
			<span class="post-info-date">
				作者: <a href="http://www.sgfblog.com/archives/author/sgf" title="查看 sgf 的所有文章" rel="author">sgf</a>
				日期: <a href="http://www.sgfblog.com/archives/363" title="20:59" rel="bookmark">2015年7月11日</a>
							</span>
			<span class="gotocomments"><a href="http://www.sgfblog.com/archives/363#comments">1 条评论</a></span>
		</div>
		<div class="clear"></div>
		<div class="entry">
			<p>如果你需要不同的进程使用80端口（nginx与iis共同使用80）怎么办？<br />
如果不想在你本地调试微信平台（微信非API要80端口，但是电信把80禁用了）怎么办？<br />
如果你需要做均衡负载 怎么做？</p>
<p>名词解释：<a href="http://baike.baidu.com/link?url=SQeKChnxsvnvx4ybiyQ0A8-9p5M6HcnyaTQnQWZRT2XQzuqchoZsCbD3BJMbRQyoC3FlAjIBoxZouq5i44A3C_" target="_blank">反向代理</a><br />
总之就是你请求这个服务器，它负责帮你去请求别的服务器，把返回的结果再返回给你，在中间当传话筒。</p>
<p>nginx配置:</p>

<div class="wp_codebox_msgheader"><span class="right"><sup><a href="http://www.ericbess.com/ericblog/2008/03/03/wp-codebox/#examples" target="_blank" title="WP-CodeBox HowTo?"><span style="color: #99cc00">?</span></a></sup></span><span class="left"><a href="javascript:;" onclick="javascript:showCodeTxt('p363code2'); return false;">View Code</a> TEXT</span><div class="codebox_clear"></div></div><div class="wp_codebox"><table><tr id="p3632"><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="code" id="p363code2"><pre class="text" style="font-family:monospace;">server { 
listen       80; 
#nginx绑定的的访问域名
server_name  test.sgfblog.com;   /
location / { 
#实际请求的地址
 proxy_pass http://sungfeng21.vicp.net:8088; 
 proxy_set_header   Host    $host; 
 proxy_set_header   X-Real-IP   $remote_addr; 
 proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;
 }
}</pre></td></tr></table></div>

<p>利用这个原理，同样都是80端口，可以把指定的站点转发到别的服务（端口）上，你的IIS换个别的端口对内网访问就OK啦~</p>
		</div><!-- END entry -->
			</div><!-- END post -->
		<div class="post post-348 type-post status-publish format-standard hentry category-php tag-authenticator tag-php" id="post-348"><!-- post div -->
		<h2 class="title"><a href="http://www.sgfblog.com/archives/348" title="链接到 php使用google authenticator动态密码认证">php使用google authenticator动态密码认证</a></h2>
		<div class="post-info-top">
			<span class="post-info-date">
				作者: <a href="http://www.sgfblog.com/archives/author/sgf" title="查看 sgf 的所有文章" rel="author">sgf</a>
				日期: <a href="http://www.sgfblog.com/archives/348" title="17:21" rel="bookmark">2015年7月11日</a>
							</span>
			<span class="gotocomments"><span><span class="screen-reader-text">php使用google authenticator动态密码认证</span>已关闭评论</span></span>
		</div>
		<div class="clear"></div>
		<div class="entry">
			<p><a href="http://www.sgfblog.com/wp-content/uploads/2015/07/IMG_3028.png"><img class="alignnone size-medium wp-image-351" src="http://www.sgfblog.com/wp-content/uploads/2015/07/IMG_3028-169x300.png" alt="IMG_3028" width="169" height="300" srcset="http://www.sgfblog.com/wp-content/uploads/2015/07/IMG_3028-169x300.png 169w, http://www.sgfblog.com/wp-content/uploads/2015/07/IMG_3028.png 320w" sizes="(max-width: 169px) 100vw, 169px" /></a><a href="http://www.sgfblog.com/wp-content/uploads/2015/07/未命名-2.jpg"><img class="alignnone size-medium wp-image-350" src="http://www.sgfblog.com/wp-content/uploads/2015/07/未命名-2-300x271.jpg" alt="未命名-2" width="300" height="271" srcset="http://www.sgfblog.com/wp-content/uploads/2015/07/未命名-2-300x271.jpg 300w, http://www.sgfblog.com/wp-content/uploads/2015/07/未命名-2.jpg 322w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>&nbsp;</p>
<p><strong>1、google authenticator和我们要干嘛？ </strong><br />
不多说，总之就是一个开放给大家使用的第三方动态密码校验软件。原来  根据二维码或者自定义输入一串密钥，authenticator就会根据当前的时间戳和这个密钥算出一个动态密码，每30秒变化一次。这个计算是本地进行的，不需要依赖网络，算法也是公开的，所以你的后端也可以算一次 做校验。</p>
<p>2、代码：</p>
<p>以下用到的Token 和 qrcode2个类，下文章底部附件可以下载到。<br />
校验动态密码。</p>

<div class="wp_codebox_msgheader"><span class="right"><sup><a href="http://www.ericbess.com/ericblog/2008/03/03/wp-codebox/#examples" target="_blank" title="WP-CodeBox HowTo?"><span style="color: #99cc00">?</span></a></sup></span><span class="left"><a href="javascript:;" onclick="javascript:showCodeTxt('p348code3'); return false;">View Code</a> PHP</span><div class="codebox_clear"></div></div><div class="wp_codebox"><table><tr id="p3483"><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="code" id="p348code3"><pre class="php" style="font-family:monospace;"><span style="color: #339933;">&lt;</span> ?php 
&nbsp;
<span style="color: #b1b100;">include</span> <span style="color: #0000ff;">&quot;Token.php&quot;</span><span style="color: #339933;">;</span> 
<span style="color: #666666; font-style: italic;">//$key 是需要保存下来的密钥，每次需要基于这个进行认证</span>
<span style="color: #666666; font-style: italic;">//$token 是需要校验的6位动态密码</span>
<span style="color: #666666; font-style: italic;">//ALLOW_MFA_TIME 是允许用户手机时间和服务器时间的前后时间差，因为这个动态密码是基于时间生成的。时间差的原来其实很简单， 帮你生成前后这个时间的所有token 跟你输入的有一个是一样的 就算OK。</span>
&nbsp;
&nbsp;
<span style="color: #000088;">$tr</span> <span style="color: #339933;">=</span> Token<span style="color: #339933;">::</span><span style="color: #004000;">verify_key</span><span style="color: #009900;">&#40;</span> <span style="color: #000088;">$key</span><span style="color: #339933;">,</span> <span style="color: #000088;">$token</span><span style="color: #339933;">,</span> ALLOW_MFA_TIME <span style="color: #339933;">,</span> Token<span style="color: #339933;">::</span><span style="color: #004000;">get_timestamp</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
 <span style="color: #b1b100;">if</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$tr</span><span style="color: #339933;">!==</span><span style="color: #009900; font-weight: bold;">true</span><span style="color: #009900;">&#41;</span>
 <span style="color: #009900;">&#123;</span>
 <span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">&quot;ok&quot;</span><span style="color: #339933;">;</span>
 <span style="color: #009900;">&#125;</span>
<span style="color: #b1b100;">else</span>
<span style="color: #009900;">&#123;</span>
 <span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">&quot;failed&quot;</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span></pre></td></tr></table></div>

<p>生成密钥和二维码</p>
<p>1、密钥不要自己随便去生成几个字符，不是所有字符都能用的Token中有写好的静态方法可以生成</p>
<p>2、二维码的生成方式很多，可以依赖第3方的或者自己生成，甚至引入一张外部图片参数中传入内容也成。   二维码的内容在以下代码注释中介绍吧：</p>
<p><span class="zbench-more-link"> <a href="http://www.sgfblog.com/archives/348#more-348" class="more-link">继续阅读 &raquo;</a></span></pre>
		</div><!-- END entry -->
			</div><!-- END post -->
		<div class="post post-249 type-post status-publish format-standard hentry category-5 category-6 tag-vim" id="post-249"><!-- post div -->
		<h2 class="title"><a href="http://www.sgfblog.com/archives/249" title="链接到 使用VIM做开发">使用VIM做开发</a></h2>
		<div class="post-info-top">
			<span class="post-info-date">
				作者: <a href="http://www.sgfblog.com/archives/author/sgf" title="查看 sgf 的所有文章" rel="author">sgf</a>
				日期: <a href="http://www.sgfblog.com/archives/249" title="01:35" rel="bookmark">2012年4月26日</a>
							</span>
			<span class="gotocomments"><a href="http://www.sgfblog.com/archives/249#comments">2 条评论</a></span>
		</div>
		<div class="clear"></div>
		<div class="entry">
			<p> 之前习惯了IDE开发环境，但是如果没有IDE 那么只能用NOTEPAD++了吗？  如果到了linux下你怎么办呢？ 其实不管在windows下还是在linux都是可以使用vim做开发的。<br />
vim功能强大，效率高。</p>
<p>1、安装gvim http://gvim.en.softonic.com/ 下载安装包<br />
2、taglist 这是一个类似于notpad++里tagsview的插件，显示出所有标签（函数）的插件<br />
   安装这个插件前 需要下载ctags56，任意找位置解压，按然后下载 taglist45.zip的压缩包，将里面的文件分别放置在gvim安装目录下的doc和plugin目录下<br />
下载：<a href='http://www.sgfblog.com/wp-content/uploads/2012/04/taglist_45.zip'>taglist_45</a>   <a href='http://www.sgfblog.com/wp-content/uploads/2012/04/ec56w32.zip'>ec56w32</a><br />
3、启动配置</p>

<div class="wp_codebox_msgheader"><span class="right"><sup><a href="http://www.ericbess.com/ericblog/2008/03/03/wp-codebox/#examples" target="_blank" title="WP-CodeBox HowTo?"><span style="color: #99cc00">?</span></a></sup></span><span class="left"><a href="javascript:;" onclick="javascript:showCodeTxt('p249code4'); return false;">View Code</a> TEXT</span><div class="codebox_clear"></div></div><div class="wp_codebox"><table><tr id="p2494"><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="code" id="p249code4"><pre class="text" style="font-family:monospace;">let Tlist_Ctags_Cmd = 'd:/ctags56/ctags.exe'    
let Tlist_Auto_Open = 1
let Tlist_Exit_OnlyWindow = 1
let tlist_actionscript_settings = 'actionscript;c:class;f:method;p:property;v:variable'
&nbsp;
set encoding=utf-8
set fileencoding=utf-8
&nbsp;
syntax enable
syntax on 
colorscheme desert</pre></td></tr></table></div>

<p>上面第1段是配置taglist插件的，第2段是设置编码，第3段是开启高亮和选择配色方案。</p>
<p>使用:Tlist 指令就能出现标签列表了。以下就是效果哦，还能代码自动补全。</p>
<p><a href="http://www.sgfblog.com/wp-content/uploads/2012/04/unname.jpg"><img src="http://www.sgfblog.com/wp-content/uploads/2012/04/unname.jpg" alt=""  class="alignleft size-full wp-image-251" /></a></p>
<p>简单再介绍几个命令<br />
<span class="zbench-more-link"> <a href="http://www.sgfblog.com/archives/249#more-249" class="more-link">继续阅读 &raquo;</a></span></p>
		</div><!-- END entry -->
			</div><!-- END post -->
		<div class="post post-245 type-post status-publish format-standard hentry category-1" id="post-245"><!-- post div -->
		<h2 class="title"><a href="http://www.sgfblog.com/archives/245" title="链接到 bat文件批量删除svn目录">bat文件批量删除svn目录</a></h2>
		<div class="post-info-top">
			<span class="post-info-date">
				作者: <a href="http://www.sgfblog.com/archives/author/sgf" title="查看 sgf 的所有文章" rel="author">sgf</a>
				日期: <a href="http://www.sgfblog.com/archives/245" title="09:52" rel="bookmark">2011年5月6日</a>
							</span>
			<span class="gotocomments"><a href="http://www.sgfblog.com/archives/245#comments">1 条评论</a></span>
		</div>
		<div class="clear"></div>
		<div class="entry">
			<p>效果类似余svn export</p>
<p><span class="zbench-more-link"> <a href="http://www.sgfblog.com/archives/245#more-245" class="more-link">继续阅读 &raquo;</a></span></p>
		</div><!-- END entry -->
			</div><!-- END post -->
		<div class="post post-241 type-post status-publish format-standard hentry category-6 tag-nginx" id="post-241"><!-- post div -->
		<h2 class="title"><a href="http://www.sgfblog.com/archives/241" title="链接到 nginx &#8211; 优化冗余路径配置。">nginx &#8211; 优化冗余路径配置。</a></h2>
		<div class="post-info-top">
			<span class="post-info-date">
				作者: <a href="http://www.sgfblog.com/archives/author/sgf" title="查看 sgf 的所有文章" rel="author">sgf</a>
				日期: <a href="http://www.sgfblog.com/archives/241" title="11:34" rel="bookmark">2011年2月25日</a>
							</span>
			<span class="gotocomments"><a href="http://www.sgfblog.com/archives/241#comments">1 条评论</a></span>
		</div>
		<div class="clear"></div>
		<div class="entry">
			
<div class="wp_codebox_msgheader"><span class="right"><sup><a href="http://www.ericbess.com/ericblog/2008/03/03/wp-codebox/#examples" target="_blank" title="WP-CodeBox HowTo?"><span style="color: #99cc00">?</span></a></sup></span><span class="left"><a href="javascript:;" onclick="javascript:showCodeTxt('p241code5'); return false;">View Code</a> TEXT</span><div class="codebox_clear"></div></div><div class="wp_codebox"><table><tr id="p2415"><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="code" id="p241code5"><pre class="text" style="font-family:monospace;">server {
        listen       80;
        server_name  phpmyadmin.lezi.com;
        location / {
            root   /var/www/html/phpMyAdmin;
            index  index.php;
        }
            location ~ \.php$ {
                        root  /var/www/html/phpMyAdmin;
                        fastcgi_pass www.sgfblog.com:9000;
                        fastcgi_index index.php;
                        fastcgi_param SCRIPT_FILENAME /var/www/html/phpMyAdmin$fastcgi_script_name;
                        fastcgi_param  PATH_INFO $request_uri;
                        include fastcgi_params;
           }
   }</pre></td></tr></table></div>

<p>上面配置中可以看出路径非常冗余，如过修改路径需要改三个地方，<br />
其实可以set一个变量，将路径写入变量，这样就下次修改的时候就只需要修改1个变量就好了。如下：</p>

<div class="wp_codebox_msgheader"><span class="right"><sup><a href="http://www.ericbess.com/ericblog/2008/03/03/wp-codebox/#examples" target="_blank" title="WP-CodeBox HowTo?"><span style="color: #99cc00">?</span></a></sup></span><span class="left"><a href="javascript:;" onclick="javascript:showCodeTxt('p241code6'); return false;">View Code</a> TEXT</span><div class="codebox_clear"></div></div><div class="wp_codebox"><table><tr id="p2416"><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="code" id="p241code6"><pre class="text" style="font-family:monospace;">server {
        listen       80;
        server_name  phpmyadmin.lezi.com;
        set $root '/var/www/html/phpMyAdmin';
        location / {
            root   $root;
            index  index.php;
        }
            location ~ \.php$ {
                        root  $root;
                        fastcgi_pass www.sgfblog.com:9000;
                        fastcgi_index index.php;
                        fastcgi_param SCRIPT_FILENAME $root$fastcgi_script_name;
                        fastcgi_param  PATH_INFO $request_uri;
                        include fastcgi_params;
           }
   }</pre></td></tr></table></div>

		</div><!-- END entry -->
			</div><!-- END post -->
		<div class="post post-229 type-post status-publish format-standard hentry category-php tag-php" id="post-229"><!-- post div -->
		<h2 class="title"><a href="http://www.sgfblog.com/archives/229" title="链接到 php 任意进制互转类">php 任意进制互转类</a></h2>
		<div class="post-info-top">
			<span class="post-info-date">
				作者: <a href="http://www.sgfblog.com/archives/author/sgf" title="查看 sgf 的所有文章" rel="author">sgf</a>
				日期: <a href="http://www.sgfblog.com/archives/229" title="16:14" rel="bookmark">2011年2月15日</a>
							</span>
			<span class="gotocomments"><a href="http://www.sgfblog.com/archives/229#comments">3 条评论</a></span>
		</div>
		<div class="clear"></div>
		<div class="entry">
			<p>之前不知道php自带有base_convert可以实现任意进制之间的转换，自己写了一个。。。。<br />
<span class="zbench-more-link"> <a href="http://www.sgfblog.com/archives/229#more-229" class="more-link">继续阅读 &raquo;</a></span></p>
		</div><!-- END entry -->
			</div><!-- END post -->
		<div class="post post-218 type-post status-publish format-standard hentry category-php tag-php" id="post-218"><!-- post div -->
		<h2 class="title"><a href="http://www.sgfblog.com/archives/218" title="链接到 php常用技巧">php常用技巧</a></h2>
		<div class="post-info-top">
			<span class="post-info-date">
				作者: <a href="http://www.sgfblog.com/archives/author/sgf" title="查看 sgf 的所有文章" rel="author">sgf</a>
				日期: <a href="http://www.sgfblog.com/archives/218" title="22:48" rel="bookmark">2011年2月12日</a>
							</span>
			<span class="gotocomments"><a href="http://www.sgfblog.com/archives/218#comments">1 条评论</a></span>
		</div>
		<div class="clear"></div>
		<div class="entry">
			<p>1、写程序的时候会用到这种情况，比如对一个数字进行四舍五入取整。很多人会这样写：</p>

<div class="wp_codebox_msgheader"><span class="right"><sup><a href="http://www.ericbess.com/ericblog/2008/03/03/wp-codebox/#examples" target="_blank" title="WP-CodeBox HowTo?"><span style="color: #99cc00">?</span></a></sup></span><span class="left"><a href="javascript:;" onclick="javascript:showCodeTxt('p218code7'); return false;">View Code</a> TEXT</span><div class="codebox_clear"></div></div><div class="wp_codebox"><table><tr id="p2187"><td class="line_numbers"><pre>1
2
3
4
</pre></td><td class="code" id="p218code7"><pre class="text" style="font-family:monospace;">input a
if a - int(a) &gt;= 0.5 then
a =  a +1
end if</pre></td></tr></table></div>

<p>其实这个判断语句可以使用一个很简单的表达式来写</p>
<pre  line="1"  colla="+" lang=vbs>
a =  fix(a + sgn(a) *0.5)
</pre>
<p>用php写作：</p>
<pre   line="1"  colla="+" lang=php>
$a =  intval($a +  0.5 *  ($a >0 ? 1 : -1)  );
</pre>
<p>分析：<br />
假设 a为 4.4  那么 a+0.5 = 4.9  intval()以后为4 ，假设a为4.6   a+0.5=5.1 那么intval()以后则为5，因此实现了四舍五入。<br />
正数+0.5 ， 负数则-0.5。</p>
<p>如果说四舍五入保留2位小数也同理。</p>
<pre  line="1"  colla="+" lang=php>
$a = intval<strong>(</strong>a * 100 + 0.5 * ($a >0 ? 1 : -1) <strong>)</strong> /100。 
</pre>
<p>2、 求如果a-b的值，如果小于0则取0,可以写城</p>
<pre  line="1"  colla="+" lang=php>
$result =  max(0,$a-$b);
</pre>
<p>3、导入数据时，可以选择采用csv格式 php对getcsv处理起来非常方便。</p>
<p>4、在替换字符串方面 str_replace()比正则表达式更高效。实际上，根据Making the Web所说，str_replace()比像ereg_replace()和 preg_replace()这样的正则表达式效率要高61%。</p>
<p>5、if($a==true)  if($a)</p>
<p>6、用isset判断变量和元素是否存在速度较高</p>
<p>7、尽量使用三目运算</p>
<p>8、适当写if行语句。适当在function内使用return语句 减少分支</p>
<p>9、使用memcache mogodb等降低程序与数据库负担</p>
<p>10、临时数据可以使用sqllite记录</p>
		</div><!-- END entry -->
			</div><!-- END post -->
		<div class="post post-204 type-post status-publish format-standard hentry category-6 tag-nginx tag-43" id="post-204"><!-- post div -->
		<h2 class="title"><a href="http://www.sgfblog.com/archives/204" title="链接到 Nginx之 &#8211; 基于ip和域名的虚拟主机">Nginx之 &#8211; 基于ip和域名的虚拟主机</a></h2>
		<div class="post-info-top">
			<span class="post-info-date">
				作者: <a href="http://www.sgfblog.com/archives/author/sgf" title="查看 sgf 的所有文章" rel="author">sgf</a>
				日期: <a href="http://www.sgfblog.com/archives/204" title="23:34" rel="bookmark">2011年1月6日</a>
							</span>
			<span class="gotocomments"><a href="http://www.sgfblog.com/archives/204#comments">2 条评论</a></span>
		</div>
		<div class="clear"></div>
		<div class="entry">
			<p>虚拟主机可以基于ip和域名配置略有不通，一起来看下。</p>
<p><strong>基于域名的虚拟主机：</strong></p>

<div class="wp_codebox_msgheader"><span class="right"><sup><a href="http://www.ericbess.com/ericblog/2008/03/03/wp-codebox/#examples" target="_blank" title="WP-CodeBox HowTo?"><span style="color: #99cc00">?</span></a></sup></span><span class="left"><a href="javascript:;" onclick="javascript:showCodeTxt('p204code8'); return false;">View Code</a> TEXT</span><div class="codebox_clear"></div></div><div class="wp_codebox"><table><tr id="p2048"><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="code" id="p204code8"><pre class="text" style="font-family:monospace;">http{
  server{
      listen 80;
      server_name www.sgfblog.com sgfblog.com; #第1个虚拟主机的域名列表，空格隔开
      location /{ ... }
  }
  server{
      listen 80;
      server_name www.apisky.net; #第2个虚拟主机的域名列表
      location /{ ... }
  }
}</pre></td></tr></table></div>

<p><strong>基于ip的虚拟主机：</strong></p>
<p>这类配置常用于本地开发，众所周知A类ip地址为1-126，而B类则为128-191。其中127不是凭空消失了，而是用于回文地址。也就是说127的ip地址会指向本机。</p>
<p>为了方便本地有多个站点时可以配置www.sgfblog.com 127.0.0.2 127.0.0.3为不同站点。配置如下：<br />
<span class="zbench-more-link"> <a href="http://www.sgfblog.com/archives/204#more-204" class="more-link">继续阅读 &raquo;</a></span></p>
		</div><!-- END entry -->
			</div><!-- END post -->
		<div class="post post-194 type-post status-publish format-standard hentry category-6 tag-nginx tag-42" id="post-194"><!-- post div -->
		<h2 class="title"><a href="http://www.sgfblog.com/archives/194" title="链接到 nginx之 – 正向代理">nginx之 – 正向代理</a></h2>
		<div class="post-info-top">
			<span class="post-info-date">
				作者: <a href="http://www.sgfblog.com/archives/author/sgf" title="查看 sgf 的所有文章" rel="author">sgf</a>
				日期: <a href="http://www.sgfblog.com/archives/194" title="22:59" rel="bookmark">2011年1月6日</a>
							</span>
			<span class="gotocomments"><span><span class="screen-reader-text">nginx之 – 正向代理</span>已关闭评论</span></span>
		</div>
		<div class="clear"></div>
		<div class="entry">
			<p>在nginx配置中加入一段server配置。就可以实现整正向代理了。其中resolver 代表的是设置代理的dns服务器。这里写的是google的公用dns服务器。</p>

<div class="wp_codebox_msgheader"><span class="right"><sup><a href="http://www.ericbess.com/ericblog/2008/03/03/wp-codebox/#examples" target="_blank" title="WP-CodeBox HowTo?"><span style="color: #99cc00">?</span></a></sup></span><span class="left"><a href="javascript:;" onclick="javascript:showCodeTxt('p194code9'); return false;">View Code</a> TEXT</span><div class="codebox_clear"></div></div><div class="wp_codebox"><table><tr id="p1949"><td class="line_numbers"><pre>1
2
3
4
5
6
7
</pre></td><td class="code" id="p194code9"><pre class="text" style="font-family:monospace;">server{
       listen 8080;
       location /{
          resolver 8.8.8.8;
          proxy_pass $scheme://$host$request_uri;
       }
    }</pre></td></tr></table></div>

<p><strong>注意：$scheme://$host$request_uri;  这个为转发到用户请求的地址，这样写可以支持多种协议。<br />
网上的参考例子多数写的是 http://$host$request_uri;  这样的话将不支持https等的代理。</strong></p>
<p>使用方法以ie为例：<br />
工具→Internet选项→连接→局域网设置→为Lan使用代理服务器→ ip地址填写nginx所在的ip地址，端口号既为上面linsten的端口号，</p>
		</div><!-- END entry -->
			</div><!-- END post -->
	<div id="pagination"><a href="http://www.sgfblog.com/page/2" >下一页 &raquo;</a></div></div><!--content-->
<div id="sidebar-border">
	<div id="rss_border">
		<div class="rss_border">
			<div id="rss_wrap">
				<div class="rss_wrap">
										<a class="rss rss_text" href="http://www.sgfblog.com/feed" rel="bookmark" title="RSS 订阅">RSS 订阅</a>
																													</div>
			</div>
		</div>
	</div>
	<div id="sidebar">

<div id="tag_cloud-2" class="widget widget_tag_cloud"><h3 class="widgettitle">标签</h3><div class="tagcloud"><a href='http://www.sgfblog.com/archives/tag/htaccess' class='tag-link-34 tag-link-position-1' title='1个话题' style='font-size: 8pt;'>.htaccess</a>
<a href='http://www.sgfblog.com/archives/tag/api' class='tag-link-30 tag-link-position-2' title='1个话题' style='font-size: 8pt;'>api</a>
<a href='http://www.sgfblog.com/archives/tag/authenticator' class='tag-link-47 tag-link-position-3' title='1个话题' style='font-size: 8pt;'>authenticator</a>
<a href='http://www.sgfblog.com/archives/tag/centos' class='tag-link-15 tag-link-position-4' title='3个话题' style='font-size: 15pt;'>centos</a>
<a href='http://www.sgfblog.com/archives/tag/empty' class='tag-link-41 tag-link-position-5' title='1个话题' style='font-size: 8pt;'>empty</a>
<a href='http://www.sgfblog.com/archives/tag/google' class='tag-link-29 tag-link-position-6' title='1个话题' style='font-size: 8pt;'>google</a>
<a href='http://www.sgfblog.com/archives/tag/hosts%e5%88%87%e6%8d%a2' class='tag-link-19 tag-link-position-7' title='1个话题' style='font-size: 8pt;'>hosts切换</a>
<a href='http://www.sgfblog.com/archives/tag/https' class='tag-link-26 tag-link-position-8' title='1个话题' style='font-size: 8pt;'>https</a>
<a href='http://www.sgfblog.com/archives/tag/isset' class='tag-link-40 tag-link-position-9' title='1个话题' style='font-size: 8pt;'>isset</a>
<a href='http://www.sgfblog.com/archives/tag/is_null' class='tag-link-39 tag-link-position-10' title='1个话题' style='font-size: 8pt;'>is_null</a>
<a href='http://www.sgfblog.com/archives/tag/mysql' class='tag-link-23 tag-link-position-11' title='1个话题' style='font-size: 8pt;'>mysql</a>
<a href='http://www.sgfblog.com/archives/tag/nginx' class='tag-link-25 tag-link-position-12' title='7个话题' style='font-size: 22pt;'>nginx</a>
<a href='http://www.sgfblog.com/archives/tag/php' class='tag-link-22 tag-link-position-13' title='5个话题' style='font-size: 19.2pt;'>php</a>
<a href='http://www.sgfblog.com/archives/tag/php%e8%bf%9b%e5%88%b6%e8%bd%ac%e6%8d%a2' class='tag-link-44 tag-link-position-14' title='1个话题' style='font-size: 8pt;'>php进制转换</a>
<a href='http://www.sgfblog.com/archives/tag/rewrite' class='tag-link-32 tag-link-position-15' title='1个话题' style='font-size: 8pt;'>rewrite</a>
<a href='http://www.sgfblog.com/archives/tag/ssl' class='tag-link-27 tag-link-position-16' title='1个话题' style='font-size: 8pt;'>ssl</a>
<a href='http://www.sgfblog.com/archives/tag/subversion' class='tag-link-16 tag-link-position-17' title='1个话题' style='font-size: 8pt;'>subversion</a>
<a href='http://www.sgfblog.com/archives/tag/svn' class='tag-link-14 tag-link-position-18' title='1个话题' style='font-size: 8pt;'>svn</a>
<a href='http://www.sgfblog.com/archives/tag/svn%e9%92%a9%e5%ad%90' class='tag-link-18 tag-link-position-19' title='1个话题' style='font-size: 8pt;'>svn钩子</a>
<a href='http://www.sgfblog.com/archives/tag/vbs' class='tag-link-20 tag-link-position-20' title='1个话题' style='font-size: 8pt;'>vbs</a>
<a href='http://www.sgfblog.com/archives/tag/vim' class='tag-link-45 tag-link-position-21' title='1个话题' style='font-size: 8pt;'>vim</a>
<a href='http://www.sgfblog.com/archives/tag/vpn' class='tag-link-35 tag-link-position-22' title='1个话题' style='font-size: 8pt;'>vpn</a>
<a href='http://www.sgfblog.com/archives/tag/vpn-client' class='tag-link-36 tag-link-position-23' title='1个话题' style='font-size: 8pt;'>vpn client</a>
<a href='http://www.sgfblog.com/archives/tag/vpn%e5%ae%a2%e6%88%b7%e7%ab%af' class='tag-link-37 tag-link-position-24' title='1个话题' style='font-size: 8pt;'>vpn客户端</a>
<a href='http://www.sgfblog.com/archives/tag/%e4%bc%aa%e9%9d%99%e6%80%81' class='tag-link-33 tag-link-position-25' title='1个话题' style='font-size: 8pt;'>伪静态</a>
<a href='http://www.sgfblog.com/archives/tag/%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86' class='tag-link-46 tag-link-position-26' title='1个话题' style='font-size: 8pt;'>反向代理</a>
<a href='http://www.sgfblog.com/archives/tag/%e5%9b%be%e5%bd%a2%e6%8a%a5%e8%a1%a8' class='tag-link-31 tag-link-position-27' title='1个话题' style='font-size: 8pt;'>图形报表</a>
<a href='http://www.sgfblog.com/archives/tag/%e6%8a%95%e8%b5%84' class='tag-link-12 tag-link-position-28' title='1个话题' style='font-size: 8pt;'>投资</a>
<a href='http://www.sgfblog.com/archives/tag/%e6%95%b0%e6%8d%ae%e5%ba%93%e7%b1%bb' class='tag-link-24 tag-link-position-29' title='1个话题' style='font-size: 8pt;'>数据库类</a>
<a href='http://www.sgfblog.com/archives/tag/%e6%ad%a3%e5%90%91%e4%bb%a3%e7%90%86' class='tag-link-42 tag-link-position-30' title='1个话题' style='font-size: 8pt;'>正向代理</a>
<a href='http://www.sgfblog.com/archives/tag/%e6%b5%8b%e8%af%95%e7%8e%af%e5%a2%83' class='tag-link-21 tag-link-position-31' title='1个话题' style='font-size: 8pt;'>测试环境</a>
<a href='http://www.sgfblog.com/archives/tag/%e7%ba%b8%e9%bb%84%e9%87%91' class='tag-link-13 tag-link-position-32' title='1个话题' style='font-size: 8pt;'>纸黄金</a>
<a href='http://www.sgfblog.com/archives/tag/%e7%bf%bb%e5%a2%99' class='tag-link-38 tag-link-position-33' title='1个话题' style='font-size: 8pt;'>翻墙</a>
<a href='http://www.sgfblog.com/archives/tag/%e8%87%aa%e5%8a%a8%e6%9b%b4%e6%96%b0' class='tag-link-17 tag-link-position-34' title='1个话题' style='font-size: 8pt;'>自动更新</a>
<a href='http://www.sgfblog.com/archives/tag/%e8%99%9a%e6%8b%9f%e4%b8%bb%e6%9c%ba%e9%85%8d%e7%bd%ae' class='tag-link-43 tag-link-position-35' title='1个话题' style='font-size: 8pt;'>虚拟主机配置</a>
<a href='http://www.sgfblog.com/archives/tag/%e8%b4%b5%e9%87%91%e5%b1%9e' class='tag-link-11 tag-link-position-36' title='1个话题' style='font-size: 8pt;'>贵金属</a></div>
</div><div id="search-2" class="widget widget_search"><form id="searchform" method="get" action="http://www.sgfblog.com/">
<input type="text" value="站内搜索" onfocus="if (this.value == '站内搜索') {this.value = '';}" onblur="if (this.value == '') {this.value = '站内搜索';}" size="35" maxlength="50" name="s" id="s" />
<input type="submit" id="searchsubmit" value="搜索" />
</form></div>		<div id="recent-posts-2" class="widget widget_recent_entries">		<h3 class="widgettitle">近期文章</h3>		<ul>
					<li>
				<a href="http://www.sgfblog.com/archives/369">Apache反向代理。</a>
						</li>
					<li>
				<a href="http://www.sgfblog.com/archives/363">使用Nginx反向代理，多进程共享80端口</a>
						</li>
					<li>
				<a href="http://www.sgfblog.com/archives/348">php使用google authenticator动态密码认证</a>
						</li>
					<li>
				<a href="http://www.sgfblog.com/archives/249">使用VIM做开发</a>
						</li>
					<li>
				<a href="http://www.sgfblog.com/archives/245">bat文件批量删除svn目录</a>
						</li>
				</ul>
		</div>		<div id="recent-comments-2" class="widget widget_recent_comments"><h3 class="widgettitle">近期评论</h3><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link">shui7777</span>发表在《<a href="http://www.sgfblog.com/archives/369#comment-895">Apache反向代理。</a>》</li><li class="recentcomments"><span class="comment-author-link">yameimei</span>发表在《<a href="http://www.sgfblog.com/archives/363#comment-889">使用Nginx反向代理，多进程共享80端口</a>》</li><li class="recentcomments"><span class="comment-author-link"><a href='http://www.hiapphere.com/' rel='external nofollow' class='url'>HiAppHere.com</a></span>发表在《<a href="http://www.sgfblog.com/archives/249#comment-455">使用VIM做开发</a>》</li><li class="recentcomments"><span class="comment-author-link"><a href='http://yicao.iu18.com' rel='external nofollow' class='url'>忆草</a></span>发表在《<a href="http://www.sgfblog.com/archives/249#comment-448">使用VIM做开发</a>》</li><li class="recentcomments"><span class="comment-author-link"><a href='http://cxwxsd.5d6d.com' rel='external nofollow' class='url'>芳草集怎么样</a></span>发表在《<a href="http://www.sgfblog.com/archives/245#comment-438">bat文件批量删除svn目录</a>》</li></ul></div><div id="archives-2" class="widget widget_archive"><h3 class="widgettitle">文章归档</h3>		<ul>
			<li><a href='http://www.sgfblog.com/archives/date/2015/07'>2015年七月</a></li>
	<li><a href='http://www.sgfblog.com/archives/date/2012/04'>2012年四月</a></li>
	<li><a href='http://www.sgfblog.com/archives/date/2011/05'>2011年五月</a></li>
	<li><a href='http://www.sgfblog.com/archives/date/2011/02'>2011年二月</a></li>
	<li><a href='http://www.sgfblog.com/archives/date/2011/01'>2011年一月</a></li>
	<li><a href='http://www.sgfblog.com/archives/date/2010/12'>2010年十二月</a></li>
	<li><a href='http://www.sgfblog.com/archives/date/2010/11'>2010年十一月</a></li>
	<li><a href='http://www.sgfblog.com/archives/date/2009/06'>2009年六月</a></li>
	<li><a href='http://www.sgfblog.com/archives/date/2006/12'>2006年十二月</a></li>
		</ul>
		</div><div id="categories-2" class="widget widget_categories"><h3 class="widgettitle">分类目录</h3>		<ul>
	<li class="cat-item cat-item-7"><a href="http://www.sgfblog.com/archives/category/%e6%8a%80%e6%9c%af%e6%96%87%e7%ab%a0/php%e5%90%8e%e5%8f%b0%e7%a8%8b%e5%ba%8f" >php后台程序</a>
</li>
	<li class="cat-item cat-item-1"><a href="http://www.sgfblog.com/archives/category/%e4%b8%aa%e4%ba%ba%e6%97%a5%e8%ae%b0" >个人日记</a>
</li>
	<li class="cat-item cat-item-10"><a href="http://www.sgfblog.com/archives/category/%e6%8a%80%e6%9c%af%e6%96%87%e7%ab%a0/%e5%85%b6%e4%bb%96%e6%8a%80%e6%9c%af%e6%96%87%e7%ab%a0" >其他技术文章</a>
</li>
	<li class="cat-item cat-item-5"><a href="http://www.sgfblog.com/archives/category/%e6%8a%80%e6%9c%af%e6%96%87%e7%ab%a0" >技术文章</a>
</li>
	<li class="cat-item cat-item-28"><a href="http://www.sgfblog.com/archives/category/%e6%8a%80%e6%9c%af%e6%96%87%e7%ab%a0/%e6%8e%a5%e5%8f%a3" >接口</a>
</li>
	<li class="cat-item cat-item-6"><a href="http://www.sgfblog.com/archives/category/%e6%8a%80%e6%9c%af%e6%96%87%e7%ab%a0/%e6%9c%8d%e5%8a%a1%e5%99%a8%e6%8a%80%e6%9c%af" >服务器技术</a>
</li>
	<li class="cat-item cat-item-3"><a href="http://www.sgfblog.com/archives/category/%e4%b8%aa%e4%ba%ba%e6%97%a5%e8%ae%b0/%e9%9a%8f%e5%bf%83%e8%80%8c%e5%8a%a8" >随心而动</a>
</li>
		</ul>
</div><div id="linkcat-2" class="widget widget_links"><h3 class="widgettitle">链接表</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://tech.lezi.com/" target="_blank">泛城科技技术博客</a></li>
<li><a href="http://blog.btnotes.com/" target="_blank">天天备忘录</a></li>

	</ul>
</div>


	</div><!-- end: #sidebar -->
</div><!-- end: #sidebar-border --></div><!--wrapper-->
<div class="clear"></div>
<div id="footer">
	<div id="footer-inside">
		<p>
			版权所有 &copy; 2016 孙广锋个人博客			| <a href="http://www.miitbeian.gov.cn" target="_blank">浙ICP备15022118号</a>
		 	| <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33038102330401" style="display:inline-block;text-decoration:none;height:20px;line-height:20px;"><img src="http://www.beian.gov.cn/img/ghs.png" style="float:left;"/>浙公网安备 33038102330401号</a>
		 	
		</p>
		<span id="back-to-top">&uarr; <a href="#" rel="nofollow" title="Back to top">回到顶部</a></span>
	</div>
</div><!--footer-->

<script type="text/javascript">
	//////// Handles toggling the navigation menu for small screens
	( function() {
		var nav = document.getElementById( 'menus' ), button = document.getElementById( 'menus-m' ), menu = document.getElementById( 'menus-dt' );
		if ( ! nav ) {
			return;
		}
		if ( ! button ) {
			return;
		}
		// Hide button if menu is missing or empty.
		if ( ! menu || ! menu.childNodes.length ) {
			button.style.display = 'none';
			return;
		}
		button.onclick = function() {
			if ( -1 !== button.className.indexOf( 'b-toggled-on' ) ) {
				button.className = button.className.replace( ' b-toggled-on', '' );
				menu.className = menu.className.replace( ' toggled-on', '' );
			} else {
				button.className += ' b-toggled-on';
				menu.className += ' toggled-on';
			}
		};
	} )();
</script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?56043fd8d8381346a2d656b1448b6974";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<script type='text/javascript' src='http://www.sgfblog.com/wp-includes/js/wp-embed.min.js?ver=4.5.2'></script>
</body>
</html>
