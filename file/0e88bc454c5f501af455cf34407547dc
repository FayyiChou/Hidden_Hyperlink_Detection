<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><iframe height="0" width="0" style="display: none; visibility: hidden; " src="javascript:'<script>function i(a){new Image().src = a};i(&quot;http://cms.tanx.com/t.gif?tanx_nid=29600513&tanx_cm&ext_data=5887&quot;);i(&quot;http://cm.pos.baidu.com/pixel?dspid=6418041&ext_data=5887&quot;);i(&quot;http://cm.g.doubleclick.net/pixel?google_nid=ipy&google_cm&ext_data=5887&quot;);i(&quot;http://cm.miaozhen.atm.youku.com/cm.gif?dspid=11112&ext_data=5887&quot;);i(&quot;http://cc.xtgreat.com/cm.gif?dspid=11164&ext_data=5887&quot;);i(&quot;http://cm.qtmojo.com/pixel?allyes_dspid=192&allyes_cm&ext_data=5887&quot;);i(&quot;http://ckm.iqiyi.com/pixel?qiyi_nid=71000015&qiyi_sc&ext_data=5887&quot;);i(&quot;http://stats.ipinyou.com/adin/cmr.gif&quot;);i(&quot;http://t.go.sohu.com/cm.gif?ver=1&mid=10012&ext_data=5887&quot;);i(&quot;http://sax.sina.com.cn/cm?sina_nid=1&ext_data=5887&quot;);i(&quot;http://cm.vamaker.com/pixel?vamaker_dspid=11168120&vamaker_cm&v=1&ext_data=5887&quot;);i(&quot;http://cm.ipinyou.com/qq/cmr.gif&quot;);i(&quot;http://cm.e.qq.com/cm.fcg?gdt_dspid=400596&ext_data=5887&quot;);</script>'" name="_pycmifr"></iframe><script type="text/javascript" async="" src="http://stats.ipinyou.com/adv?a=9es.6W.mlKv0CHhOxBXFrLD2Bln70&amp;u=http%3A%2F%2Fdayi.jd100.com%2Fquestion%2F660372%2F&amp;rd=1491042159778&amp;v=2&amp;e=sr%3D0x0%26sc%3D0-bit%26vp%3D%26ps%3D990x1549%26ec%3DUTF-8%26je%3Dfalse%26lg%3Den-us%26ev%3Dvg"></script><script type="text/javascript" async="" src="http://stats.ipinyou.com/presadv?a=9es.6W.mlKv0CHhOxBXFrLD2Bln70&amp;cb=py.cb"></script><script async="" src="//fm.ipinyou.com/j/a.js"></script><script type="text/javascript" async="" src="http://tca.sagetrc.com/trc/atac/conv_x.js?id=39119"></script><script charset="utf-8" src="http://page.baidu.com/conversion_js.php?sid=3605582"></script><script charset="utf-8" src="https://tag.baidu.com/vcard/v.js?siteid=3605582&amp;url=http%3A%2F%2Fdayi.jd100.com%2Fquestion%2F660372%2F&amp;source=&amp;rnd=832195409&amp;hm=1"></script><script type="text/javascript" async="" src="http://www.google-analytics.com/ga.js"></script><script src="http://id.jiathis.com/id.php?u=http%3A%2F%2Fdayi.jd100.com%2Fquestion%2F660372%2F&amp;t=be%20popular%20to%E4%B8%8Ebe%20popular%20with%E7%9A%84%E5%8C%BA%E5%88%AB_%E8%AF%AD%E6%B3%95_%E8%8B%B1%E8%AF%AD_%E5%88%9D%E4%B8%89_%E7%AE%80%E5%8D%95%E5%AD%A6%E4%B9%A0%E7%AD%94%E7%96%91%E7%BD%91&amp;r=&amp;k=&amp;s=&amp;jiathis=1&amp;uyan=0&amp;ujian=0&amp;time=1491042159223" charset="utf-8"></script>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8;">
    <meta name="keywords" content="初三英语语法答疑网,初三英语语法在线答疑,初三英语语法免费在线答疑,be popular to与be popular with的区别">
    <meta name="description" content="简单学习答疑网初三英语语法频道为您提供免费在线答疑各科学习问题, 包括初三英语语法题、初三英语语法在线解答、答案、试题、练习题、课程、专题知识点总结、be popular to与be popular with的区别等帮助学生解决学习困惑,24小时内为您答疑解惑.学习有问题,就上简单学习答疑网">
    <meta name="baidu-site-verification" content="t91R9fcJTl">
    <title>be popular to与be popular with的区别_语法_英语_初三_简单学习答疑网</title>
    <link href="http://css.jd100.com/css/base.css" rel="stylesheet" type="text/css">
    <link href="http://css.jd100.com/css/common_qa.css" rel="stylesheet" type="text/css">
    <link href="http://css.jd100.com/css/common.css" rel="stylesheet" type="text/css">
    <link href="http://css.jd100.com/css/qa.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="http://www.jd100.com/js/et.js"></script>
    <script type="text/javascript" src="http://www.jd100.com/js/etsrc/user/utility.js"></script>
    <script type="text/javascript" src="http://www.jd100.com/js/etsrc/other/other.js"></script><script type="text/javascript" defer="">/*
 *      文件名：buy.js
 *      主要功能：主要用于完成用户 课程购买/课程信息/购物车等信息
 *      Creator：
 *      Create Date：2007-05-15
*/
$.include("/libs/jquery.cookie.js");
$.include("/libs/jquery.json.js");
$.include("/etsrc/buy/utility.js");
et.buy.is_logon = false;
et.buy.course_name_data = undefined;
et.buy.package_course_guids = undefined;
et.buy.submitBookInfo=function(nContactMode)
{
    var sUserName = et.dom.byId("username").value;
    var sCheckCode = et.dom.byId("checkcode").value;

    var sFileName = et.dom.byId("checkcodeimage").value;
    var sPhoneNo;
    if(sUserName.length == 0)
    {
        alert("请留下您的姓名，谢谢!");
        return;
    }
    if(sCheckCode.length == 0 || sCheckCode.length < 4)
    {
        alert("请填写验证码!");
        return ;
    }
    switch(nContactMode)
    {
        case 1:
            var sDistinctNo = et.dom.byId("distinctno").value;
            var sCallNo = et.dom.byId("callno").value;
            var sExtNo = et.dom.byId("extno").value;
            if(sDistinctNo.length == 0 || sCallNo.length == 0)
            {
                alert("请留下您的电话号码!");
                return;
            }
            sPhoneNo = sDistinctNo + "-" + sCallNo + "-" + sExtNo;
            break;
        case 2:
            sPhoneNo = et.dom.byId("mobileno").value;
            var nRet = et.user.utility.checkmobilePhone(sPhoneNo);
            if(nRet == -1)
            {
                alert("您填写的手机号长度不够或者不符合规范!");
                return ;
            }
            break;
    }
    et.user.utility.bookInfo(sPhoneNo, sUserName, sCheckCode,sFileName, et.buy.bookInfoCallback);
}
et.buy.bookInfoCallback=function(type, json, http)
{
    if(json.isSuc)
    {
        alert("登记成功，谢谢您的关注,我们会尽快和您联系!");

    }
    else
    {
    	alert(json.Desc)
    }
     genCodeImage();
}
et.buy.set_logon_state = function(logon){
    et.buy.is_logon = logon;
}
et.buy.copy_buycart = function(cart_obj){
    var new_cart_obj = new Array();
    if(!cart_obj) return new_cart_obj;
    for(var i =0; i < cart_obj.length; i ++){
        new_cart_obj.push(cart_obj[i]);
    }
    return new_cart_obj;
}
et.buy.add_course2cart = function(course_guid, course_price,grade,link_guid,course_type, is_update){
    if(course_type === undefined)
        course_type = "course";
    var new_item =  {guid:course_guid,price:course_price,grade:grade,link:link_guid,type:course_type};
    var cart_obj = et.buy.get_cart_data();
    var cart_obj_old = et.buy.copy_buycart(cart_obj);
    if(cart_obj){
        if(!et.buy.is_exist(cart_obj, new_item)){
            cart_obj.push(new_item);

            et.buy.insert_shopping_cart(course_guid);  //加入购物车记录函数
        }
    }
    else{
        cart_obj = new Array();
        cart_obj.push(new_item);

        et.buy.insert_shopping_cart(course_guid);  //加入购物车记录函数
    }
    var ret = et.buy.save_cart_data(cart_obj);
    if(ret){
        if(is_update === undefined || is_update === true)
            et.buy.update_course_num(cart_obj.length);
        return true;
    }
    else{
        et.buy.save_cart_data(cart_obj_old);
        if(is_update === undefined || is_update === true)
            et.buy.update_course_num(cart_obj_old.length);
        alert("购物车已满，请先去结算！");

        return false;
    }

}

et.buy.insert_shopping_cart = function(course_guid) {
    etajax.sendRequest(etWebSiteUrl + "/service/buycart/", "POST", "do=insert_buy_cart_rec&guid="+course_guid);
}

et.buy.display_checkout_content = function(logon_state){
    var cart_obj = et.buy.get_cart_data();
    if(!cart_obj) return;
    var course_guids = et.buy.get_course_guid(cart_obj);
    et.buy.utility.get_course_name(course_guids, function(type,json,http){
        if(type == "load"){
            if(json.success){
                et.buy.course_name_data = json.data.course_name;
                if(logon_state == 1)
                    et.buy._display_checkout_content();
                else
                    et.buy._get_cart_course_state(cart_obj);
            }
        }
    });
}
et.buy._get_cart_course_state = function(cart_obj){
    var course_data = "";
    for(var i = 0; i < cart_obj.length; i ++){
        course_data += cart_obj[i].guid + "," + cart_obj[i].price;
        if(i !== cart_obj.length - 1)
            course_data += ";";
    }
    et.buy.utility.get_cart_detail_data(course_data, function(type,json,http){
        if(type == "load"){
            if(json.success){
                et.buy.save_cart_detail_data(cart_obj,json);
                et.buy._display_checkout_content ();
            }
        }
    });
}
et.buy._display_checkout_content = function(){
    var buy_content_obj = et.dom.byId("id_buy");
    var content_html = "<h3 class=\"f14px fb\">购课清单：</h3><table summary=\"购课清单\" class=\"ebtable\"><thead><tr><th width=\"45%\"><span>课程名称</span></th><th width=\"12%\"><span>价格</span></th><th>备注</th></tr></thead><tbody>";
    var buy_content_html = "";
    var actived_content_html = "";
    var cart_obj = et.buy.get_cart_data();
    var tag = false;
    var course_count = 0;
    for(var i = 0;i < cart_obj.length; i ++){
        if(cart_obj[i].state === 0 || cart_obj[i].state === undefined){
            buy_content_html += "<tr><td>" + et.buy.course_name_data[cart_obj[i].guid] +"</td>";
            if(et.buy.is_dot_price(cart_obj[i].price)){
                buy_content_html += "<td class=\"txtcenter\">￥" + cart_obj[i].price +"</td>";
            }else{
                buy_content_html += "<td class=\"txtcenter\">￥" + cart_obj[i].price +".00</td>";
            }

            buy_content_html += "<td class=\"fcor_999\">--</td></tr>";
            course_count ++;
            if(cart_obj[i].state === undefined) cart_obj[i].state = 0;
        }
        else{
            tag = true;
            actived_content_html += "<tr><td>" + et.buy.course_name_data[cart_obj[i].guid] +"</td>";
            if(et.buy.is_dot_price(cart_obj[i].price)){
                actived_content_html += "<td class=\"txtcenter\">￥" + cart_obj[i].price +"</td>";
            }else{
                actived_content_html += "<td class=\"txtcenter\">￥" + cart_obj[i].price +".00</td>";
            }

            if(cart_obj[i].state === 1)
                actived_content_html += "<td class=\"fcor_999\">您激活的课程中已包含本课程，请在下单前确认，以避免重复购买。</td></tr>";
            else
                actived_content_html += "<td class=\"fcor_999\">该课程已经在您选择的优惠套餐中包括了。</td></tr>";
        }
    }
    buy_content_html += "</tbody></table>";
    actived_content_html += "</tbody></table>";
    content_html += buy_content_html;
    if(tag === true){
        content_html += "<p class=\"remove ebBg\">您已购买激活以下课程，为避免您重复购买，已从当前订单排除，不予计费。</p>";
        content_html += "<table summary=\"购课清单\" class=\"ebtable2\"><thead><tr><th width=\"45%\"><span>课程名称</span></th><th width=\"12%\"><span>价格</span></th><th>备注</th></tr></thead><tbody>";
        content_html += actived_content_html;
    }
    buy_content_obj.innerHTML = content_html;
    var price_obj = et.dom.byId("priceInfo");
    var sumprice = et.buy.get_sumprice();
    var discountprice = et.buy.get_discountprice();
    var discountstyle = et.buy.get_discountstyle();
    var price_content,discount_content='';
    if(sumprice != discountprice){
        discount_content = "，<span class=\"fred fb\">优惠后支付:" + discountstyle + "&nbsp;￥" + discountprice + ".00</span>";
    }
    if(et.buy.is_dot_price(discountprice)){
        price_content= "总计金额：共购买" + course_count + "门课程，应支付￥" + sumprice + discount_content;
        price_content += "<p class=\"txtright f14px fb\">应付总额：<span class=\"fred\">￥" + discountprice +"</span></p>";
    }
    else{
        price_content = "总计金额：共购买" + course_count + "门课程，应支付￥" + sumprice + discount_content;
        price_content += "<p class=\"txtright f14px fb\">应付总额：<span class=\"fred\">￥" + discountprice +".00</span></p>";
    }

    price_obj.innerHTML = price_content;
}
et.buy.display_course_num = function(){
    var cart_obj = et.buy.get_cart_data();
    if(cart_obj)
        et.buy.update_course_num(cart_obj.length);
    else
        et.buy.update_course_num(0);
}
et.buy.update_course_num = function(num,type){
    if(type === undefined || type === "top"){
        var course_num_obj = et.dom.byId("id_coursenum");
        if(course_num_obj != null)
        course_num_obj.innerHTML = num;
    }
}
et.buy.display_top_cart_loading  = function(){
    var content_obj = et.dom.byId("id_cartcontent");

    content_obj.innerHTML = "<div class=\"textcenter ecartLoadding\"><img src=\"" + etImageUrl + "/images/common/icon_loading.gif\"/></div>";

}

et.buy.get_course_guid = function (cart_obj){
    var course_guids = "";
    if(!cart_obj) return "";
    for(var i = 0; i < cart_obj.length; i ++){
        course_guids += cart_obj[i].guid;
        if(i !== cart_obj.length -1 )
            course_guids += "|";
    }
    return course_guids;
}
et.buy.display_cart = function(display_type, is_get_name){
    var cart_obj = et.buy.get_cart_data();
    var course_guids = et.buy.get_course_guid(cart_obj);
    if(display_type === "top"){
        if(!cart_obj || cart_obj.length == 0){
            var content_obj = et.dom.byId("id_cartcontent");
            content_obj.innerHTML = "<p class=\"noCourse sprite-common\">您的购物车中暂无商品，赶快选择需要的课程吧！</p>";
            return;
        }
        et.buy.display_top_cart_loading();
    }
    else if(display_type === "detail"){

        if(!cart_obj || cart_obj.length === 0){
            et.buy.display_empty_cart();
            et.buy.display_loaded_cart_data();
            return;
        }
    }
    if(is_get_name == true || is_get_name == undefined){
        et.buy.utility.get_course_name(course_guids, function(type, json, http){
            if(type == "load"){
                if(json.success){
                    et.buy.course_name_data = json.data.course_name;
                    et.buy.package_course_guids = json.data.package_course_guids;
                    et.buy.change_cart_data_state(cart_obj,json.data.package_course_guids,2);
                    if(display_type === "top")
                        et.buy._display_cart_top(cart_obj);
                    else if(display_type === "detail"){
                        et.buy._display_cart_detail(cart_obj);
                     }
                 }
             }
         });
    }
    else{
        if(display_type === "top")
            et.buy._display_cart_top(cart_obj);
        else if(display_type === "detail"){
            et.buy._display_cart_detail(cart_obj);
        }
    }
}
et.buy._display_cart_detail = function(cart_obj){
    et.buy.display_loading_cart_data();

    if(et.buy.is_logon === false){
        et.buy._display_cart_detail_nologon(cart_obj);
    }
    else{
        et.buy._display_cart_detail_logon(cart_obj);
    }
}
et.buy.display_empty_cart = function(){
    var cart_head_obj = et.dom.byId("id_carthead");
    var cart_content_obj = et.dom.byId("cart_info");
    var price_obj = et.dom.byId("priceInfo");
    cart_content_obj.innerHTML = "";
    price_obj.innerHTML = "";
    cart_head_obj.innerHTML = "当前购物车为没有任何课程。";
}
et.buy.display_loading_cart_data = function(){
    var id_loading_obj = et.dom.byId("id_cartloading");
    var id_cart_content_obj = et.dom.byId("cart_info");
    id_loading_obj.style.display = "block";
    id_cart_content_obj.style.display = "none";
}
et.buy.display_loaded_cart_data = function(){
    var id_loading_obj = et.dom.byId("id_cartloading");
    var id_cart_content_obj = et.dom.byId("cart_info");
    id_loading_obj.style.display = "none";
    id_cart_content_obj.style.display = "block";
}
et.buy._display_cart_detail_logon = function(cart_obj){
    var course_data = "";
    for(var i = 0; i < cart_obj.length; i ++){
        course_data += cart_obj[i].guid + "," + cart_obj[i].price;
        if(i !== cart_obj.length - 1)
            course_data += ";";
    }
    et.buy.utility.get_cart_detail_data(course_data, et.buy.get_cart_detail_callback);
}
et.buy.save_cart_detail_data = function(cart_obj, data){
    cart_obj = et.buy.set_cart_data_state(cart_obj, data.actived_guids,1);
    cart_obj = et.buy.set_cart_data_state(cart_obj, data.contain_guids,2);
    et.buy.save_cart_data(cart_obj);
    et.buy.save_sumprice(data.sumprice);
    et.buy.save_discountprice(data.discountprice);
    et.buy.save_discountstyle(data.discountstyle);
}
et.buy.get_cart_detail_callback = function(type, json, http){
    if(type === "load"){
        if(json.success){
            var cart_obj = et.buy.get_cart_data();
            et.buy.save_cart_detail_data(cart_obj,json);
            var content_html = et.buy.get_cart_display_content(cart_obj);
            var cart_content_obj = et.dom.byId("cart_info");
            if(json.sumprice == json.discountprice) {
                content_html += "<div class=\"payOrderTotal txtright f14px fb\">总计金额： &nbsp;<span class=\"fred\">￥"  + json.discountprice;
            }else if(et.buy.is_dot_price(json.sumprice)){
                content_html += "<div class=\"payOrderTotal txtright f14px fb\">总计金额：原价&nbsp;￥" + json.sumprice + "&nbsp;<span class=\"fred\">折扣后价格：" + json.discountstyle + " ￥"  + json.discountprice;
            }else{
                content_html += "<div class=\"payOrderTotal txtright f14px fb\">总计金额：原价&nbsp;￥" + json.sumprice + ".00&nbsp;<span class=\"fred\">折扣后价格：" + json.discountstyle + " ￥"  + json.discountprice;
            }


            if(et.buy.is_dot_price(json.discountprice))
                content_html += "</span>";
            else
                content_html += ".00</span>";
            content_html += "<p><a href=\"" + etWebSiteUrl + "/buy/\" target=\"_blank\">多买最低享七折优惠&nbsp;查看详情>></a></p></div>";
            cart_content_obj.innerHTML = content_html;
            et.buy.display_loaded_cart_data();
        }
    }
}
et.buy.is_dot_price = function(price){
    price = price + "";
    var pos = price.indexOf(".");
    return pos>0;
}

et.buy.set_cart_data_state = function(cart_obj, data, state){
    if(data.length === 0) return cart_obj;
    for(var i = 0; i < cart_obj.length; i ++){
        for(var j = 0; j < data.length; j ++){
            if(cart_obj[i].guid === data[j])
                cart_obj[i].state = state;
        }
    }
    return cart_obj;
}
et.buy.change_cart_data_state = function(cart_obj,package_course_guids,state){
    var p_guids = new Array();
    for(var i in package_course_guids){
        for(var j = 0; j<package_course_guids[i].length;j++){
            p_guids.push(package_course_guids[i][j]);
        }
    }

    for(var i =0; i < cart_obj.length; i++){
        if(p_guids.length !== 0){
            for(var j =0; j < p_guids.length;j++){
             if(cart_obj[i].guid === p_guids[j])
                cart_obj[i].state = state;
            }
        }else{
            cart_obj[i].state = 0;
        }

    }
    et.buy.save_cart_data(cart_obj);
}
et.buy.get_cart_display_content = function (cart_obj){
    var content_html = "<table summary=\"购物车清单\" class=\"ebtable\">";
    content_html += "<thead><tr><th width=\"45%\"><span>课程名称</span></th><th width=\"12%\"><span>价格</span></th><th width=\"12%\"><span>删除课程</span></th><th>备注</th></tr></thead><tbody>";
    for(var i = 0; i < cart_obj.length; i ++){
        content_html += "<tr>";
        content_html += "<td>"+et.buy.course_name_data[cart_obj[i].guid]+"</td>";
        if(et.buy.is_dot_price(cart_obj[i].price)){
            content_html += "<td class=\"txtcenter\">￥"+ cart_obj[i].price +"</td>";
        }else{
            content_html += "<td class=\"txtcenter\">￥"+ cart_obj[i].price +".00</td>";
        }
        content_html += "<td class=\"txtcenter\"><a href=\"javascript:et.buy.del_course('" + cart_obj[i].guid + "'," + "'detail');\">删除</a></td>";
        if(cart_obj[i].state === 0 || cart_obj[i].state === undefined){//正常的课程
            content_html += "<td class=\"fcor_999\"></td>";
        }
        else if(cart_obj[i].state === 1){
            content_html += "<td class=\"fcor_999\">您激活的课程中已包含本课程，请在下单前确认，以避免重复购买。</td>";
        }
        else if(cart_obj[i].state === 2){
            content_html += "<td class=\"fcor_999\">该课程已经在您选择的优惠套餐中包括了。</td>";
        }
        content_html += "</tr>";
    }
	content_html += "</tbody></table>";
    et.buy.save_cart_data(cart_obj);
    return content_html;
}
et.buy.get_allsumprice = function(cart_obj){
    var sum_price = 0;
    for(var i = 0; i < cart_obj.length; i ++){
        sum_price += parseFloat(cart_obj[i].price);
    }
    if(sum_price!=0){
        sum_price = sum_price.toFixed(2);
    }
    return sum_price;
}
et.buy.get_allcourseprice = function(cart_obj){
    var course_price = 0;
    for(var i = 0; i < cart_obj.length; i ++){
        if(cart_obj[i].type === "course" || cart_obj[i].type === undefined)
            course_price += parseFloat(cart_obj[i].price);
    }
    return course_price;

}
et.buy.get_allpackageprice = function(cart_obj){
    var package_price = 0;
    for(var i=0; i<cart_obj.length;i++){
        if(cart_obj[i].type === "package")
            package_price += parseFloat(cart_obj[i].price);
    }
    return package_price;
}
et.buy._display_cart_detail_nologon = function(cart_obj){
    var cart_content_obj = et.dom.byId("cart_info");
    var content_html = et.buy.get_cart_display_content(cart_obj);
    var course_price = et.buy.get_allcourseprice(cart_obj);
    var package_price = et.buy.get_allpackageprice(cart_obj);
    var sum_price = et.buy.get_allsumprice(cart_obj);
    var promotion_value = et.buy.get_promotion_value(course_price);
    var promotion_price = (promotion_value == 0)?package_price:promotion_value.discountprice + package_price;
    var promotion_style = et.buy.get_promotion_style(promotion_value.discountstyle,package_price);
    promotion_price = promotion_price.toFixed(2);
    if(sum_price == promotion_price){
        content_html += "<div class=\"payOrderTotal txtright f14px fb\">总计金额：&nbsp;<span class=\"fred\">￥" + promotion_price;
    }else if(et.buy.is_dot_price(sum_price)){
        content_html += "<div class=\"payOrderTotal txtright f14px fb\">总计金额：原价&nbsp;￥" + sum_price + "&nbsp;<span class=\"fred\">折扣后价格："+promotion_style+"&nbsp;￥" + promotion_price;
    }else{
        content_html += "<div class=\"payOrderTotal txtright f14px fb\">总计金额：原价&nbsp;￥" + sum_price + ".00&nbsp;<span class=\"fred\">折扣后价格："+promotion_style+"&nbsp;￥" + promotion_price;
    }

    if(et.buy.is_dot_price(promotion_price))
        content_html += "</span>";
    else
        content_html += ".00</span>";

    content_html += "<p><a href=\"" + etWebSiteUrl + "/buy/\" target=\"_blank\">多买最低享七折优惠&nbsp;查看详情>></a></p></div>";
    cart_content_obj.innerHTML = content_html;
    et.buy.save_discountprice(promotion_price);
    et.buy.save_discountstyle(promotion_style);
    et.buy.display_loaded_cart_data();
}
et.buy.get_promotion_style = function(salescourse_discountstyle,$package_price){
    if(salescourse_discountstyle == undefined){
        return "";
    }
    if(salescourse_discountstyle !=undefined && $package_price == ""){
        return salescourse_discountstyle+"&nbsp;=";
    }
    if(salescourse_discountstyle != undefined && $package_price != ""){
        if(et.buy.is_dot_price($package_price)){
            return salescourse_discountstyle+"&nbsp;+&nbsp;￥"+$package_price+"&nbsp;=";
        }else{
            return salescourse_discountstyle+"&nbsp;+&nbsp;￥"+$package_price+".00&nbsp;=";
        }

    }

}
et.buy.get_promotion_value = function(course_price){
    var params = "do=getpromotionprice&courseprice="+course_price;
    var ret_price = 0;
    etajax.sendRequest(etWebSiteUrl + "/service/buycart/", "POST", params, function(type,json,http){
        if(json.success){
            ret_price = json.promotiondata;
        }
},false);
    return ret_price;

}
et.buy._display_cart_top = function(cart_obj){
    var content_obj = et.dom.byId("id_cartcontent");

    var content_html = "<ul class=\"fn-clear\">";
    var sum_price = 0;
    for(var i = 0; i < cart_obj.length; i ++){
        sum_price += parseFloat(cart_obj[i].price);
        content_html += "<li class=\"item\">";
        if(cart_obj[i].type == 'package'){
            content_html += "<span class=\"item-til\"><a href=\"" + etWebSiteUrl+ "/" + cart_obj[i].grade +"/lesson/p/" + cart_obj[i].link + "\">"+ et.buy.course_name_data[cart_obj[i].guid] + "</a></span>";
        }else{
            content_html += "<span class=\"item-til\"><a href=\"" + etWebSiteUrl+ "/" + cart_obj[i].grade +"/lesson/c/" + cart_obj[i].link + "\">"+ et.buy.course_name_data[cart_obj[i].guid] + "</a></span>";
        }

        if(et.buy.is_dot_price(cart_obj[i].price)){
            content_html += "<span class=\"item-extra fred fn-link-blue\"><strong>￥"+cart_obj[i].price + "</strong><br /><a href=\"javascript:et.buy.del_course('"+ cart_obj[i].guid + "');\">删除</a></span>";
        }else{
            content_html += "<span class=\"item-extra fred fn-link-blue\"><strong>￥"+cart_obj[i].price + ".00</strong><br /><a href=\"javascript:et.buy.del_course('"+ cart_obj[i].guid + "');\">删除</a></span>";
        }

    }
    sum_price = sum_price.toFixed(2);
    content_html += "</ul>";
    if(et.buy.is_dot_price(sum_price)){
        content_html += "<div class=\"payment fn-clear\"><div class=\"itemTotal textright\">共<span class=\"fred fb\">"+ cart_obj.length + "</span>件商品，总计金额：<span class=\"fred fb\" id=\"id_sumprice\">￥" + sum_price + "</span></div>";
    }else{
        content_html += "<div class=\"itemTotal txtright\">共<span class=\"fred fb\">"+ cart_obj.length + "</span>件商品，总计金额：<span class=\"fred fb\" id=\"id_sumprice\">￥" + sum_price + ".00</span></div>";
    }
    content_html += "<div class=\"mt10 fn-right\"><a href=\""+ etWebSiteUrl + "/buycart/viewcart/?fromurl="+cur_url+"\" class=\"payBtn ebBg\" style=\"display:block;height:35px;text-indent:-99999px;\">去购物车并结算</a></div></div>";
    content_obj.innerHTML = content_html;

}
et.buy.del_course = function(course_guid,type){
    var cart_obj = et.buy.get_cart_data();
    if(true == true){
        var new_cart_obj = new Array();
        for(var i = 0; i < cart_obj.length; i ++){
            var item = cart_obj[i];
            if(item.guid !== course_guid)
                new_cart_obj.push(item);
        }
        var first_letter = course_guid.substr(0,1);
        if(first_letter == "p" || first_letter == "P"){
            var package_course_data = et.buy.package_course_guids[course_guid];
            for(var j = 0; j < new_cart_obj.length; j ++){
                for(var q = 0; q < package_course_data.length; q ++){
                    if(new_cart_obj[j].guid === package_course_data[q]){
                        new_cart_obj[j].state = 0;
                    }
                }
            }
        }

        et.buy.save_cart_data(new_cart_obj);

        if(type === undefined)
            et.buy.display_cart("top",false);
        else
            et.buy.display_cart(type, false);
        et.buy.update_course_num(new_cart_obj.length,type);

        et.buy.delete_shopping_cart(course_guid);
    }
}

et.buy.delete_shopping_cart = function(course_guid) {
    etajax.sendRequest(etWebSiteUrl + "/service/buycart/", "POST", "do=delete_buy_cart_rec&guid="+course_guid);
}

et.buy.is_exist = function(cart_obj,new_item){
    var exist = false;
    for(var i = 0; i < cart_obj.length; i ++){
        var item = cart_obj[i];
        if(item.guid === new_item.guid){
            exist = true;
            break;
        }
    }
    return exist;
}
et.buy.clear_data = function(){
    $.cookie("CART_DATA", null,{path:'/'});
    $.cookie("SUMPRICE", null,{path:'/'});
    $.cookie("DISCOUNTPRICE", null,{path:'/'});
    $.cookie("DISCOUNTSTYLE", null,{path:'/'});
    $.cookie("ORDERID",null,{path:'/'});
}
et.buy.save_cart_data = function(cart_obj){
    var cart_data = $.toJSON(cart_obj);
    $.cookie("CART_DATA",cart_data,{expires:1,path:'/',raw:false});
    var ret = $.cookie("CART_DATA");
    if(ret) {
        var ret_obj = $.evalJSON(ret);

       return ret_obj.length === cart_obj.length? true:false;
    }
    else return false;
}
et.buy.get_cart_data = function(){
    var cart_data = $.cookie("CART_DATA");
    var arr = ['P10001','P10000','P28670','P28672','P28674','P28678','P28680','P28682','P28684','P30551','P30016','P30017','P30394','P30367',
        'P30368','P30371','P30372','P30373','P30375','P30377','P30379','P30380','P30381','P30382','P30383','P30384','P30386','P30387',
        'P30388','P30389','P30390','P28650','P28656','P28382','P28384','P28398','P28400','P28402'];
    var filterarray=null;
    if(cart_data){
        var cartData = $.evalJSON(cart_data);
        filterarray = $.grep(cartData,function(value,i){
            return $.inArray(value.guid,arr)==-1;
        });
        return filterarray;
    }
    else
    {
        return undefined;
    }

}
et.buy.save_sumprice = function(price){
    $.cookie("SUMPRICE",price,{expires:1,path:'/',raw:false});
}
et.buy.get_sumprice = function(){
    return $.cookie("SUMPRICE");
}
et.buy.save_discountprice = function(price){
    $.cookie("DISCOUNTPRICE",price,{expires:1,path:'/',raw:false});
}
et.buy.get_discountprice = function(){
    return $.cookie("DISCOUNTPRICE");
}
et.buy.save_discountstyle = function(price){
    $.cookie("DISCOUNTSTYLE",price,{expires:1,path:'/',raw:false});
}
et.buy.get_discountstyle = function(){
    return ($.cookie("DISCOUNTSTYLE")==null)?"":$.cookie("DISCOUNTSTYLE");
}
et.buy.save_orderid = function(orderid){
    $.cookie("ORDERID",orderid,{expires:1,path:'/',raw:false});
}

et.buy.get_orderid = function(){
   var order_id = $.cookie("ORDERID");
   if(order_id) return order_id;
   else return  "";
}
</script><script type="text/javascript" defer="">/**
 * jQuery Cookie plugin
 *
 * Copyright (c) 2010 Klaus Hartl (stilbuero.de)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */

jQuery.cookie = function (key, value, options) {

    // key and at least value given, set cookie...
    if (arguments.length > 1 && String(value) !== "[object Object]") {
        options = jQuery.extend({}, options);

        if (value === null || value === undefined) {
            options.expires = -1;
        }

        if (typeof options.expires === 'number') {
            var days = options.expires, t = options.expires = new Date();
            t.setDate(t.getDate() + days);
        }

        value = String(value);

        return (document.cookie = [
            encodeURIComponent(key), '=',
            options.raw ? value : encodeURIComponent(value),
            options.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE
            options.path ? '; path=' + options.path : '',
            options.domain ? '; domain=' + options.domain : '',
            options.secure ? '; secure' : ''
        ].join(''));
    }

    // key and possibly options given, get cookie...
    options = value || {};
    var result, decode = options.raw ? function (s) { return s; } : decodeURIComponent;
    return (result = new RegExp('(?:^|; )' + encodeURIComponent(key) + '=([^;]*)').exec(document.cookie)) ? decode(result[1]) : undefined;
};</script><script type="text/javascript" defer="">/*
 * jQuery JSON Plugin
 * version: 2.1 (2009-08-14)
 *
 * This document is licensed as free software under the terms of the
 * MIT License: http://www.opensource.org/licenses/mit-license.php
 *
 * Brantley Harris wrote this plugin. It is based somewhat on the JSON.org 
 * website's http://www.json.org/json2.js, which proclaims:
 * "NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.", a sentiment that
 * I uphold.
 *
 * It is also influenced heavily by MochiKit's serializeJSON, which is 
 * copyrighted 2005 by Bob Ippolito.
 */
 
(function($) {
    /** jQuery.toJSON( json-serializble )
        Converts the given argument into a JSON respresentation.

        If an object has a "toJSON" function, that will be used to get the representation.
        Non-integer/string keys are skipped in the object, as are keys that point to a function.

        json-serializble:
            The *thing* to be converted.
     **/
    $.toJSON = function(o)
    {
        if (typeof(JSON) == 'object' && JSON.stringify)
            return JSON.stringify(o);
        
        var type = typeof(o);
    
        if (o === null)
            return "null";
    
        if (type == "undefined")
            return undefined;
        
        if (type == "number" || type == "boolean")
            return o + "";
    
        if (type == "string")
            return $.quoteString(o);
    
        if (type == 'object')
        {
            if (typeof o.toJSON == "function") 
                return $.toJSON( o.toJSON() );
            
            if (o.constructor === Date)
            {
                var month = o.getUTCMonth() + 1;
                if (month < 10) month = '0' + month;

                var day = o.getUTCDate();
                if (day < 10) day = '0' + day;

                var year = o.getUTCFullYear();
                
                var hours = o.getUTCHours();
                if (hours < 10) hours = '0' + hours;
                
                var minutes = o.getUTCMinutes();
                if (minutes < 10) minutes = '0' + minutes;
                
                var seconds = o.getUTCSeconds();
                if (seconds < 10) seconds = '0' + seconds;
                
                var milli = o.getUTCMilliseconds();
                if (milli < 100) milli = '0' + milli;
                if (milli < 10) milli = '0' + milli;

                return '"' + year + '-' + month + '-' + day + 'T' +
                             hours + ':' + minutes + ':' + seconds + 
                             '.' + milli + 'Z"'; 
            }

            if (o.constructor === Array) 
            {
                var ret = [];
                for (var i = 0; i < o.length; i++)
                    ret.push( $.toJSON(o[i]) || "null" );

                return "[" + ret.join(",") + "]";
            }
        
            var pairs = [];
            for (var k in o) {
                var name;
                var type = typeof k;

                if (type == "number")
                    name = '"' + k + '"';
                else if (type == "string")
                    name = $.quoteString(k);
                else
                    continue;  //skip non-string or number keys
            
                if (typeof o[k] == "function") 
                    continue;  //skip pairs where the value is a function.
            
                var val = $.toJSON(o[k]);
            
                pairs.push(name + ":" + val);
            }

            return "{" + pairs.join(", ") + "}";
        }
    };

    /** jQuery.evalJSON(src)
        Evaluates a given piece of json source.
     **/
    $.evalJSON = function(src)
    {
        if (typeof(JSON) == 'object' && JSON.parse)
            return JSON.parse(src);
        return eval("(" + src + ")");
    };
    
    /** jQuery.secureEvalJSON(src)
        Evals JSON in a way that is *more* secure.
    **/
    $.secureEvalJSON = function(src)
    {
        if (typeof(JSON) == 'object' && JSON.parse)
            return JSON.parse(src);
        
        var filtered = src;
        filtered = filtered.replace(/\\["\\\/bfnrtu]/g, '@');
        filtered = filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, ']');
        filtered = filtered.replace(/(?:^|:|,)(?:\s*\[)+/g, '');
        
        if (/^[\],:{}\s]*$/.test(filtered))
            return eval("(" + src + ")");
        else
            throw new SyntaxError("Error parsing JSON, source is not valid.");
    };

    /** jQuery.quoteString(string)
        Returns a string-repr of a string, escaping quotes intelligently.  
        Mostly a support function for toJSON.
    
        Examples:
            >>> jQuery.quoteString("apple")
            "apple"
        
            >>> jQuery.quoteString('"Where are we going?", she asked.')
            "\"Where are we going?\", she asked."
     **/
    $.quoteString = function(string)
    {
        if (string.match(_escapeable))
        {
            return '"' + string.replace(_escapeable, function (a) 
            {
                var c = _meta[a];
                if (typeof c === 'string') return c;
                c = a.charCodeAt();
                return '\\u00' + Math.floor(c / 16).toString(16) + (c % 16).toString(16);
            }) + '"';
        }
        return '"' + string + '"';
    };
    
    var _escapeable = /["\\\x00-\x1f\x7f-\x9f]/g;
    
    var _meta = {
        '\b': '\\b',
        '\t': '\\t',
        '\n': '\\n',
        '\f': '\\f',
        '\r': '\\r',
        '"' : '\\"',
        '\\': '\\\\'
    };
})(jQuery);
</script><script type="text/javascript" defer="">et.buy.utility = {};
et.buy.utility.buy_cart_path = etWebSiteUrl + "/service/buycart/";
et.buy.utility.paymentPath = etWebSiteUrl + "/service/pay/";
et.buy.utility.orderPath = etWebSiteUrl + "/service/order/";
et.buy.utility.get_cart_detail_data = function(course_data,callback_fn){    
    var params = "do=check_actived&&cartinfo=" + course_data;
    etajax.sendRequest(et.buy.utility.buy_cart_path, "POST", params, callback_fn);
}

et.buy.utility.onlinePaymentSubmit = function(paymentAmount, remark, type, callBackFunc) {
    var params = "do=onlinepayment&amount=" + paymentAmount + "&remark=" + encodeURIComponent(remark) + "&type=" + type;

    etajax.sendRequest(et.buy.utility.paymentPath, "POST", params, callBackFunc);
}
et.buy.utility.submit_order = function(price,invoice,course_data,invoice_data,orderid,package_data,order_type,coupon_val,mobile, callback_fn){
    var params = "do=saveorder&course="+course_data+"&price="+price+"&invoice="+invoice+"&invoicedata="+invoice_data+"&orderid="+orderid+"&package="+package_data+"&ordertype="+order_type+"&couponval="+coupon_val+"&parentmobile="+mobile;
    etajax.sendRequest(et.buy.utility.orderPath, "POST", params, callback_fn);
}
et.buy.utility.getordercourse = function(order_id,callBackFunc){

    var params = "do=getorderinfo&order_id="+order_id;
    etajax.sendRequest(et.buy.utility.orderPath, "POST", params, callBackFunc);

}
et.buy.utility.get_course_name = function (course_guids, callback_fn){
    var params = "do=getcoursename&guid=" + course_guids;
    etajax.sendRequest(et.buy.utility.buy_cart_path, "POST", params, callback_fn);

}
et.buy.utility.getorderhistory = function(index,callBackFunc){
    var params = "do=getorderhistory&i="+index;

    etajax.sendRequest(et.buy.utility.orderPath, "POST", params, callBackFunc);

}
et.buy.utility.getpaymenthistory = function(index,callBackFunc){
    var params = "do=paymenthistory&i="+index;

    etajax.sendRequest(et.buy.utility.paymentPath, "POST", params, callBackFunc);

}</script>
    <script type="text/javascript" src="http://www.jd100.com/js/libs/jquery.cookie.js"></script>
    <script type="text/javascript" src="http://www.jd100.com/js/etsrc/other/popwindow.js"></script>
    <script type="text/javascript" src="http://www.jd100.com/js/etsrc/qa/utility.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){
            //隐藏/显示input中value值
            $(".hidevalue").focus(function(){
                $(this).css("color","#333");
                if($(this).val() == "请输入搜索内容……"){
                    $(this).val("");
                }
            }).blur(function(){
                        if($(this).val() == ''){
                            $(this).css("color","#999");
                            $(this).val("请输入搜索内容……");
                        }
                    })
        })
        var userName = "";
        function logOff(){
            et.user.utility.signOff(logOffCallback, "http://dayi.jd100.com/");
        }
        function logOffCallback(type, json, http){
            if(type == "load"){
                if(json.success){
                    window.location.href = "http://dayi.jd100.com/";
                }
            }
        }
        function togglecon(element, conteng){
            var $tag = $(element);
            var $con = $(conteng);
            $tag.click(function(){
                $con.toggle();
            });
        }
    </script>


<script type="text/javascript" defer="">jQuery.extend({
    createUploadIframe: function(id, uri)
    {
        //create frame
        var frameId = 'jUploadFrame' + id;

        var iframeHtml = '<iframe id="' + frameId + '" name="' + frameId + '" style="position:absolute; top:-9999px; left:-9999px"';
        if(window.ActiveXObject)
        {
            if(typeof uri== 'boolean'){
                iframeHtml += ' src="' + 'javascript:false' + '"';

            }
            else if(typeof uri== 'string'){
                iframeHtml += ' src="' + uri + '"';

            }	
        }
        iframeHtml += ' />';
        jQuery(iframeHtml).appendTo(document.body);

        return jQuery('#' + frameId).get(0);			
    },
    createUploadForm: function(id, fileElementId, data)
    {
        //create form	
        var formId = 'jUploadForm' + id;
        var fileId = 'jUploadFile' + id;
        var form = jQuery('<form  action="" method="POST" name="' + formId + '" id="' + formId + '" enctype="multipart/form-data"></form>');	
        if(data)
        {
            for(var key in data)
            {
                jQuery('<input type="hidden" name="' + key + '" value="' + data[key] + '" />').appendTo(form);
            }			
        }		
        var oldElement = jQuery('#' + fileElementId);
        var newElement = jQuery(oldElement).clone();
        jQuery(oldElement).attr('id', fileId);
        jQuery(oldElement).before(newElement);
        jQuery(oldElement).appendTo(form);


		
        //set attributes
        jQuery(form).css('position', 'absolute');
        jQuery(form).css('top', '-1200px');
        jQuery(form).css('left', '-1200px');
        jQuery(form).appendTo('body');		
        return form;
    },

    ajaxFileUpload: function(s) {
        // TODO introduce global settings, allowing the client to modify them for all requests, not only timeout		
        s = jQuery.extend({}, jQuery.ajaxSettings, s);
        var id = s.id;        
        var form = jQuery.createUploadForm(id, s.fileElementId, (typeof(s.data)=='undefined'?false:s.data));
        var io = jQuery.createUploadIframe(id, s.secureuri);
        var frameId = 'jUploadFrame' + id;
        var formId = 'jUploadForm' + id;		
        // Watch for a new set of requests
        if ( s.global && ! jQuery.active++ )
        {
            jQuery.event.trigger( "ajaxStart" );
        }            
        var requestDone = false;
        // Create the request object
        var xml = {}   
        if ( s.global )
            jQuery.event.trigger("ajaxSend", [xml, s]);
        // Wait for a response to come back
        var uploadCallback = function(isTimeout)
        {			
            var io = document.getElementById(frameId);
            try 
            {				
                if(io.contentWindow)
                {
                    xml.responseText = io.contentWindow.document.body?io.contentWindow.document.body.innerHTML:null;
                    xml.responseXML = io.contentWindow.document.XMLDocument?io.contentWindow.document.XMLDocument:io.contentWindow.document;
					 
                }
                else if(io.contentDocument)
                {
                    xml.responseText = io.contentDocument.document.body?io.contentDocument.document.body.innerHTML:null;
                    xml.responseXML = io.contentDocument.document.XMLDocument?io.contentDocument.document.XMLDocument:io.contentDocument.document;
                }						
            }
            catch(e)
            {
                jQuery.uploadHandleError(s, xml, null, e);
            }
            if ( xml || isTimeout == "timeout") 
            {				
                requestDone = true;
                var status;
                try {
                    status = isTimeout != "timeout" ? "success" : "error";
                    // Make sure that the request was successful or notmodified
                    if ( status != "error" )
                    {
                        // process the data (runs the xml through httpData regardless of callback)
                        var data = jQuery.uploadHttpData( xml, s.dataType );    
                        // If a local callback was specified, fire it and pass it the data
                        if ( s.success )
                            s.success( data, status );
    
                        // Fire the global callback
                        if( s.global )
                            jQuery.event.trigger( "ajaxSuccess", [xml, s] );
                    } 
                    else
                        jQuery.uploadHandleError(s, xml, status);
                }
                catch(e) 
                {
                    status = "error";
                    jQuery.uploadHandleError(s, xml, status, e);
                }

                // The request was completed
                if( s.global )
                    jQuery.event.trigger( "ajaxComplete", [xml, s] );

                // Handle the global AJAX counter
                if ( s.global && ! --jQuery.active )
                    jQuery.event.trigger( "ajaxStop" );

                // Process result
                if ( s.complete )
                    s.complete(xml, status);

                jQuery(io).unbind();

                setTimeout(function()
                {
                    try 
                    {
                        jQuery(io).remove();
                        jQuery(form).remove();				
                    } 
                    catch(e) 
                    {
                        jQuery.uploadHandleError(s, xml, null, e);
                    }									

                }, 100);

                xml = null;
            }
        }
        // Timeout checker
        if ( s.timeout > 0 ) 
        {
            setTimeout(function(){
                // Check to see if the request is still happening
                if( !requestDone ) uploadCallback( "timeout" );
            }, s.timeout);
        }
        try 
        {

            var form = jQuery('#' + formId);
            jQuery(form).attr('action', s.url);
            jQuery(form).attr('method', 'POST');
            jQuery(form).attr('target', frameId);
            if(form.encoding)
            {
                jQuery(form).attr('encoding', 'multipart/form-data');      			
            }
            else
            {	
                jQuery(form).attr('enctype', 'multipart/form-data');			
            }			
            jQuery(form).submit();

        } 
        catch(e) {
            jQuery.uploadHandleError(s, xml, null, e);
        }
        jQuery('#' + frameId).load(uploadCallback);
        return {
            abort: function () {}
        };	

},
uploadHandleError:function(s,xml,status, e){
    var responseText = xml.responseText;
    //var pattern =/^[a-zA-Z0-9]{1}([a-zA-Z0-9]){0,19}$/;
    var pattern = /([0-9]{3})/;
    var error_code = pattern.exec(responseText);
    if(error_code)
        s.error(error_code[0], e);
    else
        s.error('000',e);
},
uploadHttpData: function( r, type ) {
    var data = !type;
    data = type == "xml" || data ? r.responseXML : r.responseText;
    // If the type is "script", eval it in global context
    if ( type == "script" )
        jQuery.globalEval( data );
    // Get the JavaScript object, if JSON is used.
    if ( type == "json" )
        eval( "data = " + data );
    // evaluate scripts within html
    if ( type == "html" )
        jQuery("<div>").html(data).evalScripts();

    return data;
}
})

</script><script type="text/javascript" defer="">
function load_img(index, image_data, prefix,type,limit_width){
    if(index >= image_data.length) { return; }
    var item = image_data[index];
    var img_obj = new Image();
    var img_width = (limit_width !=undefined )?limit_width:640;
    img_obj.id = item.id;
    img_obj.onload = function(){
        var obj = et.dom.byId("img_" + prefix + "_" + type +  this.id);

        obj.src = this.src;
        if(this.width > img_width) { obj.width = img_width };
        this.onload = null;
        load_img(index + 1, image_data, prefix,type,limit_width);
    }
    img_obj.onerror = function(){
        this.onload = null;
        load_img(index + 1, image_data, prefix,type,limit_width);
    }
    img_obj.src = item.url;
}

//编辑问题时显示附件的缩略图
function hover_img_show(attachment){
    var elementObj = $(".e_f_img_show a");
    elementObj.each(function(i){
        elementObj.eq(i).hover(function(){
            var sel = this
            if(attachment[i].type == "png" || attachment[i].type == "jpg" || attachment[i].type == "bmp" || attachment[i].type == "gif"){
                $(sel).next(".edit_file_pop").css("display","block");
                onloadImage(i,attachment);
            }
        },function(){
            var sel = this;
            if(attachment[i].type == "png" || attachment[i].type == "jpg" || attachment[i].type == "bmp" || attachment[i].type == "gif"){
                $(sel).next(".edit_file_pop").css("display","none");
            }
        })
        $("#f_img_del_" + i).click(function(){
            askObj.delattachment_type = 1;
            askObj.modified = true;
            askObj.delatta_index_array.push(i);
            --oldattachment_length;
            $("#f_img_del_" + i).parent().hide();
            if(oldattachment_length < 3){
                $(".input_add").show();
            }
        });
    })
}

//加载附件图片缩略图
function onloadImage(i,attachment){
    var imageObj = new Image();
    imageObj.src =  attachment[i].url ;
    if(imageObj.complete){
        var img = et.dom.byId("pop_show_" + i);
        img.src = attachment[i].url;
        if(img.width > 160){
            img.width = 160;
        }
    }
    else{
        imageObj.onload = function(){
            var img = et.dom.byId("pop_show_" + i);
            img.src = attachment[i].url;
            if(img.width > 160){
                img.width = 160;
            }
        };
    }
}

//问题的回答显示

if (typeof(et.qa) == "undefined") {
    et.qa = {};
}
et.qa.DisplayReplyInfo = function (config){
    var default_config = {
        "cur_type":0,
        "is_best":false
    };
    this.config = $.extend({}, default_config, config);
}

//显示回答内容
et.qa.DisplayReplyInfo.prototype._displayContent_reply = function (isCanHref) {
    var self = this;
    return function (paging_object) {
        var config = self.config;
        var contentObj = null;

        if(config.cur_type == 0) { //  所有的回答
            contentObj = et.dom.byId("reply_all");
            var expertObj =  et.dom.byId("reply_expert");
            if(all_paging.getCurPageNo() > 0){
                expertObj.style.display = "none";
            }else{
                expertObj.style.display = "block";
            }
            if(paging_object._allCount == 0 && config.is_expert_reply >0){
                et.dom.byId("no_reply_all").style.display = "none";
            }
        }
        else if(config.cur_type == 1){ // 自己的回答
            contentObj = et.dom.byId("reply_self");
        }
        else if(config.cur_type == 2){ // 提问人的回答
            contentObj = et.dom.byId("reply_owner");
        }
        var htmlContent = "";
        var page_data = paging_object._current_data;
        var image_data = Array();
        for(var j = 0; j < page_data.length; ++j) {
            var data = page_data[j];
            htmlContent += "<div class=\"answer_del answer_teacher\">";

            if(data.is_best == 1 && config.question_type == 0){
                if(data.is_closed == 0 && data.review_status != 2){
                    config.is_best = true;
                }
                htmlContent += "<h3 class=\"answer_best f14px fb qabg\">最佳答案</h3>";
            }
            htmlContent += "<div class=\"fn-clear\"><p class=\"f999 fn-left\">";
            if(data.user_figure == 1){
                htmlContent += "老师：";
                if(isCanHref){
				    htmlContent += "<a href=\""+etQASiteUrl+"/user/"+data.user_id+"\">"+data.user_name+"</a> | "+data.reply_time;
                }else{
                    htmlContent += data.user_name+" | "+data.reply_time;
                }
            }else{
                htmlContent += "同学：";
                if(isCanHref){
				    htmlContent += "<a href=\""+etQASiteUrl+"/user/"+data.user_id+"\">"+data.user_name+"</a>";
                }else{
                    htmlContent += data.user_name+" | "+data.reply_time;
                }
            }
            if(data.is_closed == 1){
                htmlContent +="<span class='fred'> 回答被关闭</span>";
            }
            else if(data.review_status == 2){
                htmlContent +="<span class='fred'> 审核未通过</span>";
            }
            else if(review_question_switch == 1 && data.review_status == 0){
                htmlContent +="<span class='fred'> 审核中，请耐心等待</span>";
                if(config.user_name !=data.user_name && config.is_reviewer == 0 && config.is_admin == 0){
                    data.content = "该回答在审核中……";
                }
            }
            htmlContent +="</p>";
			htmlContent += "<div class=\"qa_inform_an qa_inform fn-right\">";
			if(config.is_admin == 1 && (data.review_status == 2 || data.is_closed == 1)){
				if(data.is_closed == 1){
					display_type = 1;
				}else{
					display_type =2;
				}
				htmlContent += "<a href=\"javascript:void(0);\" onclick=\"return displayReply(" + data.id + ","+display_type+");\">显示回答</a> ";
			}
			else if((config.is_admin == 1 || config.is_reviewer == 1) && data.review_status == 0){
				htmlContent += "<a href=\"javascript:void(0);\" onclick=\"return et.qa.reviewReply(1,"+data.id+");\">审核通过</a>  <a href=\"javascript:void(0);\" onclick=\"return et.qa.reviewReply(2,"+data.id+");\">审核不通过</a> ";
			}
			if(config.is_admin == 1 && data.review_status != 2 && data.is_closed == 0){
				htmlContent += "<a href=\"javascript:void(0);\" onclick=\"return et.qa.CloseReply("+data.id+");\">关闭回答</a>  ";
			}
			htmlContent += "<a href=\"javascript:void(0);\" onclick=\"return informanswer('" + data.id + "');\">举报答案</a></div></div>";
            htmlContent += "<div class=\"f14px mart10\"><pre>"+data.content+"</pre></div>";

            var attachment = data.attachment_data;
            if(attachment != ""){
                attachment = eval('(' + attachment + ')') ;
                for(var i = 0; i < attachment.length; i++){
                    var image_url = attachment[i].url;
                    if(attachment[i].type == "jpg" || attachment[i].type == "gif" || attachment[i].type == "png" || attachment[i].type == "bmp"){
                        var item_image = {id:data.id + "_" + image_data.length, url:image_url};
                        image_data.push(item_image);
                        htmlContent += "<div class=\"qaimg\"><a href=\""+image_url+"\" target=\"_blank\"><img id=\"img_student_" + config.cur_type + item_image.id + "\" src=\""+ etImageUrl +"/images/common/loading32.gif\"  alt=\"问题截图\" /></a></div>";
                    }
                    else if(attachment[i].type == "doc" || attachment[i].type == "docx"){
                        htmlContent += "<div class=\"qafile f_word\"><a href=\""+image_url+ "\">点击下载附件</a></div>";
                    }
                    else if(attachment[i].type == "zip" || attachment[i].type == "rar"){
                        htmlContent += "<div class=\"qafile f_rar\"><a href=\""+image_url+"\">点击下载附件</a></div>";
                    }
                }
            }
            //回答回复start
			htmlContent += "<p class=\"f999 mart10\">" + data.reply_time + " | <a href=\"javascript:void(0);\" ";
            if((config.displayReplyType == 0 && ((review_question_switch == 1 && data.review_status == 1) || review_question_switch == 0 || review_question_switch == 2)) || (config.displayReplyType == 1 && data.comment_count>0)){
                htmlContent += "class=\"qa_reply_show\" ";
            }
            htmlContent += "id=\""+data.comment_count+"\"><i class=\"qa_icon_reply\"></i>";
            if(data.comment_count>0){
                htmlContent += "收起回复";
            }else{
                htmlContent += "回复(0)";
            }
            htmlContent += "</a></p>";
            if(data.comment_count>0){
                htmlContent += "<div class=\"qa_reply_con icon_arrows_chars mt10\" id=\"qa_reply_con_"+data.id+"\">";
            }else{
                htmlContent += "<div class=\"qa_reply_con icon_arrows_chars mt10 fn-hide\" id=\"qa_reply_con_"+data.id+"\">";
            }
            htmlContent += "<div class=\"txtcenter mt10 fn-hide\" id=\"content_loading_"+data.id+"\" >正在加载数据&nbsp;<img src=\""+etImageUrl+"/images/personal/loading.gif\"/></div>";
            htmlContent += "<ul id=\"qa_comment_con_" + config.cur_type + "_" + data.id + "\">";
            if(data.comment_count > 0){
                var comment_data = data.init_comment.data;
                for(var c = 0; c < comment_data.length; c++){
                    htmlContent += self._displayReplycommentContent(comment_data[c],isCanHref);
                }
            }
            htmlContent += "</ul>";
            htmlContent +="<p class=\"mt10 fn-hide\" id=\"no_comment_"+config.cur_type+"_"+data.id+"\" name=\"no_comment\">该回答还没有回复信息。</p>";
            htmlContent += "<div class=\"fn-clear\">";
            if(data.comment_count-3 > 0){
                htmlContent += "<p class=\"f666 fn-left\"";
            }else{
                htmlContent += "<p class=\"f666 fn-left fn-hide\"";
            }
            htmlContent += "id=\"comment_last_" + config.cur_type + "_"+data.id + "\">还有" + parseInt(data.comment_count-3) + "条回复，<a href=\"javascript:void(0);\" onclick=\"return displayReplyObj.showReplycomment(" + data.id + "," + isCanHref + ")\">点击查看</a></p>";
                htmlContent += "<div class=\"page fn-left fn-hide\" id=\"qaReply_pager_" + config.cur_type+"_" + data.id+"\"><span class=\"pagePre page_turn\"><a href=\"javascript:%prepage_action%void(0)\">上一页</a></span>&nbsp;<span class=\"pageNumList page_num_s\">%pages%</span>&nbsp;<span class=\"pageNext page_turn\"><a href=\"javascript:%nextpage_action%void(0)\">下一页</a></span></div>";
            if(config.displayReplyType == 0){
                htmlContent += "<div class=\"qa_reply fn-right\"><a href=\"javascript:void(0);\" class=\"btn1_gray\"><span><i class=\"qa_icon_reply\"></i>我也说一句</span></a></div>";
            }
            htmlContent += "</div>";
            //输入框 start
            if(config.displayReplyType == 0){
                htmlContent += "<div class=\"qa_reply_bar mt20 fn-hide\">";
                htmlContent += "<div class=\"qa_reply_area\"><textarea id=\"comment_content_" + config.cur_type + "_" + data.id + "\"></textarea></div><p class=\"qaSubmitError frose fn-clear fn-hide j_replyError_" + data.id + "\"></p>";
                htmlContent += "<div class=\"fn-clear\"><p class=\"qa_reply_limit fn-left\">还能输入<span class=\"fb\">200</span>个字</p>";
                htmlContent += "<div class=\"qa_reply_action fn-right mt10\"><a href=\"javascript:void(0);\" class=\"qa_reply_cancel\">取消</a><a href=\"javascript:void(0);\" class=\"btn3 btn3_blue\" id=\"submitcomment_" + config.cur_type+"_" + data.id + "\" onclick=\"return et.qa.submitReplycomment(" + data.id + "," + isCanHref + ")\"><span>回复</span></a></div></div></div>";
            }

            //输入框 end
			htmlContent += "<b class=\"b1\">&diams;</b><b class=\"b2\">&diams;</b></div>";
            //回答回复end
            if(config.displayReplyType == 0 && config.is_set_best == false){
                htmlContent += self._disyplayReplyInfoEventInfo(data);
            }
            htmlContent +="</div>";
        }
        contentObj.innerHTML =  htmlContent;
        if(image_data.length > 0) {
            load_img(0, image_data,"student",config.cur_type);
        }
		et.qa.DisplayAnswerReply();
		et.qa.DisplayAnswerReplyInput();
		et.qa.DisplayAnswerReplyUser();
    }
};
et.qa.DisplayAnswerReply = function(){
	$(".qa_reply_show").click(function(){
		var $self = $(this);
        var $inputObj = $self.parent().next(".qa_reply_con").find(".qa_reply_bar");
        var $itemTextObj = $inputObj.find(".qa_reply_limit");
        var $itemObj = $inputObj.find("textarea");
        var $itemObjHeight = $itemObj.height();
        var $cancelObj = $inputObj.find(".qa_reply_cancel");
        if($self.parent().next(".qa_reply_con").is(":visible")){
            $self.html('<i class="qa_icon_reply"></i>回复('+$self.attr('id')+')');
            $self.parent().next(".qa_reply_con").slideUp(100);
        }
        else{
            $self.html('<i class="qa_icon_reply"></i>收起回复');
            $self.parent().next(".qa_reply_con").slideDown(200);
            $inputObj.show().find("textarea").focus().val("").removeClass("longer");
            et.qa.bind_event($itemObj, $itemTextObj, $itemObjHeight);
            et.qa.CancelAnswerReply($cancelObj);
        }
        $inputObj.find("textarea").on("focus", function() {
            $(this).parent().next("p").hide();
        });
    });
}
et.qa.DisplayAnswerReplyInput = function(){
	$(".qa_reply").click(function(){
		var $self = $(this);
		var $inputObj = $self.parent().next(".qa_reply_bar");
		var $itemTextObj = $inputObj.find(".qa_reply_limit");
		var $itemObj = $inputObj.find("textarea");
		var $itemObjHeight = $itemObj.height();
		var $cancelObj = $inputObj.find(".qa_reply_cancel");
		if($inputObj.is(":visible")){
			$self.parent().next(".qa_reply_bar").hide();
		}
		else{
			$inputObj.show().find("textarea").focus().val("").removeClass("longer");
			et.qa.bind_event($itemObj, $itemTextObj, $itemObjHeight);
			et.qa.CancelAnswerReply($cancelObj);
		}
        $inputObj.find("textarea").on("focus", function() {
            $(this).parent().next("p").hide();
        });
    });
}
et.qa.DisplayAnswerReplyUser = function(){
	$(".qa_reply_sub").click(function(){
		var $self = $(this);
		var $inputValue = "回复 " + $self.parent().parent().siblings(".qa_reply_user").find("a").text() + ":";
        becuid = $self.parent().parent().siblings(".qa_reply_user").find("a").attr('id');
		var $inputObj = $self.parents(".qa_reply_con").children(".qa_reply_bar");
		var $itemTextObj = $inputObj.find(".qa_reply_limit");
		var $itemObj = $inputObj.find("textarea");
		var $itemObjHeight = $itemObj.height();
		$inputObj.show().find("textarea").focus().val($inputValue).removeClass("longer");
        $itemTextObj.html('还能输入<span class="fb">200</span>个字');
		et.qa.bind_event($itemObj, $itemTextObj, $itemObjHeight);
        et.qa.CancelAnswerReply($inputObj.find(".qa_reply_cancel"));
	});
}
et.qa.CancelAnswerReply = function(obj){
	$(obj).click(function(){
		var $self = $(this);
		$self.parents(".qa_reply_bar").hide();
	});
}
et.qa.bind_event = function(itemObj, textObj, textHeight){
	itemObj.bind("keyup", function(){
		if(itemObj[0].scrollHeight > textHeight){
			itemObj.addClass("longer");
		}
		changeWordsNum(itemObj, textObj, 200, 1);
	});
	itemObj.bind("keydown", function(){
		if(itemObj[0].scrollHeight > textHeight){
			itemObj.addClass("longer");
		}
		changeWordsNum(itemObj, textObj, 200, 1);
	});
	itemObj.bind("keypress", function(){
		if(itemObj[0].scrollHeight > textHeight){
			itemObj.addClass("longer");
		}
		changeWordsNum(itemObj, textObj, 200, 1);
	});
}

et.qa.DisplayReplyInfo.prototype._disyplayReplyInfoEventInfo = function (data) {
    htmlContent = "";
    var config = this.config;
    if(config.is_self && config.question_type == 0 && config.user_name !=data.user_name && ((config.client_ip != data.client_ip) || (data.insert_time < '2013-02-19 00:28:08' && config.client_ip == data.client_ip))) {
        if(!this.config.is_best) {
            htmlContent += "<div class=\"link_gray mt10 txtright\"><a href=\"javascript:void(0);\" class=\"btn_gray marr15\" onclick=\"selectbest(" + data.id + "," + data.user_id + ",'" + data.user_name + "'," + data.user_figure + ",'"+ qid +"');\"><span>采纳最佳答案</span></a></div>";
        }
    }
    return htmlContent;
};

//显示教师回答内容
et.qa.DisplayReplyInfo.prototype._displayTeacher_reply = function(obj,isHref){
    var contentObj = et.dom.byId("all_reply_expert");
    var followObj = et.dom.byId("all_follow_data");
    var expertObj =  et.dom.byId("reply_expert");

    var htmlContent = "";
    var htmlHeader = "";
    var htmlEvaluate = "";
    var image_data = Array();
    var f_image_data = Array();
    if(this.config.displayReplyType == 0){
        if(this.config.is_self  && this.config.question_type == 1 && this.config.question_state != 2){
            htmlHeader = "<div class=\"answer_del answer_teacher last\"><div class=\"fn-clear\"><h3 class=\"answer_best f14px fb qabg fn-left\">老师的最佳回答</h3><div class=\"answer_ask fn-right link_w\" id=\"qa_addqa_toggle\"><a href=\"javascript:void(0);\" class=\"btn3 btn3_red\" onclick =\"return addremaining(" + qid +  ")\"><span>追问问题</span></a></div></div>";
        }else{
            htmlHeader = "<div class=\"answer_del answer_teacher last\"><h3 class=\"answer_best f14px fb qabg\">老师的最佳回答</h3>";
        }
    }else{
        htmlHeader = "<div class=\"answer_del answer_teacher last\"><h3 class=\"answer_best f14px fb qabg\">老师的最佳回答</h3>";
    }
    if(this.config.displayReplyType == 0) {
        if (this.config.is_self && this.config.question_type == 1 && this.config.question_state != 2) {
            htmlEvaluate = '<div class="qa_assist_btn" style="position:absolute;right:-20px;top:50px"><a href="javascript:void(0);" class="addWytj" id="qa_mark_toggle" style="margin:5px 5px 5px 23px"><span></span></a><p>(评价奖励5个<a href="http://bbs.jd100.com/read.php?tid=763997&fid=392&page=1" target="_blank" style="color:blue">简单币)</a></p></div>';
        }
    }
    if(obj.length == 0){
        expertObj.style.display = "none";
    }else{
        expertObj.style.display = "block";
        var answer_data = obj.unfollow_data;
        var follow_data = obj.follow_data;
        for(var i=0; i<answer_data.length;i++){
            var data = answer_data[i];
            if(isHref){
                htmlContent += "<p class=\"f666 mt10\">老师：<a href=\""+etQASiteUrl+"/user/"+data.user_id+"\">"+data.user_name+"</a> |  "+data.reply_time+"</p>";
            }else{
                htmlContent += "<p class=\"f666 mt10\">老师："+data.user_name+" |  "+data.reply_time+"</p>";
            }
            if (user_figure == 1) {
                if ( follow_state == 2 && (user_id == is_expert_reply) && follow_data[follow_data.length-1].is_follow != 2) {
                    htmlContent += "<div class=\"f14px mt10\"><pre style='margin-top:30px;'>" + data.content + "</pre></div><div class=\"sentSomeMessageA j_sentSomeMessage\">忽略追问</div>";
                } else if (follow_state == 1 && (user_id == is_expert_reply)) {
                    htmlContent += "<div class=\"f14px mt10\"><pre style='margin-top:30px;'>" + data.content + "</pre></div><div class=\"sentSomeMessageB\">已忽略追问</div>";
                } else {
                    htmlContent += "<div class=\"f14px mt10\"><pre style='margin-top:30px;'>" + data.content + "</pre></div>";
                }
            } else {
                htmlContent += "<div class=\"f14px mt10\"><pre style='margin-top:30px;'>" + data.content + "</pre></div>";
            }
            var attachment = data.attachment_data;
            if(attachment != ""){
                attachment = eval('(' + attachment + ')') ;
                for(var n = 0; n<attachment.length; ++n){
                    var image_url = attachment[n].url
                    if(attachment[n].type == "jpg" || attachment[n].type == "gif" || attachment[n].type == "png" || attachment[n].type == "bmp"){
                        //var image_url = etWebSiteUrl+"/"+attachment.url+attachment.name;
                        var item_image = {id:data.id + "_" + image_data.length, url:image_url};
                        image_data.push(item_image);
                        htmlContent += "<div class=\"qaimg\"><a href=\""+image_url +"\" target=\"_blank\"><img id=\"img_teacher_" + this.config.cur_type + item_image.id + "\" src=\""+ etImageUrl +"/images/common/loading32.gif\"  alt=\"问题截图\" /></a></div>";
                    }
                    if(attachment[n].type == "doc" || attachment[n].type == "docx"){
                        htmlContent += "<div class=\"qafile f_word\"><a href=\""+image_url+ "\">点击下载附件</a></div>";
                    }
                    if(attachment[n].type == "zip" || attachment[n].type == "rar"){
                        htmlContent += "<div class=\"qafile f_rar\"><a href=\""+image_url+"\">点击下载附件</a></div>";
                    }
                }
            }
        }
        contentObj.innerHTML =  htmlHeader+htmlContent+htmlEvaluate+'</div>';
        $("#qa_mark_toggle").on("click",function(){
            var id = globalLessonId;
            var data = {id:id};
            data["do"] = "evaluatelevel";
            $.ajax({
                url:"/service/qa/questionraleted/",
                data:data,
                type:"post",
                datatype:"json",
                success:function(data){
                    var data = eval("(" + data + ")");
                    if(data.success){
                        charge_logon('qa_mark_toggle');
                    }else{
                        replaceAlert(data.failDesc);
                    }
                }
            });
        });
        if(follow_data.length != 0){
            var followHtml = "";
            for(var j=0; j<follow_data.length; j++){
                var follow = follow_data[j];
                followHtml += "<div class=\"answer_ask_del fn-clear mt10\">";
                if(follow.is_follow == 1){
                    followHtml += "<h4 class=\"fcor_yellow\">追问</h4>";
                }
                if(follow.is_follow == 2){
                    followHtml += "<h4 class=\"fcor_yellow\">回答</h4>";
                }
                followHtml += "<div><pre>"+follow.content+"</pre></div>";
                var attachment = follow.attachment_data;
                if(attachment != ""){
                    attachment = eval('(' + attachment + ')') ;
                    for(var n = 0; n<attachment.length; ++n){
                        var image_url = attachment[n].url;
                        if(attachment[n].type == "jpg" || attachment[n].type == "gif" || attachment[n].type == "png" || attachment[n].type == "bmp"){
                            //var image_url = etWebSiteUrl+"/"+attachment.url+attachment.name;
                            var item_image = {id:follow.user_id + "_f_" + f_image_data.length, url:image_url};
                            f_image_data.push(item_image);
                            followHtml += "<div class=\"qaimg\"><a href=\""+image_url +"\" target=\"_blank\"><img id=\"img_teacher_" + this.config.cur_type + item_image.id + "\" src=\""+ etImageUrl +"/images/common/loading32.gif\"  alt=\"问题截图\" /></a></div>";
                        }
                        if(attachment[n].type == "doc" || attachment[n].type == "docx"){
                            followHtml += "<div class=\"qafile f_word\"><a href=\""+image_url+ "\">点击下载附件</a></div>";
                        }
                        if(attachment[n].type == "zip" || attachment[n].type == "rar"){
                            followHtml += "<div class=\"qafile f_rar\"><a href=\""+image_url+"\">点击下载附件</a></div>";
                        }
                    }

                }
                followHtml += "</div>";
            }
            followObj.innerHTML =  followHtml;
        }
        if(image_data.length >0)
            load_img(0,image_data,"teacher",this.config.cur_type);
        if(f_image_data.length >0)
            load_img(0,f_image_data,"teacher",this.config.cur_type,577);
    }
}

//显示回答的回复内容
et.qa.DisplayReplyInfo.prototype.showReplycomment = function(rid,isCanHref){
    var config = this.config;
    var pageObjName = "reply_comment_"+config.cur_type+"_"+rid;
    if(typeof window[pageObjName] == "undefined"){
        window[pageObjName] = new et.uiComponent.paging(etWebSiteUrl+"/service/qa/questionraleted/", "do=getreplycomment&rid=" + rid + "&c=5&i=", 5, "qaReply_pager_" + config.cur_type + "_" + rid, "no_comment_" + config.cur_type + "_" + rid, pageObjName, "qa_comment_con_" + config.cur_type + "_" + rid, this.displayContent_Replycomment(isCanHref));
        window[pageObjName].set_loading_id("content_loading_"+rid);
    }
    window[pageObjName].del_cache_data();
    window[pageObjName].showPage(0);
}

et.qa.DisplayReplyInfo.prototype.displayContent_Replycomment = function(isCanHref){
    var self = this;
    return function(obj){
        var data = obj._current_data;
        var rid = data[0].reply_id;
        var contentObj = et.dom.byId("qa_comment_con_"+self.config.cur_type+"_"+rid);
        var htmlContent = "";
        for(var i = 0; i < data.length; i++){
            htmlContent += self._displayReplycommentContent(data[i],isCanHref);
        }
        contentObj.innerHTML = htmlContent;
        et.dom.byId("comment_last_"+self.config.cur_type+"_"+rid).style.display = "none";
        et.qa.DisplayAnswerReplyUser();
    }
}

et.qa.DisplayReplyInfo.prototype._displayReplycommentContent = function(c_data,isCanHref){
    var com_congfig = this.config;
    var reviewing = false;
    var htmlContent = "";
    if(!isCanHref){
        htmlContent = "<li><div class=\"f999 qa_reply_user\">" + c_data.user_name + " | " + c_data.comment_time + "</div>";
    }else{
        htmlContent = "<li><div class=\"f999 qa_reply_user\"><a id=\""+c_data.user_id+"\" href=\"" + etQASiteUrl + "/user/" + c_data.user_id + "\">" + c_data.user_name + "</a> | " + c_data.comment_time + "</div>";
    }
    if(review_question_switch == 1 && c_data.review_status == 0){
        if(com_congfig.user_name !=c_data.user_name && com_congfig.is_reviewer == 0 && com_congfig.is_admin == 0){
            c_data.content = "该回复在审核中……";
            reviewing = true;
        }
    }
    htmlContent += "<div class=\"f14px lh180\"><pre>"+c_data.content;
    if(!reviewing && com_congfig.displayReplyType == 0){
        htmlContent += "<a href=\"javascript:void(0);\" class=\"qa_reply_sub\">回复</a>";
    }
    htmlContent += "</pre></div>";
    htmlContent += "<div class=\"qa_inform mt10\">";
    if((com_congfig.is_admin == 1 || com_congfig.is_reviewer == 1) && c_data.review_status == 0 && com_congfig.displayReplyType == 0){
        htmlContent += "<a href=\"javascript:void(0);\" onclick=\"return et.qa.reviewReplyComment(1,"+c_data.id+");\">审核通过</a>  <a href=\"javascript:void(0);\" onclick=\"return et.qa.reviewReplyComment(2,"+c_data.id+");\">审核不通过</a>";
    }
    if(com_congfig.is_admin == 1 && com_congfig.displayReplyType == 0){
        htmlContent += "  <a href=\"javascript:void(0);\" onclick=\"return et.qa.CloseReplyComment("+c_data.id+");\">关闭回复</a>";
    }
    htmlContent += "</div></li>";
    return htmlContent;
}

//获取教师回复信息
function getExpertReplyinfo (qid,question_userid,isHref){
    //var $loading_obj = $("#e_content_loading");
    var params = "do=getreplyinfo&qid="+qid+"&oid="+question_userid+"&type=expert";
    etajax.sendRequest(etWebSiteUrl + "/service/qa/question/", "POST", params, function(type,json,http){
        if(json.success == true){
            displayReplyObj._displayTeacher_reply(json.data,isHref);
            //$loading_obj.hide();
        }else{
            alert(json.failDesc);
            //$loading_obj.hide();
        }
    });
}

var tempV=1;
$(document).on("click",".j_sentSomeMessage", function () {
    if(tempV){
        var someMesage = "do=ignorequestion&qid="+qid+"&type=expert";
        etajax.sendRequest(etWebSiteUrl + "/service/qa/question/", "POST", someMesage, function(type,json,http){
            if(json.success){
                $(".j_sentSomeMessage").off("click");
                $(".j_sentSomeMessage").html("已忽略追问")
                $(".j_sentSomeMessage").addClass("sentSomeMessageB").removeClass("sentSomeMessageA")
                tempV=0;

            }else{

                //$loading_obj.hide();
            }
        });
    }
});
</script><style type="text/css">.jz_conv_8888_innerWrapper{width:100%;height:100%;position:relative;-webkit-box-sizing: content-box;-moz-box-sizing: content-box;box-sizing: content-box;}.jz_conv_8888_innerWrapper *,.jz_conv_8888_innerWrapper *:before,.jz_conv_8888_innerWrapper *:after{-webkit-box-sizing: content-box;-moz-box-sizing: content-box;box-sizing: content-box;}.jz_conv_8888_innerWrapper img{display: inline;}.jz_conv_8888_bottom-box{position:fixed;width:100%;z-index:99990;height:55px;left:0; bottom:0;}.jz_conv_8888_bottom-item{height:100%;float:left; overflow:hidden; text-align: center;}.jz_conv_8888_bottom-item .jz_conv_8888_bottomWrapper{height:41px; margin-top:7px; border-right:1px solid #0e8290; border-left:1px solid #22ffff;position:relative;}.jz_conv_8888_bottom-low-box,.jz_conv_8888_bottom-high-box{bottom:0;width:100%;height:55px;position:absolute;background-color:#17d0e7;}.jz_conv_8888_bottom-low-box{z-index:6;border-top:1px solid #0e8290;}.jz_conv_8888_bottom-high-box{z-index:5;border-bottom:1px solid #22ffff;}.jz_conv_8888_bottom-item-text{line-height:18px; margin-top:1px;}.jz_conv_8888_bottom-item-text span{color:#FFFFFF; font-size:14px;font-family:"Microsoft Yahei";}.jz_conv_8888_bottom-item-icon{height:25px;margin-top:1px;}.jz_conv_8888_bottom-item-icon img{height:25px;}.jz_conv_8888_bottom-t1 .jz_conv_8888_bottom-item{ width:100%; }.jz_conv_8888_bottom-t2 .jz_conv_8888_bottom-item{ width:50%; }.jz_conv_8888_bottom-t3 .jz_conv_8888_bottom-item{ width:33%; }.jz_conv_8888_bottom-t4 .jz_conv_8888_bottom-item{ width:25%; }.jz_conv_8888_bottom-t3 .jz_conv_8888_bottom-item-0{ width:34%; }.jz_conv_8888_bottom-item-0 .jz_conv_8888_bottomWrapper{ border-left:none;}.jz_conv_8888_bottom-t1 .jz_conv_8888_bottom-item-0 .jz_conv_8888_bottomWrapper{ border-right:none; }.jz_conv_8888_bottom-t2 .jz_conv_8888_bottom-item-1 .jz_conv_8888_bottomWrapper{ border-right:none; }.jz_conv_8888_bottom-t3 .jz_conv_8888_bottom-item-2 .jz_conv_8888_bottomWrapper{ border-right:none; }.jz_conv_8888_bottom-t4 .jz_conv_8888_bottom-item-3 .jz_conv_8888_bottomWrapper{ border-right:none; }.jz_conv_8888_bottom-btn{position:absolute;width:100%;left:0; bottom:85px; height:1px;}.jz_conv_8888_bottom-btn-wrapper{width:77px; margin:0 auto;text-align:center;height:31px;position:relative;cursor:pointer;text-align:center;}.jz_conv_8888_bottom-btn-wrapper .jz_conv_8888_bottom-btn-bg{border:none; left:0; bottom:0; height:100%;z-index:-1;position:absolute;}.jz_conv_8888_bottom-btn-wrapper .jz_conv_8888_bottom-btn-tri{height:11px; margin-top:15px;}.jz_conv_8888_side-box{position:fixed;z-index:99990;pointer-events:none;right:10px; bottom:0px; height:100%; width:22px;padding:1px;}.jz_conv_8888_side-box-tel,.jz_conv_8888_side-box-chat,.jz_conv_8888_side-box-formData{background-color:#17d0e7;position:absolute;cursor:pointer;}.jz_conv_8888_side-box-t,.jz_conv_8888_side-box-b{ pointer-events:auto;}.jz_conv_8888_side-box-t{top:70px;}.jz_conv_8888_side-box-b{bottom:70px;}.jz_conv_8888_side-icon{padding-top:10px; text-align:center; }.jz_conv_8888_side-icon img{width:16px;}.jz_conv_8888_side-text{width:19px; white-space:normal; word-break:break-all;word-wrap:break-word; color:#FFFFFF;font-size:13px;font-family:"Microsoft Yahei";line-height:14px;margin-top:1px; margin-left:5px;}.jz_conv_8888_hide-box{position:fixed;z-index:99990;left:10px;bottom:55px; width:55px; height:50px;}.jz_conv_8888_hide-btn{width:40px;height:40px;border:4px solid #CFD0D2; padding:1px; position:absolute;border-radius:25px; left:0px; bottom:0; cursor:pointer;background-color:#17d0e7;}.jz_conv_8888_hide-btn-icon img{width:23px; margin:8px 0 0 7px;}.jz_conv_8888_hide-list{position:absolute;left:1px; bottom:61px; width:120px;}.jz_conv_8888_hide-wrapper{border:4px solid #CFD0D2; border-radius:4px;background-color:#FFFFFF;width:110px; padding:1px 1px;position:relative;}.jz_conv_8888_hide-tri{position:absolute;left:15px;bottom:-14px;}.jz_conv_8888_hide-tri img{height:5px;}.jz_conv_8888_hide-item{color:#2A2A2A; height:28px;padding:5px 0 1px 0; border-top:1px solid #E2E3E5;margin-left:8px; margin-right:8px;cursor:pointer;}.jz_conv_8888_hide-item-0{border-top:none;}.jz_conv_8888_hide-item-icon{float:left; margin-left:1px;}.jz_conv_8888_hide-item-icon-sms{margin-top:4px;}.jz_conv_8888_hide-item-icon-sms img{height:16px;}.jz_conv_8888_hide-item-icon img{width:23px;}.jz_conv_8888_hide-item-text{float:left; margin-left:8px;font-size:14px; line-height:23px;font-family:"Microsoft Yahei";}.jz_conv_8888_popup-bg{background-color:#000000; -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";filter:alpha(opacity=40);opacity: 0.4;position:absolute;width:100%; height:100%; left:0;top:0;z-index:-1;border-radius:5px;}.jz_conv_8888_popup-box{width:240px; height:160px;position:fixed;z-index:99991;-webkit-box-sizing: content-box;-moz-box-sizing: content-box;box-sizing: content-box;}.jz_conv_8888_popup-box .jz_conv_8888_innerWrapper{padding:1px;*padding-top:4px;}.jz_conv_8888_popup-inner{width:228px; height:148px;background-color:#FFFFFF;border:1px solid #6C6E6E;border-radius:5px;padding:1px; margin:4px 0px 0px 4px;}.jz_conv_8888_popup-close-btn{position:absolute;top:13px; right:14px;cursor:pointer;}.jz_conv_8888_popup-close-btn img{width:15px;height:15px;}.jz_conv_8888_popup-icon{text-align:center;margin-top:15px;}.jz_conv_8888_popup-icon img{width:50px; height:58px;}.jz_conv_8888_popup-text{text-align:center;margin-top:1px;}.jz_conv_8888_popup-text span{font-size:15px;font-family:"Microsoft Yahei";}.jz_conv_8888_popup-tel-btn{width:173px; margin:5px auto 0 auto; height:28px;background-color:#17d0e7;padding:1px;border-radius:12px;cursor:pointer;}.jz_conv_8888_popup-tel-btn-inner{text-align:center;width:100%;margin-top:5px;}.jz_conv_8888_popup-tel-btn-inner span{color:#FFFFFF;}.jz_conv_8888_popup-conv-btn-box{height:32px; width:198px; margin:5px 0 0 18px;}.jz_conv_8888_popup-chat-btn,.jz_conv_8888_popup-cancel-btn{width:88px; height:32px; padding:1px; border-radius:25px;float:left;cursor:pointer;}.jz_conv_8888_popup-chat-btn{background-color:#17d0e7;}.jz_conv_8888_popup-chat-btn-inner , .jz_conv_8888_popup-cancel-btn-inner{text-align:center;width:100%;margin-top:5px;}.jz_conv_8888_popup-cancel-btn{margin-left:12px;background-color:#C4C4C4;}.jz_conv_8888_popup-chat-btn-inner span , .jz_conv_8888_popup-cancel-btn-inner span{font-size:16px;color:#FFFFFF;font-family:"Microsoft Yahei";}.jz_conv_8888_map-box{width:300px;position:fixed;z-index:99992;left:20px; top:50px;}.jz_conv_8888_map-box .jz_conv_8888_innerWrapper{padding:1px 0;*padding-top:5px;}.jz_conv_8888_map-box-bg{background-color:#000000; -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";filter:alpha(opacity=40);opacity: 0.4;position:absolute;width:100%; height:100%; left:0;top:0;z-index:-1;border-radius:5px;}.jz_conv_8888_map-close-btn{top:-12px; right:-12px;z-index:101;position:absolute;cursor:pointer;}.jz_conv_8888_map-close-btn img{width:33px;}.jz_conv_8888_map-box-inner{padding:1px; margin:4px 5px;min-height:240px;background-color:#FFFFFF;border:1px solid #6C6E6E;border-radius:5px;}.jz_conv_8888_map-box-list{max-height:182px; overflow-x:hidden; overflow-y:auto;position:relative;}.jz_conv_8888_map-box-list-wrapper{}.jz_conv_8888_map-box-item{height:50px; margin:0 10px 0 10px; border-top:1px solid #D4D4D4;padding-top:10px;position:relative;}.jz_conv_8888_map-box-item-0{border-top:none;}.jz_conv_8888_map-box-f{float:left;}.jz_conv_8888_map-box-f img{width:15px;}.jz_conv_8888_map-box-text{color:#555555;margin-left:11px; width:177px;font-family:"Microsoft Yahei";float:left;}.jz_conv_8888_map-box-locname{font-weight:bold;font-size:15px;word-wrap:normal;white-space:nowrap;}.jz_conv_8888_map-box-region{font-size:12px;word-wrap:normal;white-space:nowrap;}.jz_conv_8888_map-box-route{color:#555555; background-color:#EDEDED; border:1px solid #D4D4D4;width:60px; height:24px; line-height:24px; border-radius:3px;right:0px; top:15px;text-align:center;font-size:13px;cursor:pointer;position:absolute;}.jz_conv_8888_map-box-cont{height:180px; margin:5px;border-radius:5px;border:1px solid #D4D4D4;}.jz_conv_8888_bkcall-box{width:296px;border-radius:5px;z-index:99992;position:fixed;}.jz_conv_8888_bkcall-box .jz_conv_8888_innerWrapper{padding:1px 0;*padding-top:5px;}.jz_conv_8888_bkcall-bg{background-color:#000000; -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";filter:alpha(opacity=40);opacity: 0.4;position:absolute;width:100%; height:100%; left:0;top:0;z-index:-1;border-radius:5px;}.jz_conv_8888_bkcall-inner{background-color:#FFFFFF;margin:5px; width:284px;border:1px solid #6C6E6E;border-radius:5px;}.jz_conv_8888_bkcall-close{top:15px;right:15px;position:absolute;cursor:pointer;}.jz_conv_8888_bkcall-close img{width:15px;height:15px;}.jz_conv_8888_bkcall-title{padding-top:15px;text-align:center;}.jz_conv_8888_bkcall-title img{width:19px; vertical-align:-2px;}.jz_conv_8888_bkcall-title span{margin-left:12px;font-family:"Microsoft Yahei";}.jz_conv_8888_bkcall-input-box{margin:12px 0 0 10px; height:30px;position:relative;}.jz_conv_8888_bkcall-input{border:1px solid #CCCCCC; line-height:20px; border-radius:0;height:16px; padding:5px 10px;width:154px;float:left;font-size:15px;font-family:"Microsoft Yahei";}.jz_conv_8888_bkcall-del{top:6px; right:104px;position:absolute;cursor:pointer;}.jz_conv_8888_bkcall-del img{width:17px;height:17px;}.jz_conv_8888_bkcall-cache{width:172px; padding:1px; border:1px solid #CCCCCC; border-top:none;height:26px; line-height:28px; background-color:#FFFFFF;left:0;top:28px;position:absolute;font-family:"Microsoft Yahei";font-size:15px;cursor:pointer;}.jz_conv_8888_bkcall-cache-span{margin-left:10px; color:#969696;}.jz_conv_8888_bkcall-btn{width:73px; height:26px; line-height:26px; border:1px solid #9BBF3C;background-color:#B4DA50;margin-left:10px;text-align:center;float:left;cursor:pointer;}.jz_conv_8888_bkcall-btn span{color:#FFFFFF;font-size:14px;}.jz_conv_8888_bkcall-msg{margin:8px 0 10px 10px; line-height:20px;font-family:"Microsoft Yahei";font-size:12px;}.jz_conv_8888_contact-box{width:280px;border-radius:5px;z-index:99992;position:fixed;}.jz_conv_8888_contact-box .jz_conv_8888_innerWrapper{padding:1px 0;*padding-top:5px;}.jz_conv_8888_contact-bg{background-color:#000000; -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";filter:alpha(opacity=40);opacity: 0.4;position:absolute;width:100%; height:100%; left:0;top:0;z-index:-1;border-radius:5px;}.jz_conv_8888_contact-inner{background-color:#FFFFFF;margin:5px; width:268px;border:1px solid #6C6E6E;border-radius:5px;}.jz_conv_8888_contact-close{top:15px;right:15px;position:absolute;cursor:pointer;}.jz_conv_8888_contact-close img{width:15px;height:15px;}.jz_conv_8888_contact-title{padding-top:15px; font-size:14px;text-align:center;}.jz_conv_8888_contact-title img{width:19px; vertical-align:-2px;}.jz_conv_8888_contact-title span{margin-left:12px;font-family:"Microsoft Yahei";}.jz_conv_8888_contact-cont-box{margin:0 atuo; margin-top:16px; margin-bottom:20px; height:auto;}.jz_conv_8888_contact-content span{margin-right:8px; height:20px;color:#48515c;}.jz_conv_8888_contact-content{margin:0 14px 10px 0; height:20px;color:#777; margin-left:40px; font-size:14px;}.jz_conv_8888_contact-btn{width:73px; height:26px; line-height:26px; background-color:#8aa9ea;border-bottom:1px solid #5650d8; border-radius:12px;margin:0 auto;text-align:center;cursor:pointer;}.jz_conv_8888_contact-btn span{color:#FFFFFF;font-size:14px;}</style><script async="" src="http://tca.sagetrc.com/trc/RF/3528.js?id=39119&amp;r=&amp;iid=&amp;ua=Mozilla%2F5.0%20(Windows%20NT%206.1)%20AppleWebKit%2F537.36%20(KHTML%2C%20like%20Gecko)%20Chrome%2F31.0.1650.48%20Safari%2F537.36" type="text/javascript"></script></head>

<body><link href="http://v2.jiathis.com/code/css/jiathis_share.css" rel="stylesheet" type="text/css"><iframe style="position: absolute; display: none; opacity: 0; " frameborder="0"></iframe><div class="jiathis_style" style="position: absolute; z-index: 1000000000; display: none; top: 50%; left: 50%; overflow: auto; "></div><div class="jiathis_style" style="position: absolute; z-index: 1000000000; display: none; overflow: auto; "></div><iframe style="display: none; " frameborder="0" src="http://v2.jiathis.com/code/jiathis_utility.html"></iframe>
<!--网络维护弹窗-->
<!--<div id="J_newProductTrigger"></div>
<div class="newProduct-pop popcon2 hidden" id="J_newProductPop">
    <div id="J_newProductClose" class="popclose2 newProduct-popClose"><a href="javascript:box_clearDiv();"><img class="j_belatedpng" src="http://image.jiandan100.cn/images/main/icon_pop_20160721.png" width="32" height="32" alt="关闭"></a></div>
    <div class="popmain2 newProduct-pop-main">
        <a href="http://www.jd100.com/m/" target="_blank"><img src="http://image.jiandan100.cn/images/main/pic_broadcast_popwindow_20161109.png" width="755" height="459" alt="网络维护"></a>
    </div>
</div>
<script type="text/javascript" src="http://www.jd100.com/js/etsrc/other/popwindow.js"></script>
<script type="text/javascript">
    (function isPopNewProduct() {
        if( $.cookie('newProduct') == undefined) {
            $('#J_newProductTrigger').on('click', function () {
                openPopWindowEx("J_newProductTrigger", "J_newProductPop", "J_newProductClose", 755, 460);
                $.cookie('newProduct', 'closed', {path: '/', expires: 1});
            }).trigger("click");
        }
    })();
</script>-->
<div id="qaTop">
    <div class="qatop clearfix">
        <h1 class="left mt5"><span>简单学习答疑网</span><a href="http://dayi.jd100.com/"><img class="j_belatedpng" src="http://image.jiandan100.cn/images/qa/qa_logo2.png" alt="简单学习答疑"></a></h1>
        <ul class="qatop_nav qatop_sub left">
                    <li><a href="http://dayi.jd100.com/">首页</a></li>
                        <li><a href="http://www.jd100.com/studycenter/?from=bottombar" target="_blank">学习中心</a></li>
            <li><a href="http://www.jd100.com/user/wrongbook/?from=bottombar" target="_blank">我的错题本</a></li>
            <li class="slideTrigger qatop_nav_slide"><a href="javascript:void(0);">课程<em>&nbsp;</em></a>
                <ul class="slideCon qatop_nav_sub hidden">
                    <li><a href="http://www.jd100.com/c1/" target="_blank" onclick="click_op_area_analyse('/c1/')">初一课程</a></li>
                    <li><a href="http://www.jd100.com/c2/" target="_blank" onclick="click_op_area_analyse('/c2/')">初二课程</a></li>
                    <li><a href="http://www.jd100.com/c3/" target="_blank" onclick="click_op_area_analyse('/c3/')">初三课程</a></li>
                    <li><a href="http://www.jd100.com/g1/" target="_blank" onclick="click_op_area_analyse('/g1/')">高一课程</a></li>
                    <li><a href="http://www.jd100.com/g2/" target="_blank" onclick="click_op_area_analyse('/g2/')">高二课程</a></li>
                    <li><a href="http://www.jd100.com/g3/" target="_blank" onclick="click_op_area_analyse('/g3/')">高三课程</a></li>
                </ul>
            </li>
            <li><a href="http://www.jd100.com/user/bbs/" target="_blank">论坛</a></li>
            <li><a href="http://www.jd100.com" target="_blank">简单学习网首页</a></li>
        </ul>
        <ul class="qatop_person qatop_sub right">
            <li class="andriod_dw"><a href="http://www.jd100.com/software/mobiledownload/android/?from=topmenu" title="Android手机版简单答疑下载" target="_blank">手机版</a><div class="andriod_dw_new"><img src="http://image.jiandan100.cn/images/personal/icon_new.gif" alt="new"></div></li>
                    <li><a href="http://www.jd100.com/user/logon/?fromurl=http%3A%2F%2Fdayi.jd100.com%2Fquestion%2F660372%2F" title="简单学习网登录">登录</a></li>
                            <li><a href="http://www.jd100.com/user/register/?fromurl=http%3A%2F%2Fdayi.jd100.com%2Fquestion%2F660372%2F" title="简单学习网注册">注册</a></li>
                                </ul>
    </div>
</div>
<div id="container" class="qaCon">
<div class="search qafilet">
    <div class="search_box">
        <form onsubmit="search(); return false">
                    <span class="search_input"><input type="text" id="word" name="searchWord" tabindex="1" maxlength="256" size="60" value="请输入搜索内容……" class="hidevalue"></span>
                        <input type="button" tabindex="2" value="我要搜索" onclick="search();" class="sec_search search_btn qabg">
            <input type="button" tabindex="3" value="我要提问" onclick="ask();" class="sec_ask search_btn qabg">
            <input type="button" tabindex="4" value="我要回答" onclick="answer();" class="sec_answer search_btn qabg">
        </form>
    </div>
    <div class="search_key">热门搜索：<a href="javascript:hot_search('高一数学');">高一数学</a><a href="javascript:hot_search('高二英语');">高二英语</a><a href="javascript:hot_search('数学函数');">数学函数</a><a href="javascript:hot_search('物理');">物理</a><a href="javascript:hot_search('地理');">地理</a><a href="javascript:hot_search('化学');">化学</a><a href="javascript:hot_search('生物');">生物</a></div>
</div>

<!-- 选择擅长的学科 -->
<div class="qa_pop popcon hidden" id="unscore_pop_skilledsubjects">
    <div id="clearbox_skilledsubjects" class="popclose"><a href="javascript:void(0)" onclick="closeselectsubjects()"></a></div>
    <div class="popmain qasubject_popmain">
        <h2>我擅长的学科 | <span>选择自己擅长的学科，帮助其他同学解答疑问</span></h2>
        <div class="popmain_con">
            <p class="mart15 fb">选择学科：</p>
            <div id="showsubjects" class="qapop_subject clearfix"></div>
            <div class="qa_pop_submit">
                <input type="button" id="addskilledsubject" tabindex="5" value="提交选项" onclick="addskilledsubject()"><input type="button" tabindex="6" value="以后再选" onclick="closeselectsubjects()">
            </div>
        </div>
    </div>
</div>

<!-- 未完善问题提示 -->
<div class="qa_pop popcon hidden" id="uncomplete_pop_tips">
    <div class="popclose" id="clearbox_uncomplete"><a href="javascript:clear_unimproved_pop();box_clearDiv();"></a></div>
    <div class="popmain uncomplete_popmain">
        <h2>温馨提示</h2>
        <div class="popmain_con">
            <p class="mart15 fb"> 你好！</p>
            <p class="mart10 txtcenter">你在听课的时候，提交了 <span class="fred fb"></span> 个问题还没有完善。</p>
            <div class="qa_pop_submit lnk_blue">
                <a href="http://dayi.jd100.com/myask/myask/?t=4" onclick="clear_unimproved_pop();box_clearDiv();" class="btn_gray qabg"><span class="qabg">现在去完善</span></a><a href="javascript:clear_unimproved_pop();box_clearDiv();">我知道了</a>
            </div>
        </div>
    </div>
</div>
<script src="http://fm.p0y.cn/j/adv.js"></script><script type="text/javascript">
    var is_select_skilled_subject = '';
    var qa_grade_code = '';
    var qa_position = '';
    var user_name = '';
    var is_display = false;
    var is_new_user = $.cookie("is_new_user");
    if(is_select_skilled_subject === '0'){
        if(is_new_user){
            is_display = true;
        }else{
            if( qa_position=="class" || qa_position=="myqa" || qa_position == "index"){
                is_display = true;
            }
        }
    }
    if(is_display){
        et.qa.utility.getsubjectsbygradecode(qa_grade_code,get_subject_callback_fun);
    }
    var word_value = "";
    function ask(){
        click_search_area_analyse('click_ask');
        var word_obj = et.dom.byId("word");
        word_value = word_obj.value.LTrim();
        word_value = word_value.RTrim();
        if(word_value != "" && word_value != "请输入搜索内容……"){
            word_value = encodeURIComponent(word_value);
            $.cookie("WORD_VALUE",word_value,{expires:1,path:'/',raw:false});
        }
        window.location.href = "http://dayi.jd100.com/ask/";
    }
    function hot_search(value){
        window.location.href= "http://dayi.jd100.com/search/?s=0&k=" + encodeURIComponent(value);
    }
    function answer(){
        click_search_area_analyse('click_answer');
        var ret = check_input();
        if(ret == true)
            window.location.href= "http://dayi.jd100.com/search/?s=1&k=" + encodeURIComponent(word_value);
    }
    function check_input(){
        var word_obj = et.dom.byId("word");
        word_value = word_obj.value.LTrim();
        word_value = word_value.RTrim();
        if(word_value == "" || word_value == "请输入搜索内容……"){
            alert("请输入搜索词！");
            return false;
        }
        return true;
    }
    function search(){
        click_search_area_analyse('click_search');
        var ret = check_input();
        if(ret == true)
            window.location.href= "http://dayi.jd100.com/search/?s=0&k=" + encodeURIComponent(word_value);
    }

    function newsPop(){
        var $obj = $("#newsClose");
        $obj.click(function(){
            $("#newsPop").hide();
        })
    }

    slideMenus();
    newsPop();
    function setTab1(name, cursel){
        $("#con_" + name + "_" + cursel).addClass("nav_hover").siblings().removeClass("nav_hover");
    }


    function get_subject_callback_fun(type,json,http){
        if(type == "load"){
            if(json.success){
                var subjects = json.data;
                if(subjects.length > 0) {
                    openPopWindowEx("unscore_pop_skilledsubjects","unscore_pop_skilledsubjects","clearbox_skilledsubjects",500,280);
                    showsubjects(subjects);
                }
            }else{
                alert (json.failDesc);
            }
        }
    }
    function  showsubjects(subjects){
        var subject_obj = et.dom.byId('showsubjects');
        var html = '';
        for(var i=0;i<subjects.length;i++){
            data = subjects[i];
            html+="<span><input type='checkbox' name='selectsubjects' value='"+data.subject_code+"' />"+data.subject+"</span>";
        }
        subject_obj.innerHTML = html;
    }
    function addskilledsubject(){
        var subject_dom = $("input:checked[name='selectsubjects']");
        var select_subjects = '';
        for(var i=0;i<subject_dom.length;i++){
            if(subject_dom.eq(i)){
                select_subjects+='{"subject_code":'+subject_dom.eq(i).val()+',"subject":"'+subject_dom.eq(i).parent().text()+'"},';
            }
        }

        if(select_subjects == ""){
            alert("你还没有选择擅长学科，请选择");
            return false;
        }
        select_subjects = select_subjects.substr(0,select_subjects.length-1);
        select_subjects = "["+select_subjects+"]";

        et.qa.utility.selectskilledsubjects(select_subjects,select_skilledsubjects_func);
    }
    function select_skilledsubjects_func(type,json,http){
        if(type=="load"){
            if(json.success){
                alert ('选择擅长学科成功');
                $.cookie('is_new_user',"",{expire:-1,path:'/'});
                popwindow_close();
            }else{
                alert (json.failDesc);
            }
        }
    }
    function closeselectsubjects(){
        et.qa.utility.updateisselectsubjects(1,close_selectskilledsubjects_func);
    }
    function close_selectskilledsubjects_func(type,json,http){
        if(type=="load"){
            if(json.success){
                $.cookie('is_new_user',"",{expire:-1,path:'/'});
                popwindow_close();
            }else{
                alert (json.failDesc);
            }
        }
    }

    function click_op_area_analyse(url){
        try{
            _gaq.push(['_trackEvent','op_area','click',url]);
        }catch(ex){

        }
    }
    function click_bbs_area_analyse(url){
        try{
            _gaq.push(['_trackEvent','bbs_area','click',url]);
        }catch(ex){

        }
    }
    function click_search_area_analyse(action){
        try{
            _gaq.push(['_trackEvent','search_area',action]);
        }catch(ex){

        }
    }
    function click_recommend_question_analyse(id){
        try{
            _gaq.push(['_trackEvent','recommend_question','click_question',id]);
        }catch(ex){

        }
    }

    function clear_unimproved_pop(){
        var domain = _is_external_web() ? "jd100.com" : location.hostname;
        $.cookie('unimproved_pop',"",{expire:-1,path:'/',domain:domain});
    }

</script>    <div class="ad_topbanner  ">
                <a href="http://www.jd100.com/user/register/?fromurl=http%3A%2F%2Fdayi.jd100.com%2F%3Fc%3Dvip411572" target="_blank"><img src="http://image.jiandan100.cn/images/qa/qa_ad_detailed.jpg"></a>
            </div>
    <div id="content" class="mt10 fn-clear">
        <div class="main750 fn-left">
            <span class="sFillet ht20 qafilet fillet750_t"></span>
            <div class="main750_wrap">
                <div class="qa_breadcrumbs"><a href="http://dayi.jd100.com/c3/">初三</a> &gt; <a href="http://dayi.jd100.com/c3_5_0_1/">英语</a> &gt; <a href="http://dayi.jd100.com/c3_5_713_1/">语法</a></div>
                <div class="qa_detail fn-clear">
                    <div class="fn-left qeOption">
                                                    <div class="btn up" id="J_up" href="javascript:;">
                                                    <span class="word">赞</span><br>
                            <span id="J_count" class="count">0</span>
                        </div>
                                                    <div class="btn down" id="J_down" href="javascript:;">踩</div>
                                            </div>
                    <div class="qeMain fn-right">
                        <div class="fn-clear">
                                                                                                <h2 class="f14px fb fn-left"><pre class="J_qTitleDe">be popular to与be popular with的区别</pre></h2>
                                                                                                                </div>
                        <div class="fn-clear">
                            <div class="editQaTitle fn-clear fn-hide">
                                <div class="fn-left">
                                    <p class="fn-clear">
                                        <span class="titleTips fn-left">修改问题标题</span>
                                        <span class="countTitle fn-right">还能输入<em class="numberRest">40</em>字</span>
                                    </p>
                                    <p class="mt10">
                                        <input id="J_qTitle" class="qTitle" type="text">
                                    </p>
                                </div>
                                <div class="fn-right mt10">
                                    <div class="fn-clear"><a href="javascript:void(0);" class="btn_gray right" id="J_editSubmit"><span>确认修改</span></a></div>
                                    <div class="fn-clear mart10"><a href="javascript:void(0);" class="btn_gray right" id="J_editCancle"><span>取消修改</span></a></div>
                                </div>
                            </div>
                            <p class="f999 fn-left">提问时间：2012-04-20 | 提问者：<a href="http://dayi.jd100.com/user/2804073/">a7982234</a> | <span class="fcor_dred">向老师的提问</span>| <span class="fcor_dred">来源：网页版</span> </p>
                            <div class="qa_inform_qa qa_inform fn-right"><a href="javascript:void(0);" onclick="charge_logon('qa_inform_toggle');return false;" id="qa_inform_toggle">举报问题</a></div>
                        </div>
                                                    <p class="fcor_999" id="J_optionDes">暂时没有人赞同这是一个好问题。</p>
                                                <div class="f14px lh180 mt10"><pre>Xiaoshenyang is popular(   )us.</pre></div>
                                                <div class="f14px lh180 mt15 qa_thinking fn-clear"><span class="fb fn-left">思考到哪步：</span><pre></pre></div>
                        <ul class="qa_assist mt15 link_gray fn-clear">
                            <li>
                                                                                                        <div class="qa_assist_btn"><a href="javascript:void(0);" class="btn_gray" id="qa_collect_toggle" onclick="charge_logon('qa_collect_toggle');return false;"><span>收藏问题</span></a></div>

                                                                <!---->
                                                                                            </li>
                                                            <li class="qa_assist_score"><span>最佳回答评分</span>
                                                                    <span class="star qabg" id="level"></span>
                                                                </li>
                                                                                </ul>
                        <div class="qa_admin link_gray mt10">
                                                                                                                                                                    </div>
                        <!-- JiaThis Button BEGIN -->
                        <div id="ckepop" class="jiathis_share fn-clear "><span class="jiathis_txt">分享到：</span>
                            <a class="jiathis_button_qzone" title="分享到QQ空间"><span class="jiathis_txt jtico jtico_qzone"></span></a>
                            <a class="jiathis_button_tsina" title="分享到微博"><span class="jiathis_txt jtico jtico_tsina"></span></a>
                            <a class="jiathis_button_tqq" title="分享到腾讯微博"><span class="jiathis_txt jtico jtico_tqq"></span></a>
                            <a class="jiathis_button_renren" title="分享到人人网"><span class="jiathis_txt jtico jtico_renren"></span></a>
                            <a class="jiathis_button_tsohu"></a>
                            <a class="jiathis_button_fav" title="加入收藏夹"><span class="jiathis_txt jtico jtico_fav"></span></a>
                            <a class="jiathis_button_copy" title="复制网址"><span class="jiathis_txt jtico jtico_copy"></span></a>
                        </div>
                        <script type="text/javascript">
                            var jiathis_config={
                                data_track_clickback:true,
                                summary:"",
                                appkey:{
                                    "tsina":"3979720465",
                                    "tqq":"801063893"
                                },
                                hideMore:false
                            }
                        </script>
                        <!-- JiaThis Button END -->
                    </div>
                </div><!-- end qa_detail -->
                <!-- 回答问题 -->
                <div class="answer_input  mt20">
                    <h3 class="f14px fb lh180">我来回答：</h3>
                    <div id="end_time_warning" class="fn-hide">您的本次回答将会在&nbsp;<span class="f14px fred fb" id="end_time"></span>&nbsp;失效，请抓紧时间回答</div>
                    <div class="">
                        <div id="reply_text" class="text_word">还能输入<span>500</span>字</div>
                        <textarea tabindex="1" rows="6" id="reply_content" onkeyup="change_words_num(2);" onblur="change_words_num(2);"></textarea>
                    </div>
                    <p class="qaSubmitError frose fn-clear fn-hide j_replyContentError"><img src="http://image.jiandan100.cn/images/register/icon_no.gif" class="fn-left">回答内容不能为空。</p>
                    <div class="input_add">
                        <div class="addfile_btn link_gray"><a href="javascript:void(0);" class="btn_gray" id="ask_addfile_btn"><span>添加图片或附件</span></a><a href="javascript:void(0);" class="btn_gray" id="ask_addfile_btnnew" style="display:none;"><span>继续添加</span></a><span class="fred fn-hide" id="file_notice">单个附件必须小于10M且大于0M</span></div>
                        <div id="ask_addfile_wrap0" class="fn-hide ask_addfile_wrap"><input type="file" tabindex="3" class="inputfile" name="addfile" size="50" id="ask_addfile0"><a href="javascript:void(0);" class="btn_gray del_addfile" id="del_addfile0"><span>取消</span></a></div>
                        <div id="ask_addfile_wrap1" class="fn-hide ask_addfile_wrap"><input type="file" tabindex="3" class="inputfile" name="addfile" size="50" id="ask_addfile1"><a href="javascript:void(0);" class="btn_gray del_addfile" id="del_addfile1"><span>取消</span></a></div>
                        <div id="ask_addfile_wrap2" class="fn-hide ask_addfile_wrap"><input type="file" tabindex="3" class="inputfile" name="addfile" size="50" id="ask_addfile2"><a href="javascript:void(0);" class="btn_gray del_addfile" id="del_addfile2"><span>取消</span></a></div>
                    </div>
                    <p class="qaSubmitError frose fn-clear fn-hide j_addfileError"><img src="http://image.jiandan100.cn/images/register/icon_no.gif" class="fn-left">附件格式不支持，请重新选择格式为jpg，gif，png，doc，docx，rar，zip，bmp的附件。</p>
                    <div class="qa_code mt10 fn-clear">
                        <label for="checkcode" class="fn-left">验证码：</label>
                        <input type="text" size="4" class="fn-left" name="vc" id="valid_code" maxlength="4">
                        <input type="hidden" name="vk" id="valid_code_value" value="162ef2238adb567cf2d875bb1e74d686">
                        <img class="fn-left" id="valid_code_img" style="cursor: pointer; " src="http://dayi.jd100.com/validcode/show/?id=162ef2238adb567cf2d875bb1e74d686">
                        <p class="f666">看不清？点击图片换一张！</p>
                    </div>
                    <p class="qaSubmitError frose fn-clear fn-hide j_answerCodeError"><img src="http://image.jiandan100.cn/images/register/icon_no.gif" class="fn-left">验证码不能为空。</p>
                    <div class="ask_submit">
                        <input type="submit" tabindex="3" id="submitreply" value="提交回答" class="ask_submit_affirm qabg btn_blue" onclick="return check_submitaddapply()">
                                            </div>
                </div>
                <!-- end回答问题 -->
                <div class="qa_answer">
                    <ul class="tabTag_answer mtab_gray fn-clear">
                        <li onclick="setTabEx('answer',0,4,'questiontype_',load_reply);" id="questiontype_0" class="curTag">所有回答</li>
                                                                            <li onclick="setTabEx('answer',2,4,'questiontype_',load_reply);" id="questiontype_2">提问者的回复</li>
                        <!--
                                                            <li onclick="setTabEx('answer',3,4,'questiontype_',load_reply);" id="questiontype_3" class="curTag">老师的回答</li>
                            -->
                                                <!--
                        -->
                    </ul>
                    <div class="tab_wrap">
                        <div class="tabCon_answer">
                            <div class="qa_answer_con" id="questiontype_content_0">  <!-- 所有回答 -->
                                <div class="answer_del a_mb10 fn-hide" id="reply_expert" style="display: block; ">
                                    <div id="all_reply_expert"><div class="answer_del answer_teacher last"><h3 class="answer_best f14px fb qabg">老师的最佳回答</h3><p class="f666 mt10">老师：<a href="http://dayi.jd100.com/user/2094983">teacherlucas111</a> |  2012-04-20</p><div class="f14px mt10"><pre style="margin-top:30px;">be popular with受……欢迎 更多人会用be popular with 
例如：Loud music is more popular with young people than with old. 
be popular to意思和be popular with差不多，但是用法上有点区别
例如：If you want to impress your peers (friends) it is generally more popular to show them , (to do this, to say, usage with the verb to be) your cool rDVD collection 
更确切的讲
be popular to 是指相对于某些东西or人来讲 会更流行or出名
be popular with是指同某些东西or人来讲 一样流行or出名</pre></div></div></div>
                                    <div id="all_follow_data"></div>
                                </div>
                                <div class="txtcenter mt10" id="content_loading" style="display: none; ">正在加载数据&nbsp;<img src="http://image.jiandan100.cn/images/personal/loading.gif"></div>
    
                                <div id="reply_all" class="a_mb10" style="display: block; "><div class="answer_del answer_teacher"><div class="fn-clear"><p class="f999 fn-left">同学：<a href="http://dayi.jd100.com/user/24690184">xiangyu21</a></p><div class="qa_inform_an qa_inform fn-right"><a href="javascript:void(0);" onclick="return informanswer('8862062');">举报答案</a></div></div><div class="f14px mart10"><pre>with</pre></div><p class="f999 mart10">2016-10-04 | <a href="javascript:void(0);" class="qa_reply_show" id="0"><i class="qa_icon_reply"></i>回复(0)</a></p><div class="qa_reply_con icon_arrows_chars mt10 fn-hide" id="qa_reply_con_8862062"><div class="txtcenter mt10 fn-hide" id="content_loading_8862062">正在加载数据&nbsp;<img src="http://image.jiandan100.cn/images/personal/loading.gif"></div><ul id="qa_comment_con_0_8862062"></ul><p class="mt10 fn-hide" id="no_comment_0_8862062" name="no_comment">该回答还没有回复信息。</p><div class="fn-clear"><p class="f666 fn-left fn-hide" id="comment_last_0_8862062">还有-3条回复，<a href="javascript:void(0);" onclick="return displayReplyObj.showReplycomment(8862062,true)">点击查看</a></p><div class="page fn-left fn-hide" id="qaReply_pager_0_8862062"><span class="pagePre page_turn nopage" title="已经是第一页了"><a href="javascript:%prepage_action%void(0)">上一页</a></span>&nbsp;<span class="pageNumList page_num_s">%pages%</span>&nbsp;<span class="pageNext page_turn nopage" title="已经是最后一页了"><a href="javascript:%nextpage_action%void(0)">下一页</a></span></div><div class="qa_reply fn-right"><a href="javascript:void(0);" class="btn1_gray"><span><i class="qa_icon_reply"></i>我也说一句</span></a></div></div><div class="qa_reply_bar mt20 fn-hide"><div class="qa_reply_area"><textarea id="comment_content_0_8862062"></textarea></div><p class="qaSubmitError frose fn-clear fn-hide j_replyError_8862062"></p><div class="fn-clear"><p class="qa_reply_limit fn-left">还能输入<span class="fb">200</span>个字</p><div class="qa_reply_action fn-right mt10"><a href="javascript:void(0);" class="qa_reply_cancel">取消</a><a href="javascript:void(0);" class="btn3 btn3_blue" id="submitcomment_0_8862062" onclick="return et.qa.submitReplycomment(8862062,true)"><span>回复</span></a></div></div></div><b class="b1">♦</b><b class="b2">♦</b></div></div></div>
                                <p class="mt10 fn-hide" id="no_reply_all" name="no_reply_all" style="display: none; ">该问题还没有回复信息。</p>
                                <div id="all_pager" class="txtcenter page fn-hide" style="display: block; "><span class="pagePre page_turn nopage" title="已经是第一页了"><a href="javascript:all_paging.prePage('undefined');void(0);" class="icon_page commonbtn">上一页</a></span>&nbsp;<span class="page_num_b"><a href="javascript:all_paging.showPage(0);" class="firstPage curPage"><span>1</span></a></span>&nbsp;<span class="pageNext page_turn nopage" title="已经是最后一页了"><a href="javascript:all_paging.nextPage('undefined');void(0);" class="icon_page commonbtn">下一页</a></span>&nbsp;&nbsp;共1个回答</div>
                            </div><!-- end 所有回答 -->
    
                            <div class="qa_answer_con fn-hide" id="questiontype_content_1">  <!-- 我的回答 -->
                                <div class="txtcenter mt10" id="s_content_loading">正在加载数据&nbsp;<img src="http://image.jiandan100.cn/images/personal/loading.gif"></div>
                                <div id="reply_self" class="a_mb10"></div>
                                <p class="mt10 fn-hide" id="no_reply_self" name="no_reply_self">该问题还没有回复信息。</p>
                                <div id="self_pager" class="txtcenter page fn-hide"><span class="pagePre page_turn nopage" title="已经是第一页了"><a href="javascript:%prepage_action%void(0);" class="icon_page commonbtn">上一页</a></span>&nbsp;<span class="page_num_b">%pages%</span>&nbsp;<span class="pageNext page_turn nopage" title="已经是最后一页了"><a href="javascript:%nextpage_action%void(0);" class="icon_page commonbtn">下一页</a></span>&nbsp;&nbsp;共%allcount%个回答</div>
                            </div><!-- end 我的回答 -->
                            
                            <div class="qa_answer_con fn-hide" id="questiontype_content_2">  <!-- 提问者的回复 -->
                                <div class="txtcenter mt10" id="o_content_loading">正在加载数据&nbsp;<img src="http://image.jiandan100.cn/images/personal/loading.gif"></div>
                                <div id="reply_owner" class="a_mb10"></div>
                                <p class="mt10 fn-hide" id="no_reply_owner" name="no_reply_owner">该问题还没有回复信息。</p>
                                <div id="owner_pager" class="txtcenter page fn-hide"><span class="pagePre page_turn nopage" title="已经是第一页了"><a href="javascript:%prepage_action%void(0);" class="icon_page commonbtn">上一页</a></span>&nbsp;<span class="page_num_b">%pages%</span>&nbsp;<span class="pageNext page_turn nopage" title="已经是最后一页了"><a href="javascript:%nextpage_action%void(0);" class="icon_page commonbtn">下一页</a></span>&nbsp;&nbsp;共%allcount%个回答</div>
                            </div><!-- end 提问者的回复 -->
                            
    
                            <div class="qa_answer_con fn-hide" id="questiontype_content_3">  <!-- 老师的回复 -->
    
                                <div class="txtcenter mt10" id="e_content_loading">正在加载数据&nbsp;<img src="http://image.jiandan100.cn/images/personal/loading.gif"></div>
                                <div id="" class="a_mb10"></div>
                                <div id="follow_data"></div>
                                <p class="mt10 fn-hide" id="no_reply_expert" name="no_reply_expert">该问题还没有回复信息。</p>
                            </div><!-- end 老师的回复 -->
                        </div><!-- end tabCon_answer -->
                        <div class="qa_answer_btn link_btn f14px txtright " id="link_reply"><a href="javascript:window.scrollTo(0,150);" class="btn_yellow qabg">我来回答</a></div>
                    </div>
                </div><!-- end qa_answer -->
                <!--  start recommend -->
                            <!-- end recommend  -->
            </div><!-- end main750_wrap -->
            <span class="sFillet ht20 qafilet fillet750_b"></span>
        </div><!-- end main750 -->
        <div class="sidebar230 right">
    <div class="sbar_msg230">
        <h3><strong>答疑新版功能发布</strong>  <span class="fcor_gray">2017-03-31</span></h3>
        <div class="wrap">
            <ul>
                                <li>1.好消息！答疑新增初三政史地提问模块，速去提问体验吧~
2.答疑使用指南——dayiadmin http://bbs.jd100.com/read.php?tid=651888
4.官方淘宝店开售提问币充值卡
5.简单课堂“随堂提问”新增问老师功能
6.答疑也有官方QQ群啦，回复“爱上答疑+听课账号”，即可加群（187836260）。</li>
                            </ul>
        </div>
    </div>
    <div class="sbar_attention mart10">
        <h3 class="fb sbar_til sbar_til230 qafilet"><span>最受关注的问题</span></h3>
        <div class="sbar_gray">
            <ul class="sbar_list" id="attention">
                                <li><a href="http://dayi.jd100.com/question/688282/" target="_blank" style="display: block; ">英语语态。。。。</a></li>
                                <li><a href="http://dayi.jd100.com/question/708958/" target="_blank" style="display: block; ">初中的英语语法</a></li>
                                <li><a href="http://dayi.jd100.com/question/719808/" target="_blank" style="display: block; ">英语语法内容</a></li>
                                <li><a href="http://dayi.jd100.com/question/750608/" target="_blank" style="display: block; ">什么叫陈述语序</a></li>
                                <li><a href="http://dayi.jd100.com/question/895146/" target="_blank" style="display: block; ">英语　用主语谓语的结构造句</a></li>
                                <li><a href="http://dayi.jd100.com/question/988110/" target="_blank" style="display: block; ">英语选择题</a></li>
                                <li><a href="http://dayi.jd100.com/question/988334/" target="_blank" style="cursor: pointer; display: block; ">Mike is good a…</a></li>
                                <li><a href="http://dayi.jd100.com/question/1004164/" target="_blank" style="cursor: pointer; display: block; ">health和healthy…</a></li>
                                <li><a href="http://dayi.jd100.com/question/1163999/" target="_blank" style="display: block; ">so  that等于什么</a></li>
                                <li><a href="http://dayi.jd100.com/question/2114933/" target="_blank" style="cursor: pointer; display: block; ">look alike 是什么…</a></li>
                            </ul>
        </div>
        <span class="sFillet ht5 qafilet fillet230_b"></span>
    </div>
    <div class="sbar_sift mart10">
        <h3 class="fb sbar_til sbar_til230 qafilet"><span>精选问题</span></h3>
        <div class="sbar_gray">
            <ul class="sbar_list" id="excellent">
                                <li><a href="http://dayi.jd100.com/question/611234/" target="_blank" style="display: block; ">谓语动词就近原则</a></li>
                                <li><a href="http://dayi.jd100.com/question/892964/" target="_blank" style="display: block; ">英语题，急需!</a></li>
                                <li><a href="http://dayi.jd100.com/question/1008270/" target="_blank" style="display: block; ">English</a></li>
                                <li><a href="http://dayi.jd100.com/question/1038184/" target="_blank" style="display: block; ">english</a></li>
                                <li><a href="http://dayi.jd100.com/question/1075168/" target="_blank" style="display: block; ">（初中英语）比较级</a></li>
                                <li><a href="http://dayi.jd100.com/question/2149143/" target="_blank" style="display: block; ">选择题请老师详解</a></li>
                                <li><a href="http://dayi.jd100.com/question/2151039/" target="_blank" style="display: block; ">请老师详解</a></li>
                                <li><a href="http://dayi.jd100.com/question/2151047/" target="_blank" style="display: block; ">请老师详解</a></li>
                                <li><a href="http://dayi.jd100.com/question/2184489/" target="_blank" style="cursor: pointer; display: block; ">老师，您好。请问听力应该听多…</a></li>
                                <li><a href="http://dayi.jd100.com/question/2204965/" target="_blank" style="cursor: pointer; display: block; ">如果说这本书你应该读，除了T…</a></li>
                            </ul>
        </div>
        <span class="sFillet ht5 qafilet fillet230_b"></span>
    </div>
</div>
<!--扫码下载app和加微信公众号-->
<div class="qr_code_weixin">
    <div id="J_codeWeixin" class="code_weixin">
        <img class="j_belatedpng fn-hide" src="http://image.jiandan100.cn/images/main/weixin20161104.png" alt="关注微信" width="323" height="207">
        <img class="j_belatedpng app_downma fn-hide" src="http://image.jiandan100.cn/images/main/app20160628.png" alt="app下载" width="182" height="207">
    </div>
    <ul class="item_list mt20">
        <li class="cgz_weixin J_ma"><a href="javascript:void(0)"></a></li>
        <li class="app_down J_ma"><a href="javascript:void(0)"></a></li>
        <li class="back_top"><a name="top" href="javascript:void(0)"></a></li>
    </ul>
</div>

<script type="text/javascript">
    $(document).ready(function(){
        var $codeImg=$("#J_codeWeixin img");
        $(".item_list .J_ma a").hover(function(){
            var $index=$(this).parent('li').index();
            $codeImg.eq($index).removeClass('fn-hide');
        },function() {
            $codeImg.addClass('fn-hide');
        });
        //点击链接后，回到顶部位置
        $(".back_top").click(function(){
            $('body,html').animate({scrollTop:0},1000);
            return false;
        });

        /*判断是手机登录还是pc，手机登录不显示*/
        browserRedirect();
        function browserRedirect(){
            var sUserAgent = navigator.userAgent.toLowerCase();
            var bIsIphoneOs = sUserAgent.match(/iphone os/i) == "iphone os";
            var bIsMidp = sUserAgent.match(/midp/i) == "midp";
            var bIsUc7 = sUserAgent.match(/rv:1.2.3.4/i) == "rv:1.2.3.4";
            var bIsUc = sUserAgent.match(/ucweb/i) == "ucweb";
            var bIsAndroid = sUserAgent.match(/android/i) == "android";
            var bIsCE = sUserAgent.match(/windows ce/i) == "windows ce";
            var bIsWM = sUserAgent.match(/windows mobile/i) == "windows mobile";
            //document.writeln("您的浏览设备为：");
            if (bIsIphoneOs || bIsMidp || bIsUc7 || bIsUc || bIsAndroid || bIsCE || bIsWM) {
                $(".qr_code_weixin").addClass('fn-hide');
            } else {
                $(".qr_code_weixin").removeClass('fn-hide');
            }
        }
    });
</script>
<script type="text/javascript">
    displayEllipsis("#attention a", 16);//省略显示内容
    displayEllipsis("#excellent a", 16);//省略显示内容
</script>    </div>
<!-- 收藏问题 -->
<div class="qa_pop popcon fn-hide" id="collect_pop">
    <div id="clearbox" class="popclose"><a href="javascript:box_clearDiv()"></a></div>
    <div class="popmain collect_popmain">
        <h2>收藏</h2>
        <div class="popmain_con">
            <div class="collect_input">
                <label for="qa_tag">输入收藏问题标签</label>
                <input type="text" tabindex="1" value="" size="20" class="input_tag" id="qa_tags"><span class="f666">(以逗号分隔多项标签)</span>
            </div>
            <div class="collect_input fn-clear mt10">
                <input type="checkbox" tabindex="2" class="fn-left input_box" id="is_notice">问题被回答或有追问时通知我
            </div>
            <div class="qa_pop_submit">
                <input type="button" tabindex="3" onclick="return et.qa.addfavoritequestion('660372')" value="提交收藏">
            </div>
        </div>
    </div>
</div>
<!-- 举报问题 -->
<div class="qa_pop popcon fn-hide" id="inform_pop">
    <div id="clearbox" class="popclose"><a href="javascript:box_clearDiv()"></a></div>
    <div class="popmain inform_popmain">
        <h2>举报</h2>
        <div class="popmain_con">
            <p class="f666">提示：如果您发现违背答疑论坛原则的内容，请即刻告诉我们！</p>
            <div class="qa_pop_input fn-clear mt20">
                <label for="inform_classes">举报类型：</label>
                <input type="radio" name="inform_classes" value="0" tabindex="1">&nbsp;违规广告
                <input type="radio" name="inform_classes" value="1" tabindex="2">&nbsp;恶意灌水
                <input type="radio" name="inform_classes" value="2" tabindex="3">&nbsp;污言秽语
                <input type="radio" name="inform_classes" value="3" tabindex="4">&nbsp;非法结论
                <input type="radio" name="inform_classes" value="4" tabindex="5">&nbsp;其他
            </div>
            <p class="qaSubmitError frose fn-clear fn-hide j_informErrorType"><img src="http://image.jiandan100.cn/images/register/icon_no.gif" class="fn-left">请选择举报类型。</p>
            <div class="qa_pop_input fn-clear mt10">
                <label for="inform_reason">举报理由：</label>
                <p class="frose j_limitTextNum fn-right">还能输入200字</p>
                <textarea tabindex="6" rows="4" id="inform_reason"></textarea>
            </div>
            <p class="qaSubmitError frose fn-clear fn-hide j_informErrorReason"><img src="http://image.jiandan100.cn/images/register/icon_no.gif" class="fn-left">请输入举报理由。</p>
            <div class="qa_pop_submit">
                <input type="button" tabindex="5" value="提交举报" onclick="return et.qa.complaintquestion('660372',0)"><input type="button" tabindex="6" value="取消举报" onclick="javascript:box_clearDiv()">
            </div>
        </div>
    </div>
</div>
<!-- 打分 -->
<div class="qa_pop popcon fn-hide" id="mark_pop">
    <div id="clearbox" class="popclose newClose"><a href="javascript:box_clearDiv()"></a></div>
    <div class="popmain mark_popmain qa_pop_fb addPopmain">
        <h2 class="newC">满意并打分</h2>
        <div class="popmain_con addpopmain_con">
            <p class="f12px fb fred mt10 newS">打分后，该问题将不能继续追问，之前的追问也不能再被老师回答！</p>
            <p class="mt10 new2S">1.您对老师的回答满意吗？欢迎您对老师的回答评分</p>
            <div class="qa_pop_input mark_input mt10 fn-clear">
                <label for="scores"></label>
                <div class="scores_select" id="qa_scores">
                    <p class="norS" alt="5"><span class="newbj0"></span><input type="radio" name="scores" value="5" tabindex="1"></p>
                    <p class="norS" alt="4"><span class="newbj1"></span><input type="radio" name="scores" value="4" tabindex="2"></p>
                    <p class="norS" alt="3"><span class="newbj2"></span><input type="radio" name="scores" value="3" tabindex="3"></p>
                    <p class="norS" alt="2"><span class="newbj3"></span><input type="radio" name="scores" value="2" tabindex="4"></p>
                    <p class="norS" alt="1"><span class="newbj4"></span><input type="radio" name="scores" value="1" tabindex="5"></p>
                </div>
            </div>
            <p class="qaSubmitError frose fn-clear fn-hide j_markError"><img src="http://image.jiandan100.cn/images/register/icon_no.gif" class="fn-left">请选择评分。</p>
            <div class="qa_pop_input fn-clear mt10 fn-hide" id="qa_scores_reason" style="margin-left: 10px">
                <label for="inform_reason">2.选择"很不满意"请输入理由，我们将以此改进服务质量<span class="frose j_limitTextNum">还能输入200字</span></label>
                <textarea tabindex="6" rows="4" id="level_reason"></textarea>
            </div>
            <p class="qaSubmitError frose fn-clear fn-hide j_markErrorReason"><img src="http://image.jiandan100.cn/images/register/icon_no.gif" class="fn-left">请输入您的评分理由。</p>
            <div class="qa_bf_ie6emp">
            </div>
            <!--反馈输入框开始-->
            <div class="qa_pop_feedBack" id="qa_scores_feedback">
                <p class="new2S">
                    我要反馈：<i>(选填)</i>
                </p>
                <textarea style="margin-left: 10px" id="qa_fbmsg">内容不能超过300个字符</textarea>
                <span class="j_limitTextNumfb">
                    0/300
                </span>
            </div>
            <!--反馈输入框结束-->
            <div class="qa_pop_submit">
                <a class="zbpj" onclick="stop_upload()"></a>
                <a class="tjfk" onclick="return et.qa.evaluatelevel('660372')"></a>
            </div>
        </div>
    </div>
</div>

<!-- 提交回复 上传状态 -->
<div class="qa_pop popcon fn-hide" id="submit_pop">
    <div id="clearbox" class="popclose"><a href="javascript:void(0);" onclick="stop_upload()"></a></div>
    <div class="popmain myorder_popmain">
        <h2>提交</h2>
        <div class="popmain_con popmain_submit">
            <p class="fn-hide" id="tp"></p>
            <p class="mt10">正在提交，请稍候<span><img src="http://image.jiandan100.cn/images/personal/loading.gif" alt="上传中"></span></p>
        </div>
    </div>
</div>

<!-- 老师编辑知识点 -->
<div class="qa_pop popcon fn-hide" id="points_pop">
    <div id="clearbox" class="popclose"><a href="javascript:box_clearDiv()"></a></div>
    <div class="popmain points_popmain">
        <h2>编辑知识点</h2>
        <div class="popmain_con points_submit mt10">
            <div class="selectclasses fn-clear">
                <p class="f14px fn-left">请选择&nbsp;<strong>初三英语</strong>&nbsp;知识点：</p>
                <select name="qakey" id="qakey" tabindex="1" size="6" multiple="multiple"></select>
            </div>
            <div class="qa_pop_submit">
                <input type="button" tabindex="2" value="提交" onclick="return submit_entrance();"><input type="button" tabindex="3" value="取消" onclick="javascript:box_clearDiv()">
            </div>
        </div>
    </div>
</div>

<!-- 管理员编辑知识点-->
<div class="qa_pop popcon fn-hide" id="admin_points_pop">
    <div id="clearbox" class="popclose"><a href="javascript:box_clearDiv()"></a></div>
    <div class="popmain points_popmain">
        <h2>选择问题分类</h2>
        <div class="selectclasses">
            <select name="qagrade" id="qagrade" tabindex="4" size="7">
            </select>
            <select name="qasubject" id="qasubject" tabindex="5" size="7">
            </select>
            <select name="qakey_ad" id="qakey_ad" tabindex="6" size="7">
            </select>
        </div>
        <div class="qa_pop_submit">
            <input type="button" tabindex="2" value="提交" onclick="return submit_entrance();"><input type="button" tabindex="3" value="取消" onclick="javascript:box_clearDiv()">
        </div>
    </div>
</div>

<script type="text/javascript">
    globalLessonId = '660372';
displayEllipsis(".sbar_list li a", 18);//省略显示内容
//togglecon("#ask_addfile_btn", "#ask_addfile");
 var qid = 660372;
 var myPraise = ( 0 == 1 ? true : false );
 var supportNames = "";
 var supportCounts = parseInt(0);
 var question_userid = 2804073
 var is_self = 0;
 var question_type = 1;
 var question_rights = 3;
 var question_state = 2;
 var follow_state = 0;
 var  user_figure = 0;
 var is_answerrights =  '';
 var question_state = 2;
 var editknowledgepoint_count = '0';
 var knowledgepoint =  '语法';
 var submit_type = undefined;
 var is_excellent = '0';
 var is_expert_reply = '2094983';
 var cur_subject_code=null;
 var is_select_skilled_subject = '2';
 var user_name = '';
 var user_id = '';
 var need_review = '0';
 var review_status = '1';
 var review_question_switch = '2';
 var is_reviewer = '';
 var is_admin = '';
 var reply_all_count =  '2';
 var client_ip = '';
 var bestreply_username = '';
</script>
<script type="text/javascript" src="http://www.jd100.com/js/etsrc/uiComponent/paging.js"></script>
<script type="text/javascript" src="http://www.jd100.com/js/etsrc/uiComponent/etuploadfile.js"></script>
<script type="text/javascript" src="http://www.jd100.com/js/etsrc/uiComponent/validCode.js"></script>
<script type="text/javascript" src="http://www.jd100.com/js/etsrc/uiComponent/baseSelecter.js"></script>
<script type="text/javascript" src="http://www.jd100.com/js/etsrc/uiComponent/knowledgePointSelecter.js"></script>
<script type="text/javascript" src="http://www.jd100.com/js/etsrc/qa/question.js"></script>
<script type="text/javascript" src="http://v2.jiathis.com/code/jia.js?uid=1543506" charset="utf-8"></script><script type="text/javascript" src="http://v2.jiathis.com/code/plugin.client.js" charset="utf-8"></script>
<script type="text/javascript" src="http://www.jd100.com/js/etsrc/qa/opposeOrSupportQue.js"></script>
<script type="text/javascript">
var isScore = false;
/*window.onbeforeunload = function(){
    console.log(123)
    openPopWindowEx("qa_mark_toggle","mark_pop","clearbox",480,400, function(){
     //mark();
        $(".norS").click(function() {
            $(this).addClass('checked').siblings().removeClass('checked');
            $(this).children('input').attr("checked","checked");
            var $scoreReason = $("#qa_scores_reason");
            var $scoreFeedback = $("#qa_scores_feedback");
            if ($(this).children('input').val() == "1"){
                $scoreReason.show();
                isScore = true;
                $scoreFeedback.hide();
            }
            else{
                $scoreFeedback.show();
                isScore = true;
                $scoreReason.hide();
            }
        })
     /!*$("input[name='scores']").click(function() {
     $(this).parents(".mark_input").next(".j_markError").hide();

     });*!/
        //mark();
     $("#level_reason").on("focus", function() {
     $(this).parent().next(".j_markErrorReason").hide();
     });
     changeWordsNumBindEvent("#level_reason", ".j_limitTextNum", 200);
     changeWordsNumBindEvent("#qa_fbmsg", ".j_limitTextNumfb", 300);
     });



    return "quit?";
}*/


et.qa.utility.evaluatelevel = function (id,level,level_reason,callBackFunc,fb){
    if(fb == "内容不能超过300个字符" || $.trim(fb) == ""){
        var params = "do=evaluatelevel&id="+id+"&el="+level+"&er="+level_reason+"&fb=";
    }else{
        var params = "do=evaluatelevel&id="+id+"&el="+level+"&er="+level_reason+"&fb="+fb;
    }
    etajax.sendRequest(et.qa.questionraleted,"POST",params,callBackFunc);
}
//评分
et.qa.evaluatelevel = function (id){
    var level_obj = document.getElementsByName("scores");
    var fb = document.getElementById("qa_fbmsg").value;
    var isChecked = true;
    for(var i=0; i<level_obj.length;i++){
        if(level_obj[i].checked)
            level = level_obj[i].value;
    }
    if(level == undefined){
        _show_errorMsg(".j_markError", "请选择您的评分。");
        isChecked = false;
        return false;
    }
    var level_reason = "";
    if(level == "1") {
        level_reason = _get_item_value("level_reason");
        if(level_reason.length < 10) {
            _show_errorMsg(".j_markErrorReason", "请至少填写10个字。");
            return false;
        }
        if(et.qa.filter(level_reason)) {
            _show_errorMsg(".j_markErrorReason", "您写的评分理由中，有敏感词汇，请检查。");
            return false;
        }
        if(level_reason.length > 200) {
            _show_errorMsg(".j_markErrorReason", "您输入的评分理由过长，超过限制。");
            return false;
        }
    }
    et.qa.utility.evaluatelevel(id,level,level_reason,et.qa.evaluatelevelcallbackfunc,fb);   
}

et.qa.evaluatelevelcallbackfunc = function (type,json,http){
    if(type == "load"){
        box_clearDiv();
        if(json.success) {
            replaceAlert("感谢您的评分。");
            et.qa.displaylevel();
            question_state = 2;
            $(".answer_input").css('display', "block")
            $("#link_reply").css('display', "block");
            $("#qa_addqa_toggle").css('display', "none");

        }
    }
}
function changeWordsNum(inputObj, textObj, num, allowInput){
    var $itemtext_obj = $(textObj);
    var $item_obj = $(inputObj);
    var result = $item_obj.val().replace(/(^\s*)|(\s*$)/g, "");
    var length = parseInt(result.length);
    if(inputObj == "#qa_fbmsg"){
        if(length >= num){
            $item_obj.val($item_obj.val().substring(0, num));
            $itemtext_obj.html(0 + "/300");
        }
        if(num >= length){
            var num = num - length;
            $itemtext_obj.html(num + "/300");
        }
    }else{
        if(length > num){
            if(allowInput != undefined && allowInput == 1){
                $item_obj.val($item_obj.val().substring(0, num));
                $itemtext_obj.html("超出<span class='fb f14px'>" + num + "</span>字，不能再输入");
            }
            else{
                var num2 = length - num;
                $itemtext_obj.html("");
                $itemtext_obj.html("已超出<span class='fb'>" + num2 + "</span>字");
            }
        }
        if(num >= length){
            var num = num - length;
            $itemtext_obj.html("");
            $itemtext_obj.html("还能输入<span class='fb'>" + num + "</span>字");
        }
    }
    
}
/*textarea限定输入字数*/
function changeWordsNumBindEvent(inputObj, textObj, num){
    var $obj = $(inputObj);
    $("#qa_fbmsg").on("focus",function(){
        if($(this).val() == "内容不能超过300个字符"){
            $(this).val("");
        }
    });
    $("#qa_fbmsg").on("blur",function(){
        if($.trim($(this).val()).length == 0){
            $(this).val("内容不能超过300个字符");
        }
    });
    $obj.bind("keyup", function(){changeWordsNum(inputObj, textObj, num)});
    $obj.bind("keydown", function(){changeWordsNum(inputObj, textObj, num)});
    $obj.bind("keypress", function(){changeWordsNum(inputObj, textObj, num)});
}
function charge_logon(id){
    if(userName == ''){
        window.location.href = "http://www.jd100.com/user/logon/?fromurl=" + encodeURIComponent('http://dayi.jd100.com/question/'+qid+'/');
        return false;
    }
    if(id == "qa_collect_toggle"){
        //openPopWindowEx("qa_collect_toggle","collect_pop","clearbox",480,190);
        confirm_addcollect(qid);
    }
    if(id == "qa_inform_toggle"){
        openPopWindowEx("qa_inform_toggle", "inform_pop", "clearbox", 480, 350, function() {
            $("input[name='inform_classes']").click(function() {
                $(this).parent().next(".j_informErrorType").hide();
            });
            $("#inform_reason").on("focus", function() {
                $(this).parent().next(".j_informErrorReason").hide();
            });
            changeWordsNumBindEvent("#inform_reason", ".j_limitTextNum", 200);
        });
    }
    if(id == "qa_answer_toggle"){
        charge_reply();
    }
    if(id == "qa_mark_toggle"){
        openPopWindowEx("qa_mark_toggle","mark_pop","clearbox",480,400, function(){
            mark();
            $("input[name='scores']").click(function() {
                $(this).parents(".mark_input").next(".j_markError").hide();
            });
            $("#level_reason").on("focus", function() {
                $(this).parent().next(".j_markErrorReason").hide();
            });
            changeWordsNumBindEvent("#level_reason", ".j_limitTextNum", 200);
            changeWordsNumBindEvent("#qa_fbmsg", ".j_limitTextNumfb", 300);
        });
    }
    if(id == "qa_points_toggle"){
        submit_type = 'editPoints';
        if(is_admin == 1){
            openPopWindowEx("qa_points_toggle","admin_points_pop","clearbox",480,390, function(){et.qa.getknowledgepoints('6','5','713');});
        }else{
            openPopWindowEx("qa_points_toggle","points_pop","clearbox",480,390, function(){getPoints();});
        }
    }
    if(id == "qa_elite_toggle"){
        confirm_elite(qid);
    }
    if(id == "qa_delelite_toggle"){
        confirm_delelite(qid);
    }
    if(id == "qa_close_toggle"){
        confirm_close(qid);
    }
    if(id == "qa_removelock_toggle"){
        confirm_removelcok(qid);
    }
    if(id == "qa_passreview_toggle"){
        confirm_passreview(qid);
    }
    if(id == "qa_nopassreview_toggle"){
        confirm_nopassreview(qid);
    }
    if(id == "qa_display_toggle"){
        if(question_state == 3){
            type = 1;
        }else{
            type = 2;
        }
        confirm_display(qid,type);
    }

}

function charge_reply(){
    if($(".answer_input").css('display') == 'block'){
        $(".answer_input").toggle();
        return false;
    }
    var check_code = et.qa.checkCode;
    et.qa.checkCode.load();
    if(user_figure === 1 && question_type == 1 && question_state < 2){
        var is_right = 0;
        var gradecode = 6;
        var subjectcode = 5;
        et.qa.teacherreply(is_right,gradecode,subjectcode,qid);
    }else{
        if(user_figure == 0 && is_answerrights == 0){
            replaceAlert("您已经被禁止回答问题！");
            return false;
        }
        $(".answer_input").toggle();
    }
}
//图片附件展示
function showImg(){
    var $imgObj = $(".qaimg img");
    var $imgObjWidth = $(".qaimg img").width();
    $imgObj.each(function(){
        var _this = this;
        var $imgObjWidth = $(_this).width();
        if($imgObjWidth > 640){
            $(_this).width(640);
        }
    });
}
showImg();
//单选弹出内容
function mark(){
    var $score = $("#qa_scores").find("input[name='scores']");
    var $scoreReason = $("#qa_scores_reason");
    var $scoreFeedback = $("#qa_scores_feedback");
    $score.each(function(){
        var _this = this;
        $(_this).parent().click(function(){
            $(this).addClass('checked').siblings().removeClass('checked');
            $(this).children('input').attr("checked","checked");
            if ($(_this).val() == "1"){
                $scoreReason.show();
                isScore = true;
                $scoreFeedback.hide();
            }
            else{
                $scoreFeedback.show();
                isScore = true;
                $scoreReason.hide();
            }
        });
    });
};
//编辑知识点
function getPoints(){
    var gradeObj = "6";
    var subjectObj = "5";
    et.qa.getknowledgepointsbygcodeandScode(gradeObj, subjectObj);
    
    //var $optionObj = $("#qakey").find("option");
    //var $selectedObj = $(".selected_points");
    //var selectedHtml = "";
    //$("#qakey").change(function(){
        //var $checkText = $("#qakey").find("option:selected").text();
        //selectedHtml += "<li>" + $checkText + "</li>";
        //$selectedObj.html(selectedHtml);
    //})
}
function editPoints(){
    if(is_admin == 0){
        var $checkValue = $("#qakey").find("option:selected").val();
        et.qa.utility.updateKnowledgepoints(qid, $checkValue, update_options_callback);
    }else{
        var grade_obj = et.dom.byId("qagrade");
        var subject_obj = et.dom.byId("qasubject");
        var knowledgepoint_obj = et.dom.byId("qakey_ad");
        var params = {
            gcode:grade_obj.value,
            scode:subject_obj.value,
            kcode:knowledgepoint_obj.value,
            grade:grade_obj.options[grade_obj.selectedIndex].text,
            subject:subject_obj.options[subject_obj.selectedIndex].text,
            knowledgepoint:knowledgepoint_obj.options[knowledgepoint_obj.selectedIndex].text,
            qid:qid
        };
        et.qa.utility.updateQuestionForumInfo(params,update_options_callback);
    }
}
function update_options_callback(type,json,http){
    box_clearDiv();
    if(type == "load"){
        if(json.success){
            replaceAlert("提交成功！");
            window.location.reload();
        }
        else{
            replaceAlert(json.failDesc);
            return;
        }
    }
}
//选为精选
function confirm_elite(qid){
    et.qa.addEliteQuestion(qid);
}
//取消精选
function confirm_delelite(qid){
    et.qa.delEliteQuestion(qid);
}
//关闭问题
function confirm_close(qid){
    if(is_excellent == 1){
        replaceAlert("请先取消精选，再关闭问题。");
        return false;
    }
    replaceAlert("确定要将该问题关闭吗？", function() {
        $("#J_alertSubmit").click(function() {
            et.qa.closeQuestion(qid);
        });
    });
}
//解除锁定
function confirm_removelcok(qid){
    replaceAlert("确定要将该问题解除锁定吗？", function() {
        $("#J_alertSubmit").click(function() {
            et.qa.removelockQuestion(qid);
        });
    });
}

//审核通过该问题
function confirm_passreview(qid){
    replaceAlert("确定审核通过该问题吗？", function() {
        $("#J_alertSubmit").click(function() {
            et.qa.reviewQuestion(qid, 1);
        });
    });
}

//审核不通过该问题
function confirm_nopassreview(qid){
    replaceAlert("确定审核不通过该问题吗？", function() {
        $("#J_alertSubmit").click(function() {
            et.qa.reviewQuestion(qid, 2);
        });
    });
}

//显示被关闭或者审核未通过的问题
function confirm_display(qid,type){
    replaceAlert("确定重新显示该问题吗？", function() {
        $("#J_alertSubmit").click(function() {
            et.qa.displayQuestion(qid, type);
        });
    });
}

function start_push_reply(){
    if(is_select_skilled_subject=='2'){
        var subjectcode =  '4';
    }else{
        var subjectcode =  '0';
    }
    cur_subject_code = subjectcode;
    et.qa.utility.getthreequstions(qa_grade_code,subjectcode,getthreequestions_callfunc);
}

//推荐回答问题
function getthreequestions(subjectcode,index){
    cur_subject_code = subjectcode;
    et.qa.utility.getthreequstions(qa_grade_code,subjectcode,getthreequestions_callfunc);
}

function getthreequestions_callfunc(type,json,http){
    if(type=="load"){
        if(json.success){
            displaythreequestion(json.data);
        }else{
            replaceAlert(json.failDesc);
        }
    }
}

function displaythreequestion(data){
    var threequestion_obj = et.dom.byId('showthreequestions');
    threequestion_obj.innerHTML ='';
    var html = '';
    if(data.length == 0) {
        html = '<p class="mt20">该学科目前没有未回答的问题。</p>';
        $(".my_submit_btn").addClass("fn-hide");
    }
    else {
        for(var i=0; i<data.length; i++){
            html += '<li class="qaTitle"><img src="'+etImageUrl+'/images/qa/icon_unsolved.gif" alt="未解决" title ="未解决" /><span><a href=\"http://dayi.jd100.com/question/'+data[i].id+'/?_s=/question/660372/" target="_blank" class="qaTitle_link" onclick = "click_recommend_question_analyse('+ data[i].id +')">'+data[i].title+'</a></span>['+data[i].subject+']</li>';
        }
        html = '<ul class="m_qalist fn-clear">' + html + '</ul>';
        $(".my_submit_btn").removeClass("fn-hide");
    }
    threequestion_obj.innerHTML = html;
}

function replacethreequestions(){
    if(cur_subject_code == null){
        cur_subject_code = '0';
    }
    et.qa.utility.getthreequstions(qa_grade_code,cur_subject_code,getthreequestions_callfunc);
}
</script>
</div>
<div id="footer">
    <div class="footer-wrap">
        <ul class="footer-list">
            <li><a href="http://www.jd100.com/about/aboutus/" rel="nofollow">关于我们</a><span>|</span></li>
            <li><a href="http://www.jd100.com/help/userguide/contactus/" rel="nofollow">联系我们</a><span>|</span></li>
            <li><a href="http://www.jd100.com/agent/recuit/" target="_blank" rel="nofollow" style="color:red; font-weight:bold;">招募独家代理</a><span>|</span></li>
            <li><a href="http://www.jd100.com/about/links/" rel="nofollow">友情链接</a><span>|</span></li>
            <li><a href="http://www.jd100.com/agent/list/" rel="nofollow">联系本地分中心</a><span>|</span></li>
            <li><a href="http://www.jd100.com/about/jobs/" rel="nofollow">诚募英才</a><span>|</span></li>
            <li><a href="http://www.jd100.com/software/download/" rel="nofollow">软件下载</a><span>|</span></li>
            <li><a href="http://www.jd100.com/user/materialdownload/" rel="nofollow">资源下载</a><span>|</span></li>
            <li><a href="http://www.jd100.com/about/sitemap/">网站地图</a><span>|</span></li>
            <li><a href="http://www.jd100.com/helpcenter/help/" target="_blank" rel="nofollow">帮助中心</a><span>|</span></li>
            <li><a href="http://www.jd100.com/union/" target="_blank" rel="nofollow">网络联盟</a></li>
        </ul>
        <p style="color: #333">北京简单科技有限公司&nbsp;<a href="http://www.jd100.com">简单学习网</a>
            <span style="color:red; font-weight:bold;">投诉与建议信箱：
                <a href="mailto:et@jiandan100.cn" style="color:red; font-weight:bold;">et@jiandan100.cn</a>
            </span>
            <br>
        </p><div style="padding-top: 5px">
            <span style="color: #333">copyright&nbsp;&nbsp;2007-2016&nbsp;jd100.com,All&nbsp;Rights&nbsp;Reserved&nbsp;京ICP证070589号&nbsp;</span>
            <a href="http://www.miitbeian.gov.cn/state/outPortal/loginPortal.action" target="_blank" rel="nofollow">京ICP备08103216号-5</a>&nbsp;
            <span style="padding:20px 0;">
                <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11010802022352" style="text-decoration:none;">
                    &nbsp;<img src="http://image.jiandan100.cn/images/common/icon_nationalemblem.png"><span style="height:20px;line-height:20px;margin: 0px 0px 0px 3px; color:#333;">京公网安备 11010802022352号</span>
                </a>
            </span>
            <a href="http://www.anquan.org/s/www.jd100.com" name="UJSxLRHtmCzujyBEAfaC0HC6Os45qu6gNhFD3cAGkVZidkz2UC">安全联盟</a>
        </div>
        <p></p>
        <ul class="footer-img mt10 textcenter">
            <li>
                <!--诚信网站图片LOGO安装开始-->
                <script type="text/javascript">
                    (function(){document.getElementById('___szfw_logo___').oncontextmenu = function(){return false;}})();
                </script>
                <span style="display:inline-block;position:relative;width:auto;"><a id="___szfw_logo___" href="https://credit.szfw.org/CX20160503015018500197.html" target="_blank" style="display:inline-block;"><img src="http://icon.szfw.org/cert.png" style="border:none;" oncontextmenu="return false;" alt="诚信网站"></a></span>
                <!--诚信网站图片LOGO安装结束-->
            </li>
        </ul>
    </div>
</div>
<!--[if lte IE 6]>
<script type="text/javascript" src="http://www.jd100.com/js/etsrc/uiComponent/dd_belatedpng.js"></script>
<script type="text/javascript">
    DD_belatedPNG.fix('.j_belatedpng');
</script>
<![endif]-->
            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
        </script><script src="http://www.google-analytics.com/ga.js" type="text/javascript"></script>
        <script type="text/javascript">
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-2296659-7']);
          _gaq.push(['_trackPageview']);
          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
        </script>
    <script type="text/javascript">
    var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F0a389c25bc66eea9ca7296cc9326e66a' type='text/javascript'%3E%3C/script%3E"));
</script><script src=" http://hm.baidu.com/h.js?0a389c25bc66eea9ca7296cc9326e66a" type="text/javascript"></script><script type="text/javascript">
    var _py = _py || [];
    _py.push(['a', '9es.6W.mlKv0CHhOxBXFrLD2Bln70']);
    _py.push(['domain','stats.ipinyou.com']);
    _py.push(['e','']);
    -function(d) {
        var s = d.createElement('script'),
                e = d.body.getElementsByTagName('script')[0]; e.parentNode.insertBefore(s, e),
                f = 'https:' == location.protocol;
        s.src = (f ? 'https' : 'http') + '://'+(f?'fm.ipinyou.com':'fm.p0y.cn')+'/j/adv.js';
    }(document);
</script>
<noscript>&lt;img src="//stats.ipinyou.com/adv.gif?a=9es.6W.mlKv0CHhOxBXFrLD2Bln70&amp;e=" style="display:none;"/&gt;</noscript>
<script type="text/javascript">
var pubsage_sign="";var pubsage_url="";var url=window.location.href;var domain=document.domain;var mat=url.match(/adtiid=([^&#]*)/);var iid=mat?mat[1]:"";if(iid==""||typeof(iid)=="undefined"){var uid=function(cookiekey){var strCookie=document.cookie;var arrCookie=strCookie.split(";");var value="";for(var i=0;i<arrCookie.length;i++){var arr=arrCookie[i].split("=");if(cookiekey==arr[0].replace(/(^\s*)|(\s*$)/g,"")){value=arr[1];break}}return value}("_ws_uid");if(uid==""||typeof(uid)=="undefined"){pubsage_url="tca.sagetrc.com"}else{var strAry=domain.split(".");var host=strAry[strAry.length-2]+"."+strAry[strAry.length-1];var pf=uid.split(".");if(pf[0]=="tqh"){pubsage_url="tqh_"+pubsage_sign+"."+host}if(pf[0]=="tgg"){pubsage_url="tgg_"+pubsage_sign+"."+host}if(pf[0]=="tsg"){pubsage_url="tsg_"+pubsage_sign+"."+host}if(pf[0]=="tdsp"){pubsage_url="tdsp_"+pubsage_sign+"."+host}if(pf[0]!="tsg"&&pf[0]!="tgg"&&pf[0]!="tqh"&&pf[0]!="tdsp"){pubsage_url="trc_"+pubsage_sign+"."+host}}}else{if(iid.match("^g")!=null){pubsage_url="tgg.sagetrc.com"}if(iid.match("^q")!=null){pubsage_url="tqh.sagetrc.com"}if(iid.match("^s")!=null){pubsage_url="tsg.sagetrc.com"}if(iid.match("^d")!=null){pubsage_url="tdsp.sagetrc.com"}if(iid.match("^g|^q|^s|^d")==null){pubsage_url="t1.sagetrc.com"}}var pubsage_conv_id=39119;var pubsage_conv=pubsage_conv||[];(function(){try{var d=document;var at=d.createElement("script");at.type="text/javascript";at.async=true;at.src=("https:"==document.location.protocol?"https:":"http:")+"//"+pubsage_url+"/trc/atac/conv_x.js?id="+pubsage_conv_id;var s=d.getElementsByTagName("script")[0];s.parentNode.insertBefore(at,s)}catch(e){}})();
</script>


</body></html>