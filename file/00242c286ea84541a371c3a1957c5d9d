<html><head></head><body><pre style="word-wrap: break-word; white-space: pre-wrap;">var PriceConfigSmall=function(){var e=new Object,t='{"type":"lowUp", "des":"0,0,80,40"}',n='{"type":"lowOver", "des":"85,0,80,40"}',r='{"type":"middleUp", "des":"0,45,120,40"}',i='{"type":"middleOver", "des":"125,45,120,40"}',s='{"type":"highUp", "des":"0,90,80,40"}',o='{"type":"highOver", "des":"85,90,80,40"}',u='{"type":"bottomLow", "des":"0,135,68,31"}',a='{"type":"bottomGuide", "des":"0,171,68,31"}',f='{"type":"bottomHigh", "des":"0,207,68,31"}',l='{"type":"bottomRef","des":"0,243,80,31"}',c='{"type":"largeRef","des":"0,279,150,77"}',h='{"type":"largeLow","des":"0,279,150,77"}',p='{"type":"bottomGuideNoData","des":"73,171,68,31"}',d='{"type":"columnDes", "des":"0,361,110,35"}',v='{"type":"columnDes", "des":"0,401,110,35"}',m='{"type":"columnDes", "des":"0,441,110,35"}',g='{"type":"columnDes", "des":"0,481,110,35"}',y='{"type":"columnDes", "des":"0,521,110,35"}',b='{"type":"columnDes", "des":"0,561,110,35"}',w='{"type":"columnDes", "des":"0,601,110,35"}',E='{"type":"columnDes", "des":"0,641,110,35"}',S='{"type":"columnDes", "des":"0,681,110,35"}',x='{"type":"columnDes", "des":"0,721,110,35"}',T='{"type":"columnDes", "des":"0,761,110,35"}',N='{"type":"columnDes", "des":"0,801,110,35"}',C='{"type":"columnDes", "des":"0,841,110,35"}',k='{"type":"columnDes", "des":"0,881,110,35"}',L='{"type":"columnDes", "des":"0,921,110,35"}',A='{"type":"columnDes", "des":"0,961,110,35"}',O='{"type":"minicon", "des":"150,190,13,13"}',M='{"type":"maxicon", "des":"170,190,13,13"}',_='{"type":"qmarkicon", "des":"190,190,13,13"}',D='{"type":"closeupicon", "des":"150,210,40,40"}',P='{"type":"closeovericon", "des":"200,210,40,40"}',H=[t,r,s,n,i,o,u,a,f,l,p,c,h,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P];return e.picData="["+H.toString()+"]",e.columnLeftMargin=6,e.columnRightMargin=6,e.columnItemMargin=3,e.dotRadius=5,e.dotColor="#3A8BC1",e.dotRefRadius=7,e.dotRefColor="#D2473B",e.bottomHeight=55,e.bottomMargin=0,e.titleTopMargin=1,e.picAssetWidth=261,e.picAssetHeight=1026,e.columnNum=15,e},PriceConfigLarge=function(){var e=new Object,t='{"type":"lowUp", "des":"0,0,120,60"}',n='{"type":"lowOver", "des":"128,0,120,60"}',r='{"type":"middleUp", "des":"0,68,180,60"}',i='{"type":"middleOver", "des":"188,68,180,60"}',s='{"type":"highUp", "des":"0,136,120,60"}',o='{"type":"highOver", "des":"128,136,120,60"}',u='{"type":"bottomLow", "des":"0,204,102,47"}',a='{"type":"bottomGuide", "des":"0,259,102,47"}',f='{"type":"bottomHigh", "des":"0,313,102,47"}',l='{"type":"bottomRef","des":"0,369,120,47"}',c='{"type":"largeRef","des":"0,424,225,115"}',h='{"type":"largeLow","des":"0,424,225,115"}',p='{"type":"bottomGuideNoData","des":"110,259,102,47"}',d='{"type":"columnDes", "des":"0,547,180,53"}',v='{"type":"columnDes", "des":"0,608,180,53"}',m='{"type":"columnDes", "des":"0,669,180,53"}',g='{"type":"columnDes", "des":"0,730,180,53"}',y='{"type":"columnDes", "des":"0,791,180,53"}',b='{"type":"columnDes", "des":"0,852,180,53"}',w='{"type":"columnDes", "des":"0,913,180,53"}',E='{"type":"columnDes", "des":"0,974,180,53"}',S='{"type":"columnDes", "des":"0,1035,180,53"}',x='{"type":"columnDes", "des":"0,1096,180,53"}',T='{"type":"columnDes", "des":"0,1157,180,53"}',N='{"type":"columnDes", "des":"0,1218,180,53"}',C='{"type":"columnDes", "des":"0,1279,180,53"}',k='{"type":"columnDes", "des":"0,1340,180,53"}',L='{"type":"columnDes", "des":"0,1401,180,53"}',A='{"type":"columnDes", "des":"0,1461,180,53"}',O='{"type":"minicon", "des":"220,300,20,20"}',M='{"type":"maxicon", "des":"250,300,20,20"}',_='{"type":"qmarkicon", "des":"280,300,20,20"}',D='{"type":"closeupicon", "des":"220,330,40,40"}',P='{"type":"closeovericon", "des":"295,330,40,40"}',H=[t,r,s,n,i,o,u,a,f,l,p,c,h,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P];return e.picData="["+H.toString()+"]",e.columnLeftMargin=8,e.columnRightMargin=8,e.columnItemMargin=4,e.dotRadius=7,e.dotColor="#3A8BC1",e.dotRefRadius=9,e.dotRefColor="#D2473B",e.bottomHeight=90,e.bottomMargin=0,e.titleTopMargin=2,e.picAssetWidth=368,e.picAssetHeight=1559,e.columnNum=15,e},drawPriceCurve=function(param){function getConfigData(){paramObj.version=="vsmall"?priceConfig=PriceConfigSmall():priceConfig=PriceConfigLarge(),picWidth=Number(priceConfig.picAssetWidth),picHeight=Number(priceConfig.picAssetHeight),canvasWidth=Number(priceConfig.canvasWidth),canvasHeight=Number(priceConfig.canvasHeight),columnLeftMargin=Number(priceConfig.columnLeftMargin),columnRightMargin=Number(priceConfig.columnRightMargin),columnItemMargin=Number(priceConfig.columnItemMargin),bottomHeight=Number(priceConfig.bottomHeight),bottomMargin=Number(priceConfig.bottomMargin),leftLineXpercent=Number(priceConfig.leftLineXpercent),rightLineXpercent=Number(priceConfig.rightLineXpercent),titleTopMargin=Number(priceConfig.titleTopMargin),draw(paramObj.cityId,paramObj.carId,paramObj.w,paramObj.h,paramObj.holderId)}function draw(e,t,n,r,i){canvasWidth=n,canvasHeight=r,initPicData(),loadCityData();if(interativable=="true")try{Raphael.vml||Raphael.svg?(gdiType="Raphael",paper=Raphael(i,n,r),paper.forEach(function(e){s.remove()}),paper.renderfix(),paper.safari(),paper.rect(0,0,n,r).attr({"stroke-opacity":0,fill:"#fff","fill-opacity":1,"stroke-width":0})):showStaticImageFlag=!0}catch(s){showStaticImageFlag=!0}else showStaticImageFlag=!0}function loadCityData(){curTryTimes++;var e=cityDataUrl,t=function(){curTryTimes=0;if(locationJson.length&gt;0)areaArr=locationJson,curAreaIndex=-1,checkIfHavePic();else{var t="地区接口返回为空！url："+e;doLog(t),exportTextDes(t)}},n=function(){if(curTryTimes&lt;tryTimesTotal)loadCityData();else{var t="城市接口加载出错！url："+e;doLog(t),exportTextDes(t)}};LoadJs(e,"cityDataJs",t,n)}function checkIfHavePic(){curAreaIndex++;if(curAreaIndex&gt;=areaArr.length){var e="在车款:"+paramObj.carId+"下，没有生成任何地区的图片!";doLog(e),exportTextDes(e);return}var t=areaArr[curAreaIndex];useLocalId=t;var n;paramObj.version=="vlarge"?(versionDescribe="600340",n=t+"_"+versionDescribe+".png",n=t+"_"+versionDescribe+"_model.png"):paramObj.version=="vsmall"&amp;&amp;(versionDescribe="380210",n=t+"_"+versionDescribe+".png",n=t+"_"+versionDescribe+"_model.png");var r;showStaticImageFlag?r=picPreUrl.toString()+paramObj.carId.toString()+"/"+useLocalId+"_"+paramObj.carId+"_"+versionDescribe+".png?ver="+paramObj.versionNo:r=picPreUrl.toString()+paramObj.carId.toString()+"/"+n+"?ver="+paramObj.versionNo,checkPic(r)}function checkPic(e){curTryTimes++;var t=new Image,n=function(){curTryTimes=0,picUrl=e;var t=areaArr[curAreaIndex],n=showXmlPreUrl+paramObj.carId+"/"+t+".js?ver="+paramObj.versionNo;loadPriceData(n)};if(showStaticImageFlag){n();return}if(t.complete){n();return}t.onload=function(){n()},t.url=e;var r=new Image;r.src=e,r.complete?(n(),picAssetElement=paper.image(e,0,0,picWidth,picHeight).attr("opacity",0)):r.onload=function(){n(),picAssetElement=paper.image(e,0,0,picWidth,picHeight).attr("opacity",0),r.onload=null}}function loadPriceData(e){if(showStaticImageFlag){showStaticImage();return}curTryTimes++;var t=e,n=function(){try{var e;testData?e=strToJson(testData):e=pointJson,parseData(e)}catch(t){var n="json数据解析出错！data："+e.toString();doLog(n)}},r=function(){if(curTryTimes&lt;tryTimesTotal)loadPriceData(t);else{var e="获得车型显示json数据出错！url："+t;doLog(e),exportTextDes(e)}};LoadJs(t,"priceDataJs",n,r)}function parseData(e){var t=e,n=!1;dataValid=t.valid,columnArray=new Array;var r=t.columns;for(var i=0;i&lt;r.length;i++){var s=r[i],o=new Object;o.height=s*100,o.height&gt;100&amp;&amp;(o.height=100),o.height&lt;0&amp;&amp;(o.height=0),o.height&gt;0&amp;&amp;o.height&lt;1&amp;&amp;(o.height=1),columnArray.push(o)}dotArray=new Array;var u=new Object;u.type="low",t.dlow!=null&amp;&amp;t.dlow&gt;=0?u.xpos=t.dlow*100:u.xpos=-1,dotArray.push(u);var a=new Object;a.type="high",t.dhigh!=null&amp;&amp;t.dhigh&gt;=0?a.xpos=t.dhigh*100:a.xpos=-1,dotArray.push(a),o=new Object,o.type="guide",t.guide!=null&amp;&amp;t.guide&gt;=0?o.xpos=t.guide*100:o.xpos=-1,o.xpos==a.xpos&amp;&amp;(n=!0),dotArray.push(o),o=new Object,o.type="ref",t.ref!=null&amp;&amp;t.ref&gt;=0?o.xpos=t.ref*100:(o.xpos=-1,canShowLargeRef=!1),dotArray.push(o),t.low!=null&amp;&amp;t.low&gt;=0?leftLineXpercent=t.low:leftLineXpercent=-1,t.high!=null&amp;&amp;t.low&gt;=0?rightLineXpercent=t.high:rightLineXpercent=-1,dotArray.sort(function(e,t){if(e.type=="low")return-1;if(Number(e.xpos)&gt;=Number(t.xpos))return 1;if(Number(e.xpos)&lt;Number(t.xpos))return-1});if(n){for(var f=0;f&lt;dotArray.length;f++){var l=dotArray[f];l.type=="high"&amp;&amp;dotArray.splice(f,1)}dotArray.push(a)}isChrome()?(chromeTempImg.crossOrigin="Anonymous",chromeTempImg.src=picUrl,chromeTempImg.onload=function(){drawBg()}):drawBg()}function initPicData(){picDataObj=new Object,columnPicDesArray=new Array;var e=strToJson(priceConfig.picData);for(var t=0;t&lt;e.length;t++){var n=e[t];if(n.type=="columnDes"){var r=new Object;r.rect=n.des,r.x=Number(n.des.split(",")[0]),r.y=Number(n.des.split(",")[1]),r.w=Number(n.des.split(",")[2]),r.h=Number(n.des.split(",")[3]),columnPicDesArray.push(r)}else picDataObj[n.type]=new Object,picDataObj[n.type].type=n.type,picDataObj[n.type].rect=n.des,picDataObj[n.type].x=Number(n.des.split(",")[0]),picDataObj[n.type].y=Number(n.des.split(",")[1]),picDataObj[n.type].w=Number(n.des.split(",")[2]),picDataObj[n.type].h=Number(n.des.split(",")[3])}}function drawBg(){var e=getPriceValue();if(e.low&lt;0&amp;&amp;e.high&lt;0&amp;&amp;e.ref&lt;0&amp;&amp;e.guide&lt;0&amp;&amp;rightLineXpercent&lt;0&amp;&amp;leftLineXpercent&lt;0){var t="代销车或停销车无参考曲线";exportTextDes(t);return}if(gdiType=="canvas"){prepareCanvasDraw();return}drawBlock(),drawTitleText(),drawColumn(),drawLine(),drawOpactiyColumn(),drawColumnDes(),drawDot(),drawBottomRect(),drawTileInteractive(),!canShowLargeRef&amp;&amp;e.low&gt;=0&amp;&amp;drawLargeLow(),drawRefInfo(),drawHelpSet(),hideHelpInfo(),drawConnectLine()}function drawBlock(){if(leftLineXpercent&lt;0||rightLineXpercent&lt;0)return;var e=canvasWidth-columnLeftMargin-columnRightMargin,t=canvasHeight-bottomHeight;paper.rect(0,0,e*leftLineXpercent+columnLeftMargin,t).attr("fill","#F4F8FB").attr("stroke-width","0").attr("stroke-opacity",0).data("blockType","block1").attr("opacity","0"),paper.rect(e*leftLineXpercent+columnLeftMargin,0,e*(rightLineXpercent-leftLineXpercent),t).attr("fill","#F7F7F7").attr("stroke-width","0").attr("stroke-opacity",0).data("blockType","block2"),paper.rect(e*rightLineXpercent+columnLeftMargin,0,canvasWidth,t).attr("fill","#F4F8FB").attr("stroke-width","0").attr("stroke-opacity",0).data("blockType","block3").attr("opacity","0")}function drawTitleText(){if(leftLineXpercent&lt;0||rightLineXpercent&lt;0)return;var e,t,n;paper.forEach(function(r){r.data("blockType")=="block1"?e=r:r.data("blockType")=="block2"?t=r:r.data("blockType")=="block3"&amp;&amp;(n=r)});var r=getPriceValue(),i=parseInt((canvasWidth*leftLineXpercent-picDataObj.lowUp.w)/2),s=titleTopMargin,o=clipImage(picUrl,Number(picDataObj.lowUp.x),Number(picDataObj.lowUp.y),Number(picDataObj.lowUp.w),Number(picDataObj.lowUp.h),i,s,picWidth,picHeight).show().data("topImage","lowUp"),u=clipImage(picUrl,Number(picDataObj.lowOver.x),Number(picDataObj.lowOver.y),Number(picDataObj.lowOver.w),Number(picDataObj.lowOver.h),i,s,picWidth,picHeight).hide().data("topImage","lowOver"),a=parseInt((canvasWidth*(rightLineXpercent-leftLineXpercent)-picDataObj.middleUp.w)/2+canvasWidth*leftLineXpercent),f=titleTopMargin,l=clipImage(picUrl,Number(picDataObj.middleUp.x),Number(picDataObj.middleUp.y),Number(picDataObj.middleUp.w),Number(picDataObj.middleUp.h),a,f,picWidth,picHeight).show().data("topImage","middleUp"),c=clipImage(picUrl,Number(picDataObj.middleOver.x),Number(picDataObj.middleOver.y),Number(picDataObj.middleOver.w),Number(picDataObj.middleOver.h),a,f,picWidth,picHeight).hide().data("topImage","middleOver"),h=parseInt(canvasWidth*rightLineXpercent+(canvasWidth*(1-rightLineXpercent)-picDataObj.highUp.w)/2),p=titleTopMargin,d=clipImage(picUrl,Number(picDataObj.highUp.x),Number(picDataObj.highUp.y),Number(picDataObj.highUp.w),Number(picDataObj.highUp.h),h,p,picWidth,picHeight).show().data("topImage","highUp"),v=clipImage(picUrl,Number(picDataObj.highOver.x),Number(picDataObj.highOver.y),Number(picDataObj.highOver.w),Number(picDataObj.highOver.h),h,p,picWidth,picHeight).hide().data("topImage","highOver")}function drawTileInteractive(){if(leftLineXpercent&lt;0||rightLineXpercent&lt;0)return;var e,t,n;paper.forEach(function(r){r.data("blockType")=="block1"?e=r:r.data("blockType")=="block2"?t=r:r.data("blockType")=="block3"&amp;&amp;(n=r)});var r=getPriceValue(),i=parseInt((canvasWidth*leftLineXpercent-picDataObj.lowUp.w)/2),s=titleTopMargin;i=0,s=0;var o=paper.rect(i,s,canvasWidth*leftLineXpercent,Number(picDataObj.lowUp.h)+titleTopMargin).attr({fill:"#efefef","fill-opacity":0,"stroke-width":0,opacity:0,"stroke-opacity":0});o.mouseover(function(){if(!interativable)return;e.attr("opacity","1"),paper.forEach(function(e){e.data("topImage")=="lowUp"?e.hide():e.data("topImage")=="lowOver"&amp;&amp;e.show()})}).mouseout(function(){if(!interativable)return;e.attr("opacity","0"),paper.forEach(function(e){e.data("topImage")=="lowUp"?e.show():e.data("topImage")=="lowOver"&amp;&amp;e.hide()})});var u=parseInt((canvasWidth*(rightLineXpercent-leftLineXpercent)-picDataObj.middleUp.w)/2+canvasWidth*leftLineXpercent),a=titleTopMargin;u=canvasWidth*leftLineXpercent,a=0;var f=paper.rect(u,a,canvasWidth*(rightLineXpercent-leftLineXpercent),Number(picDataObj.middleUp.h)+titleTopMargin).attr({fill:"#efefef","fill-opacity":0,"stroke-width":0,opacity:0,"stroke-opacity":0});f.mouseover(function(){if(!interativable)return;t.attr("fill","#F4F8FB"),paper.forEach(function(e){e.data("topImage")=="middleUp"?e.hide():e.data("topImage")=="middleOver"&amp;&amp;e.show()})}).mouseout(function(){if(!interativable)return;t.attr("fill","#F7F7F7"),paper.forEach(function(e){e.data("topImage")=="middleUp"?e.show():e.data("topImage")=="middleOver"&amp;&amp;e.hide()})});var l=parseInt(canvasWidth*rightLineXpercent+(canvasWidth*(1-rightLineXpercent)-picDataObj.highUp.w)/2),c=titleTopMargin;l=rightLineXpercent*canvasWidth,c=0;var h=paper.rect(l,c,canvasWidth*rightLineXpercent,Number(picDataObj.highUp.h)+titleTopMargin).attr({fill:"#efefef","fill-opacity":0,"stroke-width":0,opacity:0,"stroke-opacity":0});h.mouseover(function(){if(!interativable)return;n.attr("opacity","1"),paper.forEach(function(e){e.data("topImage")=="highUp"?e.hide():e.data("topImage")=="highOver"&amp;&amp;e.show()})}).mouseout(function(){if(!interativable)return;n.attr("opacity","0"),paper.forEach(function(e){e.data("topImage")=="highUp"?e.show():e.data("topImage")=="highOver"&amp;&amp;e.hide()})})}function drawLine(){var e=canvasWidth-columnLeftMargin-columnRightMargin;if(leftLineXpercent&gt;0){var t="M"+(columnLeftMargin+e*leftLineXpercent+.5)+" 0 L"+(columnLeftMargin+e*leftLineXpercent+.5)+" "+(canvasHeight-bottomHeight+.5);paper.path(t).attr("stroke","#ccc").attr("stroke-dasharray","- ")}if(rightLineXpercent&gt;0){var n="M"+(columnRightMargin+e*rightLineXpercent+.5)+" 0 L"+(columnRightMargin+e*rightLineXpercent+.5)+" "+(canvasHeight-bottomHeight+.5);paper.path(n).attr("stroke","#ccc").attr("stroke-dasharray","- ")}var r="M0 "+(canvasHeight-bottomHeight)+" L"+canvasWidth+" "+(canvasHeight-bottomHeight);paper.path(r).attr("stroke","#3A8BC1").attr("stroke-width",(4*scaleFactor).toString());var i=canvasWidth/2,s=titleTopMargin+picDataObj.middleUp.h,o=i-10*scaleFactor,u=canvasHeight-bottomHeight-5*scaleFactor,a=canvasWidth/2-60*scaleFactor,f=s+s/5,l="M0 "+(canvasHeight-bottomHeight-2*scaleFactor)+"C"+o+" "+u+" "+a+" "+f+" "+i+" "+s,c=i+10*scaleFactor,h=u,p=canvasWidth-a,d=f,v=canvasWidth,m=canvasHeight-bottomHeight-2*scaleFactor;l+="C "+p+" "+d+" "+c+" "+h+" "+v+" "+m,paper.path(l).attr("stroke-opacity","0.5").attr("stroke","#999999")}function drawColumn(){columnSet=paper.set();var e=canvasHeight-(titleTopMargin+picDataObj.middleUp.h+bottomHeight),t,n=canvasHeight-bottomHeight,r,i,s=parseInt((canvasWidth-columnLeftMargin-columnRightMargin)/columnArray.length);for(var o=0;o&lt;columnArray.length;o++){if(columnArray[o].height&lt;=0)continue;t=s*o+columnLeftMargin+columnItemMargin,paramObj.version=="vsmall"&amp;&amp;(t+=3),r=s-columnItemMargin*2,i=columnArray[o].height/100*e,y=n-i-3,column(t,y,r,i,o)}}function drawStateColumn(){stateColumnSet=paper.set();var e=canvasHeight-(titleTopMargin+picDataObj.middleUp.h+bottomHeight),t,n=canvasHeight-bottomHeight,r,i,s=parseInt((canvasWidth-columnLeftMargin-columnRightMargin)/columnArray.length);for(var o=0;o&lt;columnArray.length;o++)t=s*o+columnLeftMargin+columnItemMargin,paramObj.version=="vsmall"&amp;&amp;(t+=3),r=s-columnItemMargin*2,i=columnArray[o].height/100*e,y=n-i-3,stateColumn(t,y,r,i,o)}function drawOpactiyColumn(){opacityColumnSet=paper.set();var e=canvasHeight-bottomHeight-titleTopMargin-picDataObj.middleUp.h,t,n=canvasHeight-bottomHeight,r,i,s=parseInt((canvasWidth-columnLeftMargin-columnRightMargin)/columnArray.length);for(var o=0;o&lt;columnArray.length;o++){if(columnArray[o].height&lt;=0)continue;t=s*o+columnLeftMargin+columnItemMargin,paramObj.version=="vsmall"&amp;&amp;(t+=3),r=s-columnItemMargin*2,i=columnArray[o].height/100*e,y=n-i-3;var u=n-columnArray[o].height/100*e-3;opacityColumn(t,y,r,i,o,columnArray[o].height)}}function drawDot(){dotSet=paper.set();var e=canvasWidth-columnLeftMargin-columnRightMargin,t=canvasHeight-bottomHeight;for(var n=dotArray.length-1;n&gt;=0;n--){var r=dotArray[n];if(r.xpos&lt;0||r.xpos&gt;100)continue;r.type=="ref"?(refDotx=columnLeftMargin+e*r.xpos/100,refDoty=t,dot(r.type,refDotx,t,priceConfig.dotRefRadius,priceConfig.dotRefColor)):(r.type=="low"&amp;&amp;(lowDotx=columnLeftMargin+e*r.xpos/100,lowDoty=t),dot(r.type,columnLeftMargin+e*r.xpos/100,t,priceConfig.dotRadius,priceConfig.dotColor))}}function dot(e,t,n,r,i){var s="dot_"+e,o=scaleFactor*1;elementTypeAni="aniDot_"+e;var u=t,a=n;Raphael.vml&amp;&amp;(u=t+1*scaleFactor,a=n+1*scaleFactor);var f=paper.circle(u,a,r).data("elementType",elementTypeAni).attr({fill:i,"stroke-width":0,"stroke-opacity":0,"fill-opacity":0}),l=paper.circle(t,n,r).data("elementType",s).data("posData",t+"_"+n+"_"+r).attr({fill:i,stroke:"#fff","stroke-width":o});return dotSet.push(l),l}function showDotAni(e){var t;e=="bottomRef"?t="ref":e=="bottomLow"?t="low":e=="bottomHigh"?t="high":e=="ref"?t="ref":e=="bottomGuide"&amp;&amp;(t="guide"),paper.forEach(function(e){if(e.data("elementType")=="aniDot_"+t){if(e.attr("fill-opacity")!=0)return;e.attr("fill-opacity",1),e.animate({transform:"s2.5","fill-opacity":0},600,"linear",resetAniDot)}})}function resetAniDot(){paper.forEach(function(e){e.data("elementType")&amp;&amp;e.data("elementType").indexOf("aniDot_")!=-1&amp;&amp;e.attr({"fill-opacity":0,transform:"s1"})})}function drawBottomRect(){bottomSet&amp;&amp;bottomSet.remove(),bottomSet=paper.set();var e=bottomMargin,t=canvasHeight-bottomHeight+18*scaleFactor,n=5,r,i,s,o=24,u=0;for(var a=0;a&lt;dotArray.length;a++){var f=dotArray[a];f.xpos&gt;=0&amp;&amp;f.type!="ref"&amp;&amp;u++}bottomShowRef?i=parseInt((canvasWidth-e*2-n*u-2)/(u+1)-o/(u+1)):i=(canvasWidth-e*2-n*(u-1)-2)/u;var l=!1;u==1&amp;&amp;!bottomShowRef&amp;&amp;(i=parseInt((canvasWidth-e*2-n*2)/3-o/4),l=!0),s=canvasHeight-t-1;var c=0,h=!1;for(var p=0;p&lt;dotArray.length;p++){var d=dotArray[p];if(d.xpos&lt;0)continue;r=e+(i+n)*c+1,h&amp;&amp;(r+=o);if(d.type=="low")l&amp;&amp;(r=(canvasWidth-2-i)/2),bottomImage(r,t,picDataObj.bottomLow,i,s);else if(d.type=="ref")bottomShowRef?(bottomImage(r,t,picDataObj.bottomRef,i+o,s),h=!0):c--;else if(d.type=="guide"){var v=getPriceValue();l&amp;&amp;(r=(canvasWidth-2-i)/2),v.guide&gt;0?bottomImage(r,t,picDataObj.bottomGuide,i,s):bottomImage(r,t,picDataObj.bottomGuideNoData,i,s)}else d.type=="high"&amp;&amp;(l&amp;&amp;(r=(canvasWidth-2-i)/2),bottomImage(r,t,picDataObj.bottomHigh,i,s));c++}drawConnectLine()}function clipImage(e,t,n,r,i,s,o,u,a){s=parseInt(s),o=parseInt(o);var f;if(isChrome())return f=getImage_chrome(t,n,r,i,s,o),f;var l=s+","+o+","+r.toString()+","+i.toString();return f=paper.image(e,0,0,u,a),f.attr({x:s-t,y:o-n,"clip-rect":l})}function strToJson(str){var json=eval("("+str+")");return json}function column(e,t,n,r,i){var s=paper.rect(e,t,n,r).attr("fill","#CBDFEE").attr("stroke-width","0").attr("stroke-opacity",0);dataValid==0&amp;&amp;s.attr("fill","#EDEDED").attr("fill-opacity",1),columnSet.push(s)}function stateColumn(e,t,n,r,i){var s=paper.rect(e,t,n,r).attr("fill","#2E506C").attr("stroke-width","0").attr("fill-opacity",0).data("columnIndex",i);stateColumnSet.push(s)}function opacityColumn(e,t,n,r,i,s){var o=paper.rect(e,t,n,r).attr("fill","#CBDFEE").attr("stroke-width","0").attr("fill-opacity",0).attr("stroke-opacity",0).data("caindex",i).mouseover(function(){if(!interativable||dataValid==0||s&lt;=0)return;this.attr("fill","#2E506C").attr("fill-opacity",1).attr("stroke-opacity",0);var r=this.data("caindex"),o=columnPicDesArray[r],u=e-(o.w-n)/2;u+o.w&gt;canvasWidth&amp;&amp;(u=canvasWidth-o.w-5),u&lt;0&amp;&amp;(u=5);var a=t-o.h-10;columnDesSet.forEach(function(e){if(isChrome())columnDesSet[i].show();else{var t=u+","+a+","+o.w+","+o.h;e.attr({x:parseInt(u-o.x),y:parseInt(a-o.y),"clip-rect":t}).show()}})}).mouseout(function(){columnDesSet.forEach(function(e){e.hide()});if(!interativable||dataValid==0||s&lt;=0)return;this.attr("fill","#CBDFEE").attr("fill-opacity",0)});dataValid==0&amp;&amp;o.attr("fill","#EDEDED").attr("fill-opacity",0),opacityColumnSet.push(o)}function drawColumnDes(){columnDesSet=paper.set();var e;if(isChrome()){var t=canvasHeight-bottomHeight-titleTopMargin-picDataObj.middleUp.h,n,r=canvasHeight-bottomHeight,i,s,o=parseInt((canvasWidth-columnLeftMargin-columnRightMargin)/columnArray.length);for(var u=0;u&lt;columnArray.length;u++){if(columnArray[u].height&lt;=0){e=paper.image(0,0,10,10).hide(),columnDesSet.push(e);continue}n=o*u+columnLeftMargin+columnItemMargin,paramObj.version=="vsmall"&amp;&amp;(n+=3),i=o-columnItemMargin*2,s=columnArray[u].height/100*t,y=r-s-3;var a=r-columnArray[u].height/100*t-3,f=columnPicDesArray[u],l=n-(f.w-i)/2;l+f.w&gt;canvasWidth&amp;&amp;(l=canvasWidth-f.w-5),l&lt;0&amp;&amp;(l=5);var c=y-f.h-10,h=getImage_chrome(f.x,f.y,f.w,f.h,parseInt(l),parseInt(c));h.hide(),columnDesSet.push(h)}}else e=paper.image(picUrl,0,0,picWidth,picHeight).hide(),columnDesSet.push(e)}function bottomImage(e,t,n,r,i){e=parseInt(e),t=parseInt(t),r=parseInt(r),i=parseInt(i);var s=1,o=paper.set();if(n.type=="bottomRef"){var u=paper.rect(e,t,r,i).attr({fill:"#D2473B","fill-opacity":1,"stroke-width":0,"stroke-opacity":0});o.push(u),s=0}var a=clipImage(picUrl,n.x,n.y,n.w,n.h,e+(r-n.w)/2,t+(i-n.h)/2,picWidth,picHeight).data("priceType",n.type).data("posData",e+"_"+t+"_"+r),f=paper.rect(e+.5,t+.5,r,i).attr({fill:"#000","fill-opacity":0,"stroke-width":s,stroke:"#B9B9B9"}),l=getIcon(e+r,t,"qmarkicon").attr("cursor","pointer").hide(),c=getIcon(e+r-picDataObj.maxicon.w-2,t,"maxicon").attr("cursor","pointer").hide(),h=!1;return c.click(function(){showRefInfo(),bottomShowRef=!1,drawBottomRect()}).mouseover(function(){l.show(),c.show(),changeIconBGAlpha(c,.35),h=!0}).mouseout(function(){l.hide(),c.hide(),changeIconBGAlpha(l,.2),changeIconBGAlpha(c,.2),h=!1}),l.click(function(){if(!interativable)return;n.type=="bottomRef"?showHelpInfo("什么是参考成交价",'"参考成交价"是易车通过第三方成交价数据及\n网友价格分享数据，计算得出的近30天成交参\n考价格。'):n.type=="bottomLow"?showHelpInfo("什么是最低报价",'"最低报价"是指经销商公开发布报价中的最低\n价格。'):n.type=="bottomGuide"||n.type=="bottomGuideNoData"?showHelpInfo("什么是厂商指导价",'"厂商指导价"是指厂商公布的此车建议零售\n价格。'):n.type=="bottomHigh"&amp;&amp;showHelpInfo("什么是最高报价",'"最高报价"是指经销商公开发布报价中的最高\n价格。')}).mouseover(function(){l.show(),n.type=="bottomRef"&amp;&amp;c.show(),changeIconBGAlpha(l,.35),h=!0}).mouseout(function(){l.hide(),c.hide(),changeIconBGAlpha(l,.2),changeIconBGAlpha(c,.2),h=!1}),f.mouseover(function(){if(!interativable)return;l.show(),showDotAni(n.type),n.type=="bottomRef"&amp;&amp;c.show()}).mouseout(function(){if(!interativable)return;h||(l.hide(),n.type=="bottomRef"&amp;&amp;c.hide())}),o.push(a),o.push(l),o.push(f),bottomSet.push(o),o}function drawRefInfo(){if(!canShowLargeRef)return;var e=picDataObj.largeRef,t=refDotx-e.w/2;t=parseInt((canvasWidth-e.w)/2);var n=parseInt(canvasHeight-priceConfig.bottomHeight-e.h)-20*scaleFactor;n&lt;0&amp;&amp;(n=0),refWindowLinkx=t+e.w/2,refWindowLinky=n+e.h,refInfoSet=paper.set();var r=useLocalId+"_"+versionDescribe+"_ref.png?ver="+paramObj.versionNo,i=picPreUrl+paramObj.carId+"/"+r,s=paper.image(i,t,n,e.w,e.h);refInfoSet.push(s);if(interativable){var o=!1,u=getIcon(t+e.w,n,"qmarkicon").attr("cursor","pointer").hide(),a=getIcon(t+e.w-picDataObj.minicon.w-2,n,"minicon").attr("cursor","pointer").hide();u.click(function(){showHelpInfo("什么是参考成交价",'"参考成交价"是易车通过第三方成交价数据及\n网友价格分享数据，计算得出的近30天成交参\n考价格。')}).mouseover(function(){u.show(),a.show(),changeIconBGAlpha(u,.35),o=!0}).mouseout(function(){u.hide(),a.hide(),changeIconBGAlpha(u,.2),changeIconBGAlpha(a,.2),o=!1}),a.click(function(){u.hide(),a.hide(),hideRefInfo()}).mouseover(function(){u.show(),a.show(),changeIconBGAlpha(a,.35),o=!0}).mouseout(function(){u.hide(),a.hide(),changeIconBGAlpha(u,.2),changeIconBGAlpha(a,.2),o=!1}),s.mouseover(function(){if(!interativable)return;u.show(),a.show(),showDotAni("ref")}).mouseout(function(){if(!interativable)return;o||(u.hide(),a.hide())}),refInfoSet.push(u),refInfoSet.push(a)}}function drawLargeLow(){showLargeLow=!0;var e=picDataObj.largeLow,t=parseInt((canvasWidth-e.w)/2),n=parseInt((canvasHeight-priceConfig.bottomHeight-e.h)/2)+20;refWindowLinkx=t+e.w/2,refWindowLinky=n+e.h;var r=clipImage(picUrl,e.x,e.y,e.w,e.h,t,n,picWidth,picHeight);r.mouseover(function(){showDotAni("bottomLow")})}function showRefInfo(){refInfoSet.forEach(function(e){e.show(),e.type!="image"&amp;&amp;e.hide()}),refInfoSetVisible=!0}function hideRefInfo(){refInfoSet.forEach(function(e){e.hide()}),refInfoSetVisible=!1,bottomShowRef=!0,drawBottomRect()}function drawHelpSet(){tempScaleFactor=scaleFactor,tempScaleFactor=1;var e=parseInt(260*tempScaleFactor),t=parseInt(picDataObj.closeupicon.h),n=parseInt(69*tempScaleFactor),r=parseInt((canvasWidth-e)/2)+.5,i=parseInt((canvasHeight-bottomHeight-t-n)/2)+.5;helpInfoSet=paper.set();var s=paper.rect(r,i,e,t).attr({fill:"#999",stroke:"#999","stroke-linecap":"square","stroke-opacity":.5}),o=paper.rect(r,i+t,e,n).attr({fill:"#fff",stroke:"#999","stroke-linecap":"square","stroke-opacity":.5});titleText=paper.text(r+parseInt(9*tempScaleFactor),i+parseInt(20*tempScaleFactor),"title").attr({"font-size":parseInt(18*tempScaleFactor),"text-anchor":"start",fill:"#fff","font-family":"Microsoft YaHei"}),desText=paper.text(r+parseInt(9*tempScaleFactor),i+parseInt(72*tempScaleFactor),"des").attr({"font-size":parseInt(12*tempScaleFactor),"text-anchor":"start","font-family":"Microsoft YaHei"});var u=getIcon(r+e+.5,i,"closeovericon");u.mouseout(function(){helpInfoSetVisible&amp;&amp;(a.show(),u.hide())}).click(function(){hideHelpInfo()}).data("closeType","over").attr({cursor:"pointer"});var a=getIcon(r+e+.5,i,"closeupicon");a.mouseover(function(){helpInfoSetVisible&amp;&amp;(a.hide(),u.show())}),helpInfoSet.push(s),helpInfoSet.push(o),helpInfoSet.push(titleText),helpInfoSet.push(desText),helpInfoSet.push(u),helpInfoSet.push(a)}function showHelpInfo(e,t){helpInfoSet.forEach(function(e){e.show(),e.data("closeType")=="over"&amp;&amp;e.hide()}),titleText.attr({text:e}),desText.attr({text:t}),helpInfoSetVisible=!0}function hideHelpInfo(){helpInfoSet.forEach(function(e){e.hide()}),helpInfoSetVisible=!1}function drawConnectLine(){drawedLineNum=0,connectLineSet&amp;&amp;connectLineSet.remove(),connectLineSet=paper.set();var e,t,n,r;dotSet.forEach(function(i){i.data("elementType")=="dot_low"?e=convertPosObj(i.data("posData")):i.data("elementType")=="dot_ref"?t=convertPosObj(i.data("posData")):i.data("elementType")=="dot_guide"?n=convertPosObj(i.data("posData")):i.data("elementType")=="dot_high"&amp;&amp;(r=convertPosObj(i.data("posData")))});var i,s,o,u;paper.forEach(function(e){e.data("priceType")=="bottomLow"?i=convertPosObj(e.data("posData")):e.data("priceType")=="bottomRef"?s=convertPosObj(e.data("posData")):e.data("priceType")=="bottomHigh"?u=convertPosObj(e.data("posData")):e.data("priceType")=="bottomGuide"&amp;&amp;(o=convertPosObj(e.data("posData")))});var a,f="#3A8BC1",l;for(var c=0;c&lt;dotArray.length;c++){var h=dotArray[c];if(h.type=="low"){if(e&amp;&amp;i){drawedLineNum++,a=(i.y-e.y)/2-2*scaleFactor;var p=lineFunc(e,i,a,f);connectLineSet.push(p)}}else if(h.type=="guide"){if(n&amp;&amp;o){drawedLineNum++,a=(o.y-n.y)/2-2*scaleFactor;var d=lineFunc(n,o,a,f);connectLineSet.push(d)}}else if(h.type=="high"){if(r&amp;&amp;u){drawedLineNum++,a=(u.y-r.y)/2-2*scaleFactor;var v=lineFunc(r,u,a,f);connectLineSet.push(v)}}else if(h.type=="ref")if(bottomShowRef)s&amp;&amp;t&amp;&amp;(drawedLineNum++,a=(s.y-t.y)/2-2*scaleFactor,l=lineFunc(t,s,a,"#CD3326"),connectLineSet.push(l));else if(refWindowLinkx&amp;&amp;refWindowLinky){var m=parseInt(refWindowLinky+(refDoty-refWindowLinky)/2),g=paper.path("M"+(refWindowLinkx+.5)+" "+(refWindowLinky+.5)+"L"+(refWindowLinkx+.5)+" "+(m+.5)+"L"+(refDotx+.5)+" "+(m+.5)+"L"+(refDotx+.5)+" "+(refDoty+.5-priceConfig.dotRefRadius)).attr("stroke","#CD3326");connectLineSet.push(g)}}if(showLargeLow){var m=parseInt(refWindowLinky+(lowDoty-refWindowLinky)/2),y=paper.path("M"+(refWindowLinkx+.5)+" "+(refWindowLinky+.5)+"L"+(refWindowLinkx+.5)+" "+(m+.5)+"L"+(lowDotx+.5)+" "+(m+.5)+"L"+(lowDotx+.5)+" "+(lowDoty+.5)).attr("stroke","#3A8BC1");connectLineSet.push(y)}}function lineFunc(e,t,n,r){var i=Math.abs(e.x+e.w-t.x-t.w/2);i&lt;10*scaleFactor&amp;&amp;(t.x=e.x-t.w/2);var s="M"+(parseInt(e.x)+.5)+" "+(parseInt(e.y+e.w)+.5)+"L"+(parseInt(e.x)+.5)+" "+(parseInt(e.y+n)+.5+drawedLineNum*2)+"L"+(parseInt(t.x+t.w/2)+.5)+" "+(parseInt(e.y+n)+.5+drawedLineNum*2)+"L"+(parseInt(t.x+t.w/2)+.5)+" "+(parseInt(t.y)+.5);return paper.path(s).attr("stroke",r).attr("stroke-width",1)}function convertPosObj(e){var t=new Object;return t.x=Number(e.split("_")[0]),t.y=Number(e.split("_")[1]),t.w=Number(e.split("_")[2]),t}function getIcon(e,t,n){var r=iconUrlPre+n+"_"+paramObj.version+".png",i=picDataObj[n].w,s=picDataObj[n].h;e-=i;var o=paper.set(),u=paper.rect(e,t,i,s).attr("fill","#000").attr("stroke-width",0).attr("stroke-opacity",0).attr("fill-opacity",.2).data("iconType","iconType"),a=paper.image(r,e,t,i,s);return o.push(u),o.push(a),o}function changeIconBGAlpha(e,t){e.forEach(function(e){e.data("iconType")=="iconType"&amp;&amp;e.attr("fill-opacity",t)})}function getPriceValue(){var e=new Object;for(var t=0;t&lt;dotArray.length;t++){var n=dotArray[t];e[n.type]=n.xpos}return e}function exportTextDes(e){e="抱歉，该车款暂无参考成交价曲线图。";var t="position: relative; top: "+(canvasHeight-12)/2+"px;font-family:Microsoft YaHei;",n="&lt;div style='height:"+canvasHeight+"px'&gt;&lt;font color='#484848' size='3' style='"+t+"'&gt;"+e+"&lt;/font&gt;&lt;div&gt;";document.getElementById(paramObj.holderId).innerHTML=n}function doLog(e){var t=logUrl+e;LoadJs(t,"logJs")}function showStaticImage(){var e;paramObj.version=="vlarge"?(versionDescribe="600340",e=useLocalId+"_"+paramObj.carId+"_"+versionDescribe+".png"):paramObj.version=="vsmall"&amp;&amp;(versionDescribe="380210",e=useLocalId+"_"+paramObj.carId+"_"+versionDescribe+".png");var t=picPreUrl.toString()+paramObj.carId.toString()+"/"+e,n="&lt;img src='"+t+"'/&gt;";document.getElementById(paramObj.holderId).innerHTML=n}function prepareCanvasDraw(){var e=document.getElementById("myCanvas");context=e.getContext("2d"),prepareImage(context),CanvasRenderingContext2D.prototype.roundRect=function(e,t,n,r,i,s,o){typeof o=="undefined"&amp;&amp;(o=!0),typeof i=="undefined"&amp;&amp;(i=5),this.beginPath(),this.moveTo(e+i,t),this.lineTo(e+n-i,t),this.quadraticCurveTo(e+n,t,e+n,t+i),this.lineTo(e+n,t+r-i),this.quadraticCurveTo(e+n,t+r,e+n-i,t+r),this.lineTo(e+i,t+r),this.quadraticCurveTo(e,t+r,e,t+r-i),this.lineTo(e,t+i),this.quadraticCurveTo(e,t,e+i,t),this.closePath(),o&amp;&amp;this.stroke(),s&amp;&amp;this.fill()},CanvasRenderingContext2D.prototype.dashedLineTo=function(e,t,n,r,i){typeof i=="undefined"&amp;&amp;(i=5);var s=n-e,o=r-t,u=Math.floor(Math.sqrt(s*s+o*o)),a=i&lt;=0?u:u/i,f=o/u*i,l=s/u*i;this.beginPath();for(var c=0;c&lt;a;c++)c%2?this.lineTo(e+c*l,t+c*f):this.moveTo(e+c*l,t+c*f);this.stroke()}}function prepareImage(e){imageObj=new Image,imageObj.onload=function(){canvasDraw(e)},imageObj.src=picUrl}function canvasDraw(e){var t=getPriceValue();canvasBlock(e),canvasTitleText(e),canvasColumns(e),canvasLine(e),canvasDot(e),canvasBottom(e),canvasRef(e),canvasConnectLine(e),!canShowLargeRef&amp;&amp;t.low&gt;=0&amp;&amp;canvasLow(e)}function canvasBlock(e){if(leftLineXpercent&lt;0||rightLineXpercent&lt;0)return;var t=canvasWidth-columnLeftMargin-columnRightMargin,n=canvasHeight-bottomHeight;e.fillStyle="#F7F7F7",e.fillRect(t*leftLineXpercent+columnLeftMargin,0,t*(rightLineXpercent-leftLineXpercent),n)}function canvasTitleText(e){if(leftLineXpercent&lt;0||rightLineXpercent&lt;0)return;var t,n,r,i,s,o;t=parseInt(picDataObj.lowUp.x),n=parseInt(picDataObj.lowUp.y),r=parseInt(picDataObj.lowUp.w),i=parseInt(picDataObj.lowUp.h),s=parseInt((canvasWidth*leftLineXpercent-picDataObj.lowUp.w)/2),s&lt;0&amp;&amp;(s=0),o=parseInt(titleTopMargin),e.drawImage(imageObj,t,n,r,i,s,o,r,i),t=parseInt(picDataObj.middleUp.x),n=parseInt(picDataObj.middleUp.y),r=parseInt(picDataObj.middleUp.w),i=parseInt(picDataObj.middleUp.h),s=parseInt((canvasWidth*(rightLineXpercent-leftLineXpercent)-picDataObj.middleUp.w)/2+canvasWidth*leftLineXpercent),o=titleTopMargin,e.drawImage(imageObj,t,n,r,i,s,o,r,i),t=parseInt(picDataObj.highUp.x),n=parseInt(picDataObj
.highUp.y),r=parseInt(picDataObj.highUp.w),i=parseInt(picDataObj.highUp.h),s=parseInt(canvasWidth*rightLineXpercent+(canvasWidth*(1-rightLineXpercent)-picDataObj.highUp.w)/2),o=titleTopMargin,e.drawImage(imageObj,t,n,r,i,s,o,r,i)}function canvasColumns(e){var t=canvasHeight-(titleTopMargin+picDataObj.middleUp.h+bottomHeight),n,r=canvasHeight-bottomHeight,i,s,o=parseInt((canvasWidth-columnLeftMargin-columnRightMargin)/columnArray.length);e.fillStyle="#EDEDED";for(var u=0;u&lt;columnArray.length;u++)dataValid==0?e.fillStyle="#EDEDED":e.fillStyle="#E1EDF5",n=o*u+columnLeftMargin+columnItemMargin,paramObj.version=="vsmall"&amp;&amp;(n+=3),i=o-columnItemMargin*2,s=columnArray[u].height/100*t,y=r-s-3,e.fillRect(n,y,i,s)}function canvasLine(e){e.strokeStyle="#cccccc";var t=canvasWidth-columnLeftMargin-columnRightMargin;leftLineXpercent&gt;0&amp;&amp;e.dashedLineTo(columnLeftMargin+t*leftLineXpercent,0,columnLeftMargin+t*leftLineXpercent,canvasHeight-bottomHeight,3),rightLineXpercent&gt;0&amp;&amp;e.dashedLineTo(columnRightMargin+t*rightLineXpercent,0,columnRightMargin+t*rightLineXpercent,canvasHeight-bottomHeight,3),e.strokeStyle="#3A8BC1",e.lineWidth=4*scaleFactor,e.beginPath(),e.moveTo(0,canvasHeight-bottomHeight),e.lineTo(canvasWidth,canvasHeight-bottomHeight),e.stroke(),e.strokeStyle="#999999",e.lineWidth=1;var n=canvasWidth/2,r=titleTopMargin+picDataObj.middleUp.h,i=n-10*scaleFactor,s=canvasHeight-bottomHeight-5*scaleFactor,o=canvasWidth/2-60*scaleFactor,u=r+r/5,a="M0 "+(canvasHeight-bottomHeight-2*scaleFactor)+"C"+i+" "+s+" "+o+" "+u+" "+n+" "+r,f=n+10*scaleFactor,l=s,c=canvasWidth-o,h=u,p=canvasWidth,d=canvasHeight-bottomHeight-2*scaleFactor;a+="C "+c+" "+h+" "+f+" "+l+" "+p+" "+d,e.moveTo(0,canvasHeight-bottomHeight-2*scaleFactor),e.bezierCurveTo(i,s,o,u,n,r),e.bezierCurveTo(c,h,f,l,p,d),e.stroke()}function canvasDot(e){var t=canvasWidth-columnLeftMargin-columnRightMargin,n=canvasHeight-bottomHeight;for(var r=0;r&lt;dotArray.length;r++){var i=dotArray[r];if(i.xpos&lt;0||i.xpos&gt;100)continue;i.type=="ref"?(refDotx=columnLeftMargin+t*i.xpos/100,refDoty=n,canvasDotFunc(e,i.type,refDotx,n,priceConfig.dotRefRadius,priceConfig.dotRefColor)):canvasDotFunc(e,i.type,columnLeftMargin+t*i.xpos/100,n,priceConfig.dotRadius,priceConfig.dotColor)}}function canvasDotFunc(e,t,n,r,i,s){e.strokeStyle="#FFFFFF",e.fillStyle=s,e.lineWidth=scaleFactor*1,e.beginPath(),e.arc(n,r,i,0,Math.PI*2,!0),e.stroke(),e.fill(),connectPointObj[t]=new Object,connectPointObj[t].x=n,connectPointObj[t].y=r,connectPointObj[t].w=i}function canvasBottom(e){var t=bottomMargin,n=canvasHeight-bottomHeight+18*scaleFactor,r=5,i,s,o,u=24,a=0;for(var f=0;f&lt;dotArray.length;f++){var l=dotArray[f];l.xpos&gt;=0&amp;&amp;l.type!="ref"&amp;&amp;a++}bottomShowRef?s=parseInt((canvasWidth-t*2-r*a-2)/(a+1)-u/(a+1)):s=(canvasWidth-t*2-r*(a-1)-2)/a;var c=!1;a==1&amp;&amp;!bottomShowRef&amp;&amp;(s=parseInt((canvasWidth-t*2-r*2)/3-u/4),c=!0),o=canvasHeight-n-1;var h=0,p=!1;for(var d=0;d&lt;dotArray.length;d++){var v=dotArray[d];if(v.xpos&lt;0)continue;i=t+(s+r)*h+1,p&amp;&amp;(i+=u);if(v.type=="low")c&amp;&amp;(i=(canvasWidth-2-s)/2),canvasBottomImage(e,i,n,picDataObj.bottomLow,s,o);else if(v.type=="ref")bottomShowRef?(canvasBottomImage(e,i,n,picDataObj.bottomRef,s+u,o),p=!0):h--;else if(v.type=="guide"){var m=getPriceValue();c&amp;&amp;(i=(canvasWidth-2-s)/2),m.guide&gt;0?canvasBottomImage(e,i,n,picDataObj.bottomGuide,s,o):canvasBottomImage(e,i,n,picDataObj.bottomGuideNoData,s,o)}else v.type=="high"&amp;&amp;(c&amp;&amp;(i=(canvasWidth-2-s)/2),canvasBottomImage(e,i,n,picDataObj.bottomHigh,s,o));h++}}function canvasBottomImage(e,t,n,r,i,s){t=parseInt(t),n=parseInt(n),i=parseInt(i),s=parseInt(s),e.strokeStyle="#B9B9B9",e.beginPath(),e.drawImage(imageObj,r.x,r.y,r.w,r.h,t+parseInt((i-r.w)/2),parseInt(n+(s-r.h)/2),r.w,r.h),e.strokeRect(t,n,i,s),connectPointObj[r.type]=new Object,connectPointObj[r.type].x=t,connectPointObj[r.type].y=n,connectPointObj[r.type].w=i}function canvasLow(e){var t=picDataObj.largeLow,n=parseInt((canvasWidth-t.w)/2),r=parseInt((canvasHeight-priceConfig.bottomHeight-t.h)/2)+20;e.drawImage(imageObj,t.x,t.y,t.w,t.h,n,r,t.w,t.h)}function canvasRef(e){if(!canShowLargeRef)return;var t=picDataObj.largeRef,n=refDotx-t.w/2;n=parseInt((canvasWidth-t.w)/2);var r=parseInt(canvasHeight-priceConfig.bottomHeight-t.h)-20*scaleFactor;r&lt;0&amp;&amp;(r=0),refWindowLinkx=n+t.w/2,refWindowLinky=r+t.h;var i=useLocalId+"_"+versionDescribe+"_ref.png?version="+paramObj.versionNum,s=picPreUrl+paramObj.carId+"/"+i,o=new Image;o.onload=function(){e.drawImage(o,n,r)},o.src=s}function canvasConnectLine(e){var t=connectPointObj.low,n=connectPointObj["ref`"],r=connectPointObj.guide,i=connectPointObj.high,s=connectPointObj.bottomLow,o=connectPointObj.bottomRef,u=connectPointObj.bottomGuide,a=connectPointObj.bottomHigh,f,l="#3A8BC1",c;if(t&amp;&amp;s){f=(s.y-t.y)/2;var h=canvasLineFunc(e,t,s,f,l)}if(r&amp;&amp;u){f=(u.y-r.y)/2;var p=canvasLineFunc(e,r,u,f,l)}if(i&amp;&amp;a){f=(a.y-i.y)/2;var d=canvasLineFunc(e,i,a,f,l)}l="#CD3326";if(refWindowLinkx&amp;&amp;refWindowLinky){var v=parseInt(refWindowLinky+(refDoty-refWindowLinky)/2);e.strokeStyle=l,e.beginPath(),e.moveTo(refWindowLinkx,refWindowLinky),e.lineTo(refWindowLinkx,v),e.lineTo(refDotx,v),e.lineTo(refDotx,refDoty),e.stroke()}}function canvasLineFunc(e,t,n,r,i){var s=Math.abs(t.x+t.w-n.x-n.w/2);s&lt;10*scaleFactor&amp;&amp;(n.x=t.x-n.w/2),e.strokeStyle=i,e.beginPath(),e.moveTo(parseInt(t.x),parseInt(t.y+t.w)),e.lineTo(parseInt(t.x),parseInt(t.y+r)),e.lineTo(parseInt(n.x+n.w/2),parseInt(n.y-r)),e.lineTo(parseInt(n.x+n.w/2),parseInt(n.y)),e.stroke()}function getRandomCdnSecondDomain(){var e="img",t=parseInt(Math.random()*4)+1;return e+=t,e}function getVersionNo(){var e=new Date,t=e.getFullYear().toString()+(e.getMonth()+1).toString()+e.getDate().toString()+e.getHours().toString();return t}function LoadJs(e,t,n,r){try{var i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",e),i.setAttribute("id",t);var s=document.getElementsByTagName("head")[0];RemoveDom(t),s.appendChild(i),document.all?i.onreadystatechange=function(){if(this.readyState=="complete"||this.readyState=="loaded")try{n&amp;&amp;n()}catch(e){setTimeout(function(){RemoveDom(t),s.appendChild(i)},2e3)}}:i.onload=function(){n&amp;&amp;n()}}catch(o){r&amp;&amp;r()}}function RemoveDom(e){var t=document.getElementsByTagName("head")[0];document.getElementById(e)&amp;&amp;t.removeChild(document.getElementById(e))}function isChrome(){return navigator.userAgent.indexOf("Chrome")&gt;-1}function getImage_chrome(e,t,n,r,i,s){var o=document.createElement("canvas");o.width=n,o.height=r;var u=o.getContext("2d");u.drawImage(chromeTempImg,e,t,n,r,0,0,n,r);var a=o.toDataURL("image/png"),f=paper.image(a,i,s,n,r);return f}var paramObj=param;param.w&lt;600?paramObj.version="vsmall":paramObj.version="vlarge",paramObj.versionNo=getVersionNo(),paramObj.configIconUrlPre="http://image.bitauto.com/bt/price/priceChart/image/",paramObj.configUrlPre="http://image.bitauto.com/bt/price/priceChart/js/",paramObj.configJsUrlPre="http://image.bitauto.com/bt/price/priceChart/chart/",paramObj.configModelPicUrlPre="http://image.bitauto.com/bt/price/priceChart/chart/",paramObj.configLocationUrl="http://price.bitauto.com/pricecurve/GetLocationInfo.ashx",paramObj.configLogUrl="http://price.bitauto.com/pricecurve/RecordLog.ashx";var gdiType,useLocalId,versionDescribe,testData=param.testData,priceConfig,paper,bottomSet,helpInfoSet,helpInfoSetVisible=!1,refInfoSet,refInfoSetVisible=!0,dotSet,columnSet,stateColumnSet,opacityColumnSet,connectLineSet,columnDesSet,iconUrlPre=param.configIconUrlPre,configUrl_large=param.configUrlPre+"picdata_600_340.js?ver="+paramObj.configJsVersion,configUrl_small=param.configUrlPre+"picdata_380_210.js?ver="+paramObj.configJsVersion,showXmlPreUrl=param.configJsUrlPre,picPreUrl=param.configModelPicUrlPre,cityDataUrl=param.configLocationUrl+"?locationid="+param.locationId+"&amp;carid="+param.carId,logUrl=param.configLogUrl+"?msg=",priceXml,picUrl,picXml,picWidth,picHeight,picAssetElement,canvasWidth,canvasHeight,cityDataObj,picDataObj,areaArr,curAreaIndex,columnArray,columnPicDesArray,dotArray,interativable=paramObj.interactive,scaleFactor=1,bottomShowRef=!1,columnLeftMargin,columnRightMargin,columnItemMargin,bottomHeight,bottomMargin,leftLineXpercent,rightLineXpercent,titleTopMargin,refDotx,refDoty,lowDotx,lowDoty,refWindowLinkx,refWindowLinky,dataValid=0,canShowLargeRef=!0,tryTimesTotal=2,curTryTimes=0,showStaticImageFlag=!1,showLargeLow=!1;getConfigData();var chromeTempImg=new Image,drawedLineNum,imageObj,connectPointObj=new Object}</pre></body></html>