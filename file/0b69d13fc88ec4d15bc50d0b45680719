<html><head></head><body><pre style="word-wrap: break-word; white-space: pre-wrap;">define(["jquery"],function(e){var b=45,h=45,f=0,i=null,c=function(){if(h&lt;1){i.text("获取验证码").removeAttr("disabled")}else{i.text(h+" 秒后重新获取");h--;f=setTimeout(c,1000)}},d=false,g="",a=null;return{mobCode:function(k,l){var j={trigger:e(k),api:l,parameter:null,onParameterError:null,onAPISuccess:null,onAPIError:null};if(k=="reset"){clearInterval(f);return}if(typeof l!="function"){j=e.extend(j,l)}if(!j.api){alert("funCodeRequest.mobCode  API not defined! ")}j.trigger.each(function(){i=e(this);if(i.data("coderequest")==1){return}i.click(function(){var m=e(this);i=m;if(m.attr("disabled")=="disabled"){return}var n=null;if(j.parameter&amp;&amp;(typeof j.parameter=="function")){n=j.parameter()}if(n===false){if(j.onParameterError){j.onParameterError()}return}m.attr("disabled","disabled").text("短信发送中...");e(".help-inline",m.parent()).remove();j.api(n,function(p){h=b;clearInterval(f);c();var o=p.message;if(p.data&amp;&amp;p.data.msg){o=p.data.msg}e('&lt;span class="help-inline"&gt;'+o+"&lt;/span&gt;").insertAfter(m);if(j.onAPISuccess){j.onAPISuccess(p)}},function(p){var o=(p&amp;&amp;p.code)?p.message:"发生系统错误";m.removeAttr("disabled").text("获取验证码");e('&lt;span class="help-inline  mark" style="color:#b94a48"&gt;'+o+"&lt;/span&gt;").insertAfter(m);if(j.onAPIError){j.onAPIError(p)}})});e(this).data("coderequest",1)})},imgCode:function(j,k){var l=k||"/captcha";e(j).each(function(){if(e(this).data("coderequest")==1){return}var n=e(this),m=n.parent().children(".valcode");if(m&amp;&amp;m.length&gt;0){m.css({cursor:"pointer"}).click(function(){e("img",this).attr("src",l+"?nocache="+(new Date().getTime()))})}n.on("focusin",function(p){if(a===this){return}a=this;var o=n.parent().children(".valcode");if(o&amp;&amp;o.length&gt;0){e("img",o).attr("src",l+"?nocache="+(new Date().getTime()))}else{var o=e('&lt;span class="valcode" style="cursor:pointer;width:200px"&gt;&lt;img title="点击刷新验证码" src="'+l+"?nocache="+(new Date().getTime())+'" /&gt;看不清？&lt;a&gt;换一张&lt;/a&gt;&lt;/span&gt;');o.click(function(){e("img",this).attr("src",l+"?nocache="+(new Date().getTime()))}).insertAfter(n)}}).data("coderequest",1)})},imgCodes:function(j,k){var l=k||"/captcha";e(j).each(function(){if(e(this).data("coderequest")==1){return}var n=e(this),m=n.parent().children(".valcode");if(m&amp;&amp;m.length&gt;0){m.css({cursor:"pointer"}).click(function(){e("img",this).attr("src",l+"?nocache="+(new Date().getTime()))})}n.on("focusin",function(p){if(a===this){return}a=this;var o=n.parent().children(".valcode");if(o&amp;&amp;o.length&gt;0){e("img",o).attr("src",l+"?nocache="+(new Date().getTime()))}else{var o=e('&lt;span class="valcode" style="cursor:pointer;width:auto"&gt;&lt;img title="点击刷新验证码" src="'+l+"?nocache="+(new Date().getTime())+'" /&gt;&lt;a class="icon-refresh rcaptcha" title="点击刷新验证码" &gt;&lt;/a&gt;&lt;/span&gt;');o.click(function(){e("img",this).attr("src",l+"?nocache="+(new Date().getTime()))}).insertAfter(n)}}).data("coderequest",1)})},imgwxCodes:function(j,k){var l=k||"/captcha";e(j).each(function(){if(e(this).data("coderequest")==1){return}var n=e(this),m=n.parent().children(".valcode");if(m&amp;&amp;m.length&gt;0){m.css({cursor:"pointer"}).click(function(){e("img",this).attr("src",l+"?nocache="+(new Date().getTime()))})}n.on("focusin",function(p){if(a===this){return}a=this;var o=n.parent().children(".valcode");if(o&amp;&amp;o.length&gt;0){e("img",o).attr("src",l+"?nocache="+(new Date().getTime()))}else{var o=e('&lt;span class="valcode" style="cursor:pointer;width:40%"&gt;&lt;img title="点击刷新验证码" src="'+l+"?nocache="+(new Date().getTime())+'" /&gt;换一张&lt;/span&gt;');o.click(function(){e("img",this).attr("src",l+"?nocache="+(new Date().getTime()))}).insertAfter(n)}}).data("coderequest",1)})},clearCount:function(j){h=0;clearInterval(f);j.attr("disabled","disabled").text("发送手机验证码")}}});</pre></body></html>