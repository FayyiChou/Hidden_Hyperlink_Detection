<!DOCTYPE html>
<html>
 <head> 
  <meta http-equiv="content-type" content="text/html; charset=gbk" /> 
  <meta name="viewport" content="initial-scale=1.0,maximum-scale=1.0,user-scalable=no" /> 
  <meta content="telephone=no" name="format-detection" /> 
  <title>手机预装软件成行业潜规则 彻底清除需多管齐下 - IDC评述网</title> 
  <meta name="keywords" content="手机预装软件" /> 
  <meta name="description" content="在利益的驱使下，预装恶意软件已成为手机市场的潜规则，解决问题需要建立芯片安全机制，完善产品监测手段，加强流通环节管控力度等多个环节入手。近日，央视315晚会曝光了大唐高鸿通过预装软件，向手机植入恶意软   " /> 
  <link rel="stylesheet" type="text/css" href="http://www.idcps.com/statics/m/css/font-awesome.min.css" /> 
  <link rel="stylesheet" type="text/css" href="http://www.idcps.com/statics/m/css/bootstrap.min.css" /> 
  <link rel="stylesheet" type="text/css" href="http://www.idcps.com/statics/m/css/style.css" /> 
  <script type="text/javascript" src="http://www.idcps.com/statics/js/cookie.js"></script> 
  <script type="text/javascript" src="http://www.idcps.com/statics/m/js/jquery.min.js"></script> 
  <script type="text/javascript" src="http://www.idcps.com/statics/m/js/bootstrap.min.js"></script> 
  <script type="text/javascript" src="http://www.idcps.com/statics/m/js/search.js"></script> 
 </head> 
 <body> 
  <div class="body"> 
   <nav class="navbar navbar-info" role="navigation"> 
    <div class="navbar-header"> 
     <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#nav"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> 
     <button type="button" class="navbar-toggle navbar-search" data-toggle="collapse" data-target="#search"> <i class="fa fa-search"></i> </button> 
     <a class="navbar-brand" href="http://www.idcps.com/"><img src="http://www.idcps.com/statics/m/images/logo.png" /></a> 
    </div> 
    <div class="collapse navbar-collapse" id="nav"> 
     <ul class="nav navbar-nav"> 
      <li><a href="http://www.idcps.com/">首页</a></li> 
      <li><a href="http://www.idcps.com/news">新闻</a></li> 
      <li><a href="http://www.idcps.com/focus">专题</a></li> 
      <li><a href="http://www.idcps.com/idcpm">榜单</a></li> 
      <li><a href="http://www.idcps.com/idc">IDC</a></li> 
      <li><a href="http://www.idcps.com/web" style="padding:5px 10px;">建站商</a></li> 
      <li><a href="http://www.idcps.com/room">机房</a></li> 
      <li><a href="http://www.idcps.com/domain">域名</a></li> 
      <li><a href="http://www.idcps.com/product">产品</a></li> 
      <li><a href="http://www.idcps.com/dianping">点评</a></li> 
     </ul> 
    </div> 
    <div class="collapse navbar-collapse" id="search"> 
     <form action="http://www.idcps.com/news?keyword=" method="get"> 
      <div class="input-group-dropdown"> 
       <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">资讯 <span class="caret"></span></button> 
       <ul class="dropdown-menu" role="menu"> 
        <li><a href="news" class="active">资讯</a></li> 
        <li><a href="search">商家</a></li> 
        <li><a href="product">产品</a></li> 
        <li><a href="domain">域名</a></li> 
        <li><a href="buy">商情</a></li> 
       </ul> 
      </div> 
      <div class="input-group"> 
       <input type="text" name="keyword" id="keyword" class="form-control" placeholder="请输入要查询的关键词" value="" autocomplete="off" /> 
       <div class="input-group-btn"> 
        <button type="submit" class="btn btn-default"><i class="fa fa-fw fa-search"></i></button> 
       </div> 
      </div> 
     </form> 
    </div> 
   </nav> 
   <p style="margin-top:3px"><a href=" http://www.idcps.com/focus/idc2016/top10.html" target="_blank"><img src="http://www.idcps.com/uploadfile/upfile/A_D/idc50.jpg" width="100%" /></a></p> 
   <link rel="stylesheet" type="text/css" href="http://www.idcps.com/statics/m/css/show.css" /> 
   <!-- 文章正文 --> 
   <div class="artWrap"> 
    <!--<iframe id="n1" width="300" height="14" frameborder="0" scrolling="no" src="http://www.idcps.com/html/poster/N1.html" style="margin-top:5px;"></iframe>
	<script type="text/javascript" src="http://www.idcps.com/html/poster/rand13.js"></script> --> 
    <h1 class="artTitle">手机预装软件成行业潜规则 彻底清除需多管齐下</h1> 
    <p class="artInfo"> <span class="sInfo-1">2014-03-25 10:23:18</span> <span class="sInfo-2">通信产业网</span> <span><a class="sInfo-3" id="cmtCount" href=""></a></span> </p> 
    <div class="artBody"> 
     <div class="artBody-con" id="Jlazy_img"> 
      <div style="text-indent: 2em;">
       在利益的驱使下，预装恶意软件已成为手机市场的潜规则，解决问题需要建立芯片安全机制，完善产品监测手段，加强流通环节管控力度等多个环节入手。近日，央视315晚会曝光了大唐高鸿通过预装软件，向手机植入恶意软件，获取用户IMEI、MAC地址等设备信息，查看系统应用软件列表，并监控用户日常使用软件的时间、次数、网络流量等侵权行为。
      </div> 
      <p style="text-indent: 2em;">记者经过走访进一步了解到，因为恶意软件开发周期短，成本低，获利快，所以在手机市场中，此类问题普遍存在。不过要想从根本上解决问题，以目前的产品条件，还不能完全规避预装软件带来的风险。“当前，产业链上下游企业实现联动，才能最大限度保护用户的隐私安全。”从事安卓系统开发业务的中科创达副总裁杨宇欣表示。</p> 
      <p style="text-align: center;"><img src="http://www.idcps.com/uploadfile/2014/0325/20140325102357697.jpg" /></p> 
      <p style="text-align: center;"><img src="http://www.idcps.com/uploadfile/2014/0325/20140325102413722.jpg" /></p> 
      <p style="text-indent: 2em;"><strong>“小把戏”</strong></p> 
      <p style="text-indent: 2em;">对于由预装软件引发的问题，业界人士并不陌生。</p> 
      <p style="text-indent: 2em;">技术层面，窃取用户隐私的软件与吸费软件没有明显区别，都是在安卓系统平台中，被打包为APK格式的dalvik vm执行文件。因为此类文件在“/system/app”文件夹下执行是不受限制的，所以在程序正常运行时，用户在删除移动应用后，仍然无法删除保存在后台的问题程序。</p> 
      <p style="text-indent: 2em;">与吸费软件不同，前者通过提升应用装机量，窃取用户日常生活和行为的数据信息，或者保证目标应用长期运行在智能手机中不被删除，而不是与利益相关方分享用户流量损失的红利。此类应用中，应用推广平台开发商按程序的装机量，向协议方交付0.7至3元人民币的费用，保证程序安装到手机中。</p> 
      <p style="text-indent: 2em;">在使用过程中，用户数据信息，会通过无线网络信号，发送至指定平台上。收到回复后，平台厂商就得到了向软件厂商索取利润的凭证，进而索取相应利益补偿。“厂商的平台规模与推广力度越强，交付的费用也就越高。”东软集团嵌入式软件事业部高级软件工程师段观任表示。</p> 
      <p style="text-indent: 2em;">过去，平台厂商会与手机生产商接洽，让刚出厂的手机早早预装目标应用。在产品进仓之后，工作人员通过连接设备，用电脑直连手机，完成预装准备工作。此流程中，操作方需要付出一定的人力成本，被央视点名的“大唐神器”正是这样的一款已经落伍的应用。</p> 
      <p style="text-indent: 2em;">不过伴随技术的进步，硬件直连的方式正在被新式装备取代。据知情人士表示，目前，预装设备可以通过WiFi与手机连接，每台设备可以并行为40部手机安装程序，缩减了预装成本。“即使是为百万部以上规模的手机预装软件，工作量也不会很大，占用的时间成本也不高。”段观任表示。</p> 
      <p style="text-indent: 2em;">在新式预装设备被广泛使用后，手机供应链开始伺机而动。杨宇欣表示，由于预装应用的条件限制不多，导致产品在流通过程中，分销渠道商与平台厂商的合作开始增多，重装手机系统的频率随之提升。</p> 
      <p style="text-indent: 2em;">正因如此，用户很少使用到生产环节预制的软件，开始更多地使用渠道商预装的软件，平台厂商的合作伙伴，正在从传统的生产商转向渠道商。“谁更接近最终用户，谁就是平台商的最终合作伙伴。”杨宇欣说。</p> 
      <p style="text-indent: 2em;">据中银通支付商务有限公司信息科技部总监陈建伟介绍，仍在经营此类业务的厂商不在少数。不过由于开发实现此类功能的应用难度不高，众多厂商会把相关业务“隐藏”到其他业务之后，提升运转的安全性。“除非不想植入，全部流程执行下来的难度并不高，而且植入之后不会影响最终消费者的使用。”某渠道商工作人员表示。</p> 
      <p style="text-indent: 2em;">以鼎开互联为例，预制服务只是其一小部分业务，主营产品及服务覆盖大规模网络应用技术开发和服务、手机客户端、应用软件开发等多个领域。“如果不是传送必要信息必须使用网络流量，用户根本不知道个人信息已经泄露的事实。”陈建伟说。</p> 
      <p style="text-indent: 2em;"><strong>背黑锅的无奈</strong></p> 
      <p style="text-indent: 2em;">在众多问题出现后，让手机厂商开始为隐患手机背了黑锅。不过即便这负担再沉重，厂商也不会有扭转现状的意愿。</p> 
      <p style="text-indent: 2em;">为降低产品开发成本，应对苹果iPhone给市场带来的冲击，2007年11月，众多厂商联合起来成立了开放手持设备联盟，发布了基于Linux系统的安卓手机平台。据国外科技媒体PhoneArena发布的最新数据显示，2013年安卓系统的全球手机市场的占有率已高达78.9%，iOS已经降到15.5%。</p> 
      <p style="text-indent: 2em;">不久后，发生在微软Windows平台的故事，在安卓系统中被重新演绎――病毒和木马程序大量出现，让安卓平台的安全隐患彻底爆发。虽然大量安全厂商纷纷涌现，并在移动平台推出应用服务，但面对层出不穷的问题仍然是杯水车薪。</p> 
      <p style="text-indent: 2em;">“即使问题再严重，手机厂商能做的只能是修补，而不是革命。”段观任表示，手机安全的根由在于千疮百孔的安卓系统，扶持新系统自然是解决问题的一种方法，可是留给厂商的选项并不多。就算是第三大操作系统Windows Phone，市占率也仅有3.6%，20万的应用数量更是不到安卓平台的五分之一，其他平台的市占率和影响力可被忽略，更换系统就相当于产品贬值。</p> 
      <p style="text-indent: 2em;">也有部分厂商试探性地开发Firefox OS，同时提前布局HTML5。不过后者同样属于开源系统，该属性与安卓系统相同。就算被手机厂商广泛采用之后，Firefox仍会与安卓一样，难以摆脱安全问题的困扰。</p> 
      <p style="text-indent: 2em;">不仅如此，成本压力仍然是每家厂商必须考虑的因素。据媒体报道，包括Office在内，WP系统的授权费用是25美元/部，Windows RT系统的平板设备授权费用是90美元/部。如更换操作系统，为填补多出来的授权费成本，提价在所难免，这势必影响产品的市场竞争力。手机厂商也可以“自立门户”打造自有操作系统，三星已经提前布局，TIZEN系统已经植入其可穿戴设备Galaxy GEAR2中。不过能够拿出足够的资金支撑系统开发的手机厂商并不在多数，因此三星的行为只是个案。“成本决定着厂商的最终选择。”杨宇欣说。</p> 
      <p style="text-indent: 2em;">然而背负成本压力的，又何止手机厂商？一方面手机厂商投入力度有限；另一方面人工和租金等成本不断提升，对于在夹缝中生存的渠道商而言，吸收预制平台应用厂商的资金，缓解生存压力也是理想的选择。某渠道商工作人员向记者表示，平台商的定向投入已经成为渠道厂商的固定收入，很多手机厂商也默认了这些行为。</p> 
      <p style="text-indent: 2em;">平台商得到了用户数量，渠道商拓宽了盈利渠道，睁一只眼，闭一只眼的手机厂商“难得糊涂”，三方达成了默契，并从底层重构了盈利模式，所以预置软件商才有了如此宽松的生存环境。“正因如此，手机厂商会继续把黑锅背下去。”陈建伟表示。</p> 
      <p style="text-indent: 2em;"><strong>多管齐下</strong></p> 
      <p style="text-indent: 2em;">目前，预装恶意软件的问题已成为行业潜规则，因此解决问题需要从多个环节入手。</p> 
      <p style="text-indent: 2em;">在产品层，由于问题平台商已经与最接近用户的渠道商建立联系，因此加强对渠道商的监管力度效果不会明显。不过因为操作系统处于产业链的上游，所以解决问题也必须从“上层建筑”开始。</p> 
      <p style="text-indent: 2em;">杨宇欣表示，芯片厂商可以在处理器层设置安全机制，通过硬解码的方式，识别系统中的安全隐患。这种模式，类似于个人电脑中被广泛采用的杀毒软件。在芯片层删除程序，或对问题程序加以控制，能够以最低的成本提升操作系统的安全性。</p> 
      <p style="text-indent: 2em;">虽然手机厂商不会自我革命，但是出于保护品牌的目的，它们也开始通过各种手段改善现状。以三星为例，为摆脱问题应用的出现，从2013年第四季度开始，该公司不仅像苹果一样专门设计并使用破坏型封装，还为新品设置了开机注册的启动项。新机在首次开机时，会进行FOTA注册，一方面可以达成监测手机实际销售情况的目的；另一方面还降低了产品被预装软件的可能性。</p> 
      <p style="text-indent: 2em;">流通环节，提升产品在正规渠道的流通量同样重要。出于提升品牌价值的诉求，苏宁易购、京东商城、国美、迪信通等线上和线下渠道商，会尽量避免手机预装软件带来的安全隐患，因此用户选择在主流渠道购买手机有很强的实际意义。“正规化的运作同样有助于产品更好地推广。”段观任表示。</p> 
      <p style="text-indent: 2em;">2013年8月，中国移动曾推出M701与M601两款产品。运营商除了在应用预装过程中能够保证系统的安全性，产品在各地移动营业厅为主的渠道中销售，进一步降低了产品在流通过程中，出现安全问题的可能性。“全程正规化，是目前解决安全问题的最有效措施，中国移动的操作很有借鉴价值。”某业界专家表示。</p> 
      <p style="text-indent: 2em;">(记者 刘亚杰)</p> 
     </div> 
    </div> 
    <div style="display: none;">
     <img src="http://www.idcps.com/statics/m/images/logo_weixin.jpg" />
    </div> 
    <br /> 
    <meta http-equiv="Cache-Control" content="no-transform" /> 
    <script type="text/javascript" src="https://zz.bdstatic.com/zzdashang/js/bd-zz-reward.js"></script> 
    <div class="bd-reward-stl">
     <button id="bdRewardBtn"><span></span></button>
    </div> 
    <div class="weixin"> 
     <p> <i class="fa fa-fw fa-trophy"></i><a href=" http://www.idcps.com/focus/idc2016/top10.html" target="_blank"><span>【榜单】</span>2016年中国IDC产业评选50强 </a><br /><br /> <i class="fa fa-fw fa-weixin"></i> 微信:<span>idcps-com</span>&nbsp;&nbsp;<i class="fa fa-fw fa-weibo"></i>微博:<a href="http://weibo.com/idcps" target="_blank" rel="nofollow">@idc评述网</a> </p> 
    </div> 
    <div class="m-appAshare"> 
     <div class="shareBox"> 
      <p class="pTit">分享到：</p> 
      <div id="bdshare_warp" sharetype="tools"></div> 
     </div> 
    </div> 
    <div class="RelatedRead"> 
     <b>相关阅读:</b> 
     <p class="sTit"><a href="http://www.idcps.com/news/20140317/69994.html">手机预装软件利益链遭曝光：每部潜伏15个软件</a></p> 
     <p class="sTit"><a href="http://www.idcps.com/news/20170324/94182.html">“微信指数“正式上线 希望给个人或企业...</a></p> 
     <p class="sTit"><a href="http://www.idcps.com/news/20170324/94180.html">微信“清粉”陷阱：与微商相连 “清粉”...</a></p> 
     <p class="sTit"><a href="http://www.idcps.com/news/20170324/94179.html">传闻58同城简历数据泄露 20元/份简历变廉...</a></p> 
     <p class="sTit"><a href="http://www.idcps.com/news/20170324/94178.html">Twitter考虑推付费版TweetDeck 提供给活...</a></p> 
    </div> 
   </div> 
   <script>
	$('.artBody p img').each(function(){
		$(this).parent().css('text-indent','');
	});
</script> 
   <script type="text/javascript" src="http://www.idcps.com/statics/m/js/share.js"></script> 
   <link rel="stylesheet" type="text/css" href="http://www.idcps.com/statics/m/css/dianping.css" /> 
   <link rel="stylesheet" type="text/css" href="http://www.idcps.com/statics/m/css/form.css" /> 
   <script type="text/javascript" src="http://www.idcps.com/statics/m/js/formvalidator.js" charset="UTF-8"></script> 
   <script type="text/javascript" src="http://www.idcps.com/statics/m/js/formvalidatorregex.js" charset="UTF-8"></script> 
   <div class="dpform" id="replyform" style="display:none"> 
    <div class="bootform"> 
     <div class="mask"> 
      <div class="mask_bg"></div> 
      <div class="mask_tips"> 
       <a href="http://www.idcps.com/login?forward=http://www.idcps.com/news/20140325/70480.html" class="btn btn-info">登陆评论</a>
       <span>&nbsp;&nbsp;|&nbsp;&nbsp;</span>
       <a href="javascript:void(0)" class="btn btn-danger" onclick="$('.mask').remove();$('.bluebtn').removeAttr('onclick');">匿名评论</a> 
      </div> 
     </div> 
     <form action="http://www.idcps.com/index.php?m=dianping&amp;c=index&amp;a=reply" method="post" onsubmit="return check_reply(this)"> 
      <input type="hidden" name="info[parentid]" value="" /> 
      <input type="hidden" name="info[replyuserid]" value="" /> 
      <input type="hidden" name="info[replynickname]" value="" /> 
      <div class="form-group"> 
       <textarea name="info[content]" class="form-control" rows="3"></textarea> 
      </div> 
      <div class="form-group"> 
       <input type="button" class="btn btn-default" value="取消" style="width:49%;" onclick="$('.replyform').remove()" /> 
       <input type="submit" name="dosubmit" class="btn btn-info" value="确定" style="width:49%;" /> 
      </div> 
     </form> 
    </div> 
   </div> 
   <script>
function reply(link,id,parentid,replyuserid,replynickname){
	var replyformid = $(".replyform").attr("id");
	if(replyformid){
		$(".replyform").remove();
	} 
	if(replyformid!=id){
		var replyform = $("<div id='"+id+"' class='dpform replyform'></div>");
		replyform.html($("#replyform").html());
		replyform.find("input[name='info[parentid]']").val(parentid);
		replyform.find("input[name='info[replyuserid]']").val(replyuserid);
		replyform.find("input[name='info[replynickname]']").val(replynickname);
		$(link).parent().parent().after(replyform);	
	}
}

function check_reply(form){
	var replycontent = $(form).find('textarea').val();
	if(replycontent==''){
		alert('回复内容不能为空！');
		return false;
	}

	var flag = 0;
	$.ajax({
		type: "POST",
		async: false,// 设置同步方式
		cache: false,
		url: "http://www.idcps.com/index.php?m=dianping&c=index&a=check_post",
		data: {"dpcontent":replycontent,'isajax':1},
		success:function(data){
			if(data=="0"){
				alert('评论内容含有非法字符！');
				return false;
			} else {
				flag = 1;
			}
		}
	});

	return flag ? true : false;
}

function support(link,id,isreply){
	$.post("http://www.idcps.com/index.php?m=dianping&c=index&a=support&id="+id+"&isreply="+isreply,function(data){
		if(data=="success"){
			var votenum = parseInt($(link).html().match(/\d+/));
			$(link).html('<i class="fa fa-fw fa-thumbs-up"></i>('+(votenum+1)+')');
		} else {
			alert(data);
		}
	});
}
function against(link,id,isreply){
	$.post("http://www.idcps.com/index.php?m=dianping&c=index&a=against&id="+id+"&isreply="+isreply,function(data){
		if(data=="success"){
			var votenum = parseInt($(link).html().match(/\d+/));
			$(link).html('<i class="fa fa-fw fa-thumbs-down"></i>('+(votenum+1)+')');
		} else {
			alert(data);
		}
	});
}


var page = 2;
var status = 0;

function getMore() {
	if (status != 0) return;
	status = 1;
	$.get("http://www.idcps.com/index.php?m=dianping&c=index&a=list_ajax&modelid=1&contentid=70480&show_contentid=&page=" + page, function (json) {
		status = 0;
		var jsonObj = eval("(" + json + ")");
		if (jsonObj.status > 0) {
			var result = jsonObj.result;
			var flag = false;
			for (var i in result) {
				if (result[i].id != null) {
					flag = true;
					var r = result[i];
					var li = '<div class="media">'
							+ (r.userurl!='' ? '<a href="'+r.userurl+'" class="pull-left"><img src="'+(r.userid!='' ? r.avatar : 'http://www.idcps.com/statics/images/member/nophoto.gif')+'" class="media-object" alt="'+r.nickname+'"></a>' : '<div class="pull-left"><img src="http://www.idcps.com/statics/images/member/nophoto.gif" class="media-object"></div>')
							+ '<div class="media-body">'
							+ '<p>' + (r.userurl!='' ? '<a href="'+r.userurl+'">'+r.nickname+'</a>' : r.nickname) 
														+ '</p>'
							+ '<div class="dpcontent">'+r.content+'</div>'
							+ '<p><span>'+r.addtime+'</span>'
							+ '<span class="pull-right">'
							+ '<a href="javascript:void(0);" onclick="support(this,'+r.id+',0)"><i class="fa fa-fw fa-thumbs-up"></i>('+r.support+')</a>&nbsp;&nbsp;'
							+ '<a href="javascript:void(0);" onclick="against(this,'+r.id+',0)"><i class="fa fa-fw fa-thumbs-o-down"></i>('+r.against+')</a>&nbsp;&nbsp;'
							+ '<a href="javascript:void(0);" onclick="reply(this,'+r.id+','+r.id+','+r.userid+',\''+r.nickname+'\')">回复</a>'
							+ '</span>'
							+ '</p>';
					for (var j in r.reply) {
						if (r.reply[j].id != null) {
							var reply = r.reply[j];
							li += '<hr><div class="media"><div class="media-body">'
									+ (reply.userurl!='' ? '<a href="'+reply.userurl+'" class="pull-left"><img src="'+(reply.userid!='' ? reply.avatar : 'http://www.idcps.com/statics/images/member/nophoto.gif')+'" class="media-object" alt="'+reply.nickname+'"></a>' : '<div class="pull-left"><img src="http://www.idcps.com/statics/images/member/nophoto.gif" class="media-object"></div>')
									+ '<p>' + (reply.userurl!='' ? '<a href="'+reply.userurl+'">'+reply.nickname+'</a>' : reply.nickname) 
									+ ' 回复 ' + (reply.replyuserurl!='' ? '<a href="'+reply.replyuserurl+'">'+reply.replynickname+'</a>' : reply.replynickname)
									+ '</p>'
									+ '<div class="dpcontent">'+reply.content+'</div>'
									+ '<p><span>'+reply.addtime+'</span>'
									+ '<span class="pull-right">'
									+ '<a href="javascript:void(0);" onclick="support(this,'+reply.id+',0)"><i class="fa fa-fw fa-thumbs-up"></i>('+reply.support+')</a>&nbsp;&nbsp;'
									+ '<a href="javascript:void(0);" onclick="against(this,'+reply.id+',0)"><i class="fa fa-fw fa-thumbs-o-down"></i>('+reply.against+')</a>&nbsp;&nbsp;'
									+ '<a href="javascript:void(0);" onclick="reply(this,'+reply.id+','+reply.id+','+reply.userid+',\''+reply.nickname+'\')">回复</a>'
									+ '</span>'
									+ '</p></div></div>';

						}
					}
					li += '</div></div><hr>';


					$(".dplist").first().append(li);
				}
			}
			if (flag) {
				page++;
				$('.tab-content').height($("#btn-more").parent().height());
				if (50 < page) {
					$("#btn-more").html("<a href='javascript:void(0);''>没有内容了</a>");
				}
			}
		} else {
			$("#btn-more").html("<a href='javascript:void(0);''>没有内容了</a>");
		}
	});
}
</script> 
   <div class="dpform"> 
    <div class="note note-primary"> 
     <h4 class="block"><i class="fa fa-fw fa-pencil"></i> 点评</h4> 
    </div> 
    <div class="bootform"> 
     <div class="mask"> 
      <div class="mask_bg"></div> 
      <div class="mask_tips" style="margin:50px auto;"> 
       <a href="http://www.idcps.com/login?forward=http://www.idcps.com/news/20140325/70480.html" class="btn btn-info">登陆评论</a>
       <span>&nbsp;&nbsp;|&nbsp;&nbsp;</span>
       <a href="javascript:void(0)" class="btn btn-danger" onclick="$('.mask').remove();$('.bluebtn').removeAttr('onclick');">匿名评论</a> 
      </div> 
     </div> 
     <div class="content"> 
      <form action="http://www.idcps.com/index.php?m=dianping&amp;c=index&amp;a=post" method="post" id="myform"> 
       <input type="hidden" name="info[modelid]" value="1" /> 
       <input type="hidden" name="info[catid]" value="6" /> 
       <input type="hidden" name="info[contentid]" value="70480" /> 
       <div class="form-group"> 
        <textarea name="info[content]" id="dpcontent" class="form-control" rows="4"></textarea> 
       </div> 
       <div class="form-group" style="position:relative;width:45%;"> 
        <input type="text" name="info[code]" id="code" class="form-control" placeholder="验证码" /> 
        <img id="code_img" onclick="this.src=this.src+&quot;&amp;&quot;+Math.random()" src="http://www.idcps.com/api.php?op=checkcode&amp;code_len=4&amp;font_size=14&amp;width=100&amp;height=26&amp;font_color=&amp;background=" /> 
       </div> 
       <div class="form-group"> 
        <input type="button" class="btn btn-default" value="取消" style="width:49%;" onclick="$('#vote_modal .close',parent.document).click()" /> 
        <input type="submit" name="dosubmit" id="dosubmit" class="btn btn-info" value="确定" style="width:49%;" /> 
       </div> 
      </form> 
     </div> 
    </div> 
   </div> 
   <script language="javascript" type="text/javascript" src="http://www.idcps.com/statics/js/star.js"></script> 
   <script>
$(".star-form").each(function(i){
	var i=i+1;
	$("#star"+i+"_c").webwidget_rating_sex({
		rating_star_length: '5',
		rating_star_each: i,
		rating_initial_value: '0',
		rating_function_click: 'clicks',
		rating_function_hover: 'hover',
		directory: 'http://www.idcps.com/statics/images/icon'
	});
});

var fentip=new Array("很糟","差","一般","好","非常好");
function clicks(id,num) {
	$("#star"+num+"_c").parent().attr('class','col-xs-5');
	$("#star"+num+"_c:after").remove();
	$("#star"+num+"_cTip").remove();
	$("#tip_"+num).attr("c",id).text(fentip[id-1]);
}
function hover(value,num){
	$("#tip_"+num).text(fentip[value]);
}


$(function(){
	$.formValidator.initConfig({autotip:true,formid:"myform",onerror:function(msg){}});

	$(".star-form").each(function(i){
		var i=i+1;
		textinfo = $(this).find('label').html();
		$("#star"+i+"_c").formValidator({onshow:" ",onfocus:"请为【"+textinfo+"】项目评分！"}).regexValidator({regexp:"^[1-5]$",onerror:"请为【"+textinfo+"】项目评分！"});
	});

	$("#dpcontent").formValidator({onshow:" ",onfocus:" "}).inputValidator({min:1,onerror:"评论内容不能为空！"}).ajaxValidator({
		type : "post",
		datatype : "html",
		url : "http://www.idcps.com/index.php?m=dianping&c=index&a=check_post",
		data : "isajax=1",
		dataname : "dpcontent",
		success : function(data){
			if( data == "1" ) {
				return true;
			} else {
				return false;
			}
		},
		buttons: $("#dosubmit"),
		onerror : "评论内容含有非法字符！",
		onwait : "正在连接...请稍等"
	});

		$("#code").formValidator({onshow:" ",onfocus:" "}).inputValidator({min:4,max:4,onerror:"验证码输入错误。"}).ajaxValidator({
		type : "get",
		url : "http://www.idcps.com/api.php",
		data :"op=checkcode&isajax=1",
		datatype : "html",
		async:'false',
		success : function(data){
			if( data == "1" ) {
				return true;
			} else {
				$('#code_img').click();
				return false;
			}
		},
		buttons: $("#dosubmit"),
		onerror : "验证码输入错误。",
		onwait : "正在连接...请稍等"
	});
	});
</script> 
   <script type="text/javascript" src="http://www.idcps.com/api.php?op=count&amp;id=70480&amp;modelid=1"></script> 
   <!-- 公共底部 --> 
   <div class="toTop-btn" title="回到顶部" onclick="window.scrollTo(0, 0);"></div> 
   <div class="footer"> 
    <p class="pTit-1"> <span class="footer_login"><a href="http://www.idcps.com/login">登录</a> | <a href="http://www.idcps.com/register">注册</a></span> <span><a href="http://www.idcps.com/a.html">广告</a> | <a href="http://www.idcps.com/contact.html">反馈</a></span> </p> 
    <p class="pTit-1"> <span>&copy;2016 IDC评述网 IDCps.com</span> <span><em>触屏版</em> | <a href="http://www.idcps.com/?ispc=1">电脑版</a></span> </p> 
   </div> 
  </div> 
  <script type="text/javascript" src="http://www.idcps.com/statics/m/js/script.js"></script> 
  <div style="display:none;">
   <script type="text/javascript">var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa66f7094a7bd375eb20c34a866dc3961' type='text/javascript'%3E%3C/script%3E"));</script>
   <script language="javascript" type="text/javascript" src="http://js.users.51.la/1777295.js"></script>
  </div>  
 </body>
</html>