


<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
        <meta http-equiv="Content-Encoding" content="gzip">
        <meta name="keywords" content="苏州地图、苏州电子地图，苏州专题地图、苏州品牌地图、苏州旅游酒店、苏州商城购物、苏州交通出行、苏州生活服务、苏州银行、苏州医院、苏州加油站、苏州火车站">
        <meta name="description" content="苏州地图网提供苏州最权威、最精确的地图搜索服务，公交线路换乘、周边信息等地图服务；提供企业的品牌地图，将企业分支机构的地理分布、地理位置直观的呈现在地图上；提供焦点地图、专题地图，解决时下最热门的出行问题；提供苏州全面的生活信息（商城购物、餐饮娱乐、酒店住宿、交通出行、银行、售票点、旅游推荐等）。要出行，就上苏州地图网。">
        <link rel="shortcut icon" type="image/ico" href="favicon.ico">
        <link href="css/searchbar.css?v=20131112" rel="stylesheet" type="text/css" />
        <link href="css/main.css?v=20131112" rel="stylesheet" type="text/css" />
        <link href="css/index.css?v=20131112" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" type="text/css" href="css/special/NivooSlider.css" />
    	<link rel="stylesheet" type="text/css" href="css/special/demo.css" />
        <title>要出行，就上苏州地图网（www.sz-map.com），苏州最大的数字地图网站</title>
		<script type="text/javascript" src='http://www.sz-map.com/static/js/mootools1.2.5/mootools-min.js?v=20140804'></script>
		
<script type="text/javascript">
    /**
	var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-17702839-1']);
    _gaq.push(['_trackPageview']);
	**/
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "//hm.baidu.com/hm.js?614917d2260091235fff3e4744999a69";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
</script>

    </head>
    <body>
        
<div class='top_info'>
    <table border='0' cellpadding='0' cellspacing='0'>
        <tr>
            <td>
				<div class='top_nav_links'>
					<a target='_blank' class='hot' href='http://m.sz-map.com/'>实时公交</a>
					<a target='_blank' class='hot' href='http://brand.sz-map.com/hotel/'>酒店</a>
					<a target='_blank' class='hot' href='http://house.sz-map.com/'>房产</a>
					<a target='_blank' href='http://esf.suzhou.soufun.com/?utm_source=ad&utm_medium=click&utm_campaign=gttszmap'>二手房</a>
					<a target='_blank' class='hot' href='http://auto.sz-map.com/'>汽车</a>
					<a target='_blank' href='http://gd.sz-map.com/'>轨道交通</a>
					<a target='_blank' href='http://sipac.sz-map.com/'>园区地图</a>
					<a target='_blank' href='http://snd.sz-map.com/'>新区地图</a>
					<a target='_blank' class='hot' href='http://brand.sz-map.com/taxi'>泊车点</a>
					<a target='_blank' class='hot' href='http://brand.sz-map.com/shelter/'>应急避难所</a>
					<a target='_blank' class='hot' href='http://brand.sz-map.com/national/'>国庆黄金周</a>
					<!-- a target='_blank' href='http://shop61808883.taobao.com/'>地图商店</a-->
					<a href='#'>更多</a>
				</div>
            </td>
            <td align='right'>
                <a class='hot' id='latestUpdate' href='http://blog.sz-map.com/2010/09/day_day_up/' target='_blank'>最近更新</a>
                <!-- 
                <a target="_blank" href="http://blog.sz-map.com/2013/03/move/" id="move" class="hot">乔迁公告</a>
                 -->
                <a href='help/help.html' target='_blank'>帮助中心</a>
            </td>
        </tr>
    </table>
    <!-- 
    <div style="position: absolute;left:10px;">
    	<img src="images/spring_festival/bg04.gif"/>
    </div>
    <div style="position: absolute;right:0; float:right;">
    	<img src="images/spring_festival/bg05.gif"/>
    </div>
     -->
    <div id='day_day_up'>
        <a href='http://blog.sz-map.com/2010/09/day_day_up/' target='_blank'>
			1、新增道路线形显示<br />
			2、新增区域面形显示<br />
			3、新增数据来源标识<br />
        </a>
        <div class='day_day_up_close'></div>
    </div>
</div>

<div class='main'>
    <h1 id='logo'><a href="index.jsp" id="logotext">地图搜索 公交换乘 驾车导航 周边搜索</a></h1>
    <div id='searchBarContainer'>
        <div class='hot'>
            <a class='hot_house' hidefocus="true" href='http://house.sz-map.com/' target='_blank'>房产</a><a href='http://auto.sz-map.com/' hidefocus="true" target='_blank' class='hot_auto'>汽车</a><a href='http://brand.sz-map.com/hotel/' hidefocus="true" target='_blank' class='hot_hotel'>酒店</a>
            <span></span>
        </div>
        



<link href="css/Autocompleter.css?v=20131112" rel="stylesheet" type="text/css" />
<div id="searchBar">
	<ul class="tabs">
		<li class="tab" id="searchBar_tab_0" value="0">
			<a href='index.jsp' hidefocus="true" target="_self">地图搜索</a>
		</li>
		<li class="tab" id="searchBar_tab_1" value="1">
			<a href='bus.jsp' hidefocus="true" target="_self">公交换乘</a>
		</li>
		<li class="tab" id="searchBar_tab_3" value="3">
			<a href='drive.jsp' hidefocus="true" target="_self">驾车导航</a>
		</li>
		<li class="tab" id="searchBar_tab_2" value="2">
			<a href='perim.jsp' hidefocus="true" target="_self">周边搜索</a>
		</li>
	</ul>
	<div class="tab_content" id="searchBar_tabcontent_0">
		<div class="s_common poi_search">
			<div class="ipts_com inputs">
				<input type="text" readonly="readonly" autocomplete="off"
					value="苏州市" class="common region">
				<span class="common i_arrow r_arrow"></span>
				<input type="text" autocomplete="off" value="请输入地名或公交线路 例如：拙政园 或19路"
					class="common value title">
				<span class="common i_search value_search"></span>
			</div>
			<input type="button" hidefocus="true" value="" class="submit">
		</div>
	</div>
	<div class="tab_content" id="searchBar_tabcontent_1">
		<div class="s_common trf_search">
			<div class="ipts_com inputs">
				<input type="text" autocomplete="off" readonly="readonly"
					value="苏州市" class="common region">
				<span class="common i_arrow r_arrow"></span>
				<input type="text" autocomplete="off" value="起点：输入站点名或地名"
					class="common from title">
				<span class="common i_search from_search"></span>
				<span class="common i_da ch_arrow"></span>
				<input type="text" autocomplete="off" value="终点：输入站点名或地名"
					class="common to title">
				<span class="common i_search to_search"></span>
			</div>
			<input type="button" hidefocus="true" value="" class="submit">
		</div>
	</div>
	<div class="tab_content" id="searchBar_tabcontent_3">
		<div class="s_common drive_search">
			<div class="ipts_com inputs">
				<input type="text" autocomplete="off" value="出发地：请输入地名，例如虎丘"
					class="common from title">
				<span class="common i_search from_search"></span>
				<span class="common i_da ch_arrow"></span>
				<input type="text" autocomplete="off" value="目的地：请输入地名，例如拙政园"
					class="common to title">
				<span class="common i_search to_search"></span>
			</div>
			<input type="button" hidefocus="true" value="" class="submit">
		</div>
	</div>
	<div class="tab_content" id="searchBar_tabcontent_2">
		<div class="s_common per_search">
			<div class="ipts_com inputs">
				<input type="text" autocomplete="off" readonly="readonly"
					value="苏州市" class="common region">
				<span class="common i_arrow r_arrow"></span>
				<input type="text" autocomplete="off" value="" id="periphery_center"
					class="common value title">
				<input type="text" value="例:酒店，美食，婚纱摄影，装潢，驾校.." autocomplete="off"
					id="periphery_keyword" class="common keyword title">
				<span class="common i_search value_search"></span>
			</div>
			<input type="button" hidefocus="true" value="" class="submit">
			<div class="per_suggest" id="centerSuggest">
				<span class="hot_placemark">交通枢纽：</span>
				<span><a>苏州高铁火车站</a><a>园区高铁站</a>
				</span>
				<span><a>高新区高铁站</a>
				</span>
				<span class="hot_placemark">风景区：</span>
				<span><a>拙政园</a><a>虎丘风景区</a><a>网师园</a>
				</span>
				<span class="hot_placemark">热门商圈：</span>
				<span><a>圆融时代广场</a><a>绿宝广场</a>
				</span>
				<span><a>石路</a><a>观前街</a><a>十全街</a>
				</span>
				<div class="close">
				</div>
			</div>
			<div class="per_suggest" id="keywordSuggest">
				<span class="hot_placemark">热门关键词：</span>
				<span><a>肯德基</a><a>麦当劳</a><a>必胜客</a><a>都可茶饮</a>
				</span>
				<span><a>战斗鸡排</a><a>星巴克</a>
				</span>
				<div class="cut_line">
				</div>
				<span class="hot_placemark">热门类别：</span>
				<span><a>休闲娱乐</a><a>公交站点</a><a>宾馆</a>
				</span>
				<span><a>餐饮</a><a>加油站</a><a>汽车维修</a>
				</span>
				<div class="close">
				</div>
			</div>
		</div>
	</div>
	<div class="regions">
		<div class="close">
		</div>
		<table cellspacing="1" cellpadding="0" border="0">
			<tbody>
				<tr>
					<td>
						[苏州市]
					</td>
				</tr>
				<tr>
					<td>
						[昆山市]
					</td>
				</tr>
				<tr>
					<td>
						[太仓市]
					</td>
				</tr>
				<tr>
					<td>
						[常熟市]
					</td>
				</tr>
				<!-- 
				<tr>
					<td>
						[吴江市]
					</td>
				</tr>
				 -->
				<tr>
					<td>
						[张家港市]
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>
<script type="text/javascript" src='js/Autocompleter.js?v=20131112'></script>
<script type="text/javascript">
	var SearchBar = function(container, options){
	options = options || {};
	this.poiSearch = options.poiSearch || function(){};
	this.perSearch = options.perSearch || function(){};
	this.trfSearch = options.trfSearch || function(){};
	this.driveSearch = options.driveSearch || function(){};
	this.changeTab = options.changeTab || function(){};
	this.swapStartAndEnd = options.swapStartAndEnd || function(){};
	this.changeRegion = options.changeRegion || function(){};
	this.activeTab =  options.active || 0;
	this.checkValue = options.checkValue;
	this.container = document.id(container);
	
	if(!options.isStatic){
		var tabs = document.getElements('li.tab');
		var tabHtml = ['地图搜索','公交换乘','驾车导航','周边搜索'];
		tabs.each(function(tab,index){
			tab.set('html',tabHtml[index]);
		})
	}
	
	var tab = document.getElementById("searchBar_tab_"+this.activeTab);
    var content = document.getElementById("searchBar_tabcontent_"+this.activeTab);
        	
    tab.className+=" active";
    content.className+=" active";
	
	this.addAutoCompleter();
	
	this._init();
}

SearchBar.prototype = {
	getElement: function () {
		return this.container.getElementById('searchBar');
	},
	getPoiSEL: function () {
		return this.getElement().getElement('div.poi_search');
	},
	
	getPerSEL: function () {
		return this.getElement().getElement('div.per_search');
	},
	
	getTrfSEL: function () {
		return this.getElement().getElement('div.trf_search');
	},
	getDriveSEL: function () {//getDriveSEL
		return this.getElement().getElement('div.drive_search');
	},
	
	_init: function(){
		this._initSearchBar();
		this._initInputsEvent();
		this._initSwitchIconEvent();
		this._initRegionsEvent();
		this._initDriveSwitchIconEvent();
	},
	_initSearchBar: function () {
		var searchBar = this.getElement();
		var tabs = searchBar.getElements('li.tab');
		var tabCons = searchBar.getElements('div.tab_content');
		tabs.each(function(tab, index){
			tab.addEvent('click', function(tab, tabCons, index){
				if (!tab.hasClass('active')) {
					var activeLi = searchBar.getElement('li.active');
					if (activeLi) activeLi.removeClass('active');
					tab.addClass('active');
					this.changeTab(tab.get('value'));
					tabCons.each(function(tabCon, index2){
						if (index === index2) {
							tabCon.addClass('active');
						} else {
							tabCon.removeClass('active');
						}
					});
					this.activeTab = index;
					//关闭区域选择框
					this.closeRegions();
				}
			}.bind(this, [tab, tabCons, index]));
		}.bind(this));
	},
	_initInputsEvent: function  () {
		var searcEl = null;
		var elFocus = function(){
			if (this.hasClass('title')) {
                this.removeClass('title');
				this.set('value', '');
				if (Browser.Engine.gecko) {
					this.fireEvent('click');
				}
            }
		}
		var submit = function(e, fun){
			if (e.key == 'enter') {
				fun();
			}
		}
		
		var changeSubmitImage = function(element){
			return {
				'mousedown': function(){
					this.addClass('sub_active');
				}.bind(element),
				'mouseup': function(){
					this.removeClass('sub_active');
				}.bind(element),
				'mouseout': function(){
					this.removeClass('sub_active');
				}.bind(element)
			}
		}
		
		//地图搜索
		searcEl = this.getPoiSEL();
		var poiValueEl = searcEl.getElement('input.value');
        poiValueEl.addEvents({
			'keydown': submit.bindWithEvent(this, this._poiSearch.bind(this)),
			'focus': elFocus.bind(poiValueEl)
		});
		var poiSubmitEl = searcEl.getElement('input.submit');
		poiSubmitEl.addEvent('click', this._poiSearch.bind(this));
		poiSubmitEl.addEvents(changeSubmitImage(poiSubmitEl));
		
		
		//周边搜索
		searcEl = this.getPerSEL();
		var perValueEl = searcEl.getElement('input.value');
		var centerSuggest = searcEl.getElementById('centerSuggest');
		
		var perKeywordEl = searcEl.getElement('input.keyword');
		var keywordSuggest = searcEl.getElementById('keywordSuggest');
		
        perValueEl.addEvents({
            'keydown': submit.bindWithEvent(this, this._perSearch.bind(this)),
			'focus': elFocus.bind(perValueEl),
			'click': function(e, otherEl){
				otherEl.removeClass('active');
				this.addClass('active');
				if (e) {
					e.stopPropagation();
				}
			}.bindWithEvent(centerSuggest, keywordSuggest)
        });
		perValueEl.set('value', '请输入中心地址')
		
		centerSuggest.getElement('div.close').addEvent('click', function(){
			this.removeClass('active');
		}.bind(centerSuggest));
		centerSuggest.getElements('a').each(function(hotKwEl){
			hotKwEl.addEvent('click', function(prEl){
				perValueEl.set('value', this.get('html').trim());
				prEl.removeClass('active');
			}.bind(hotKwEl, centerSuggest));
		});
		
		perKeywordEl.addEvents({
			'keydown': submit.bindWithEvent(this, this._perSearch.bind(this)),
			'focus': elFocus.bind(perKeywordEl),
			'click': function(e, otherEl){
				otherEl.removeClass('active');
				this.addClass('active');
				if (e) {
					e.stopPropagation();
				}
			}.bindWithEvent(keywordSuggest, centerSuggest)
		});
		
		keywordSuggest.getElement('div.close').addEvent('click', function(){
			this.removeClass('active');
		}.bind(keywordSuggest));
		keywordSuggest.getElements('a').each(function(hotKwEl){
			hotKwEl.addEvent('click', function(prEl){
				perKeywordEl.set('value', this.get('html').trim());
				prEl.removeClass('active');
			}.bind(hotKwEl, keywordSuggest));
		});
		
		centerSuggest.addEvent('click', function(e){
            e.stopPropagation();
        }.bindWithEvent(centerSuggest));
		keywordSuggest.addEvent('click', function(e){
            e.stopPropagation();
        }.bindWithEvent(centerSuggest));
		document.addEvent('click', function(){
			if(document.id('centerSuggest')) {
				document.id('centerSuggest').removeClass('active');
			}
			if (document.id('keywordSuggest')) {
				document.id('keywordSuggest').removeClass('active');
			}
		}.bind(this));
		
		var perSubmitEl = searcEl.getElement('input.submit');
		perSubmitEl.addEvent('click', this._perSearch.bind(this));
		perSubmitEl.addEvents(changeSubmitImage(perSubmitEl));
		
		//公交换乘
		searcEl = this.getTrfSEL();
		var trfFromEl = searcEl.getElement('input.from');
		var trfToEl = searcEl.getElement('input.to');
		trfFromEl.addEvents({
			'keydown': submit.bindWithEvent(this, this._trfSearch.bind(this)),
			'focus': elFocus.bind(trfFromEl)
		});
        trfToEl.addEvents({
            'keydown': submit.bindWithEvent(this, this._trfSearch.bind(this)),
			'focus': elFocus.bind(trfToEl)
        });
		var trfSubmitEl = searcEl.getElement('input.submit');
		trfSubmitEl.addEvent('click', this._trfSearch.bind(this));
		trfSubmitEl.addEvents(changeSubmitImage(trfSubmitEl));
		
		//自驾车
		driveEl = this.getDriveSEL();
		var driveFromEl = driveEl.getElement('input.from');
		var driveToEl = driveEl.getElement('input.to');
		driveFromEl.addEvents({
			'keydown': submit.bindWithEvent(this, this._driveSearch.bind(this)),
			'focus': elFocus.bind(driveFromEl)
		});
		driveToEl.addEvents({
            'keydown': submit.bindWithEvent(this, this._driveSearch.bind(this)),
			'focus': elFocus.bind(driveToEl)
        });
		var driveSubmitEl = driveEl.getElement('input.submit');
		driveSubmitEl.addEvent('click', this._driveSearch.bind(this));
		driveSubmitEl.addEvents(changeSubmitImage(driveSubmitEl));
	},
	_initSwitchIconEvent: function(){
		var iconEl = this.getTrfSEL().getElement('span.ch_arrow');
		iconEl.addEvent('click', function(element){
			if (element.hasClass('loading')) {
				return ;
			}
			var trfSearch = this.getTrfSEL();
			var region = this.getRegion(trfSearch);
			var fromEl = trfSearch.getElement('input.from');
			var toEl = trfSearch.getElement('input.to');
			if (fromEl.hasClass('title') || toEl.hasClass('title')) {
				return ;
			}
			var fromValue = fromEl.get('value');
			var toValue = toEl.get('value');
			fromEl.set('value', toValue);
			toEl.set('value', fromValue);
			
			if (this._chkSearch(fromEl) && this._chkSearch(toEl)) {
				this.swapStartAndEnd.run([region, toValue, fromValue]);
			}
			
		}.bind(this, iconEl));
	},
	removeSwitchIconClass: function(className){
		var iconEl = this.getTrfSEL().getElement('span.ch_arrow');
		iconEl.removeClass(className);
	},
	addSwitchIconClass: function(className){
		var iconEl = this.getTrfSEL().getElement('span.ch_arrow');
		iconEl.addClass(className);
	},
	_initRegionsEvent: function(){
		var regions = this.getElement().getElement('div.regions');
		
		regions.getElement('div.close').addEvent('click', this.closeRegions.bind(this));
		
		regions.getElements('tr').each(function(trRegion){
			trRegion.addEvents({
				'click': function(trr){
					var value = trr.getElement('td').get('html');
					value = value.replace('[','').replace(']','').trim();
					this.setRegion(value);
					this.closeRegions();
					this.changeRegion(value);
				}.bind(this, trRegion)
			});
		}.bind(this));
		
		var topLefts = [[64, 10], [64, 10], [64, 24]];
		var regionEls = this.getElement().getElements('span.r_arrow');
		regionEls.each(function(regionEl, index){
			regionEl.addEvent('click', function(e, index){
				var region = this.getElement().getElement('div.regions').addClass('active');
				region.setStyles({
					'top': topLefts[index][0],
					'left': topLefts[index][1]
				});
				e.stopPropagation();
			}.bindWithEvent(this, index));
		}.bind(this));
		
		document.addEvent('click', function(){
			this.closeRegions();
		}.bind(this));
	},
	
	closeRegions: function(){
		var el = this.getElement();
		var reEl = !el || this.getElement().getElement('div.regions');
		if (el && reEl) {
			reEl.removeClass('active');
		}
	},
	setRegion: function(value){
		var regions = this.getElement().getElements('input.region');

		var regionValues = ['苏州市','昆山市','太仓市','常熟市','吴江市','张家港市'];
		if (!regionValues.contains(value)) {
			value = regionValues[0];
		}
		regions[this.activeTab].set('value', value);
		/*
		regions.each(function(region){
			region.set('value', value);
		});
		*/
	},
	getRegion: function(parent){
		var region = (parent || document.id('searchBar')).getElement('input.region');
		return region.get('value');
	},
	
	_chkSearch: function(element, forbidStr){
		if (!element) {
			return false;
		}
		if (element.get('value').trim() === '' || element.get('value').trim() === forbidStr) {
			element.set('value', '');
			element.focus();
			return this.checkValue === false;
		} 
		return true;
	},
	
	_setElementValue: function(element, value){
		element.removeClass('title');
		if ($type(value) ==='string') {
			element.set('value', value);
		}
	},
	
	//地图搜索按钮响应事件
	_poiSearch: function (){
		var poiSearch =  this.getPoiSEL();
		var valueEl = poiSearch.getElement('input.value');
		
		if (this._chkSearch(valueEl, '请输入地名或公交线路 例如：拙政园 或19路')) {
			this.poiSearch(this.getRegion(poiSearch), valueEl.get('value'));
		}
	},
	setPoiSearchInputs: function(value, region){
		var inputEl = this.getPoiSEL().getElement('input.value');
		this._setElementValue(inputEl, value);
		
		if ($chk(region)) {
			this.setRegion(region);
		}
	},
	
	//周边搜索按钮响应事件
	_perSearch: function (){
		var perSearch = this.getPerSEL();
		var centerEl = perSearch.getElement('input.value');
		var keyWordEl = perSearch.getElement('input.keyword');
		
		if (this._chkSearch(centerEl, '请输入中心地址') && this._chkSearch(keyWordEl, '例:酒店，美食，婚纱摄影，装潢，驾校..')) {
			this.perSearch(this.getRegion(perSearch), centerEl.get('value'), keyWordEl.get('value'));
		}
	},
	setPerSearchInputs: function(center, keyword, region){
		var perSearch = this.getPerSEL();
		
		this._setElementValue(perSearch.getElement('input.value'), center);
		this._setElementValue(perSearch.getElement('input.keyword'), keyword);
		
		if ($chk(region)) {
			this.setRegion(region);
		}
	},
	
	//公交换乘按钮响应事件
	_trfSearch: function (){
		var trfSearch = this.getTrfSEL();
		var fromEl = trfSearch.getElement('input.from');
		var toEl = trfSearch.getElement('input.to');
		
		if (this._chkSearch(fromEl , '起点：输入站点名或地名') && this._chkSearch(toEl, '终点：输入站点名或地名')) {
			this.trfSearch(this.getRegion(trfSearch), fromEl.get('value'), toEl.get('value'));
		}
	},
	setTrfSearchInputs: function(from, to, region){
		var trfSearch = this.getTrfSEL();
		
		this._setElementValue(trfSearch.getElement('input.from'), from);
		this._setElementValue(trfSearch.getElement('input.to'), to);
		
		if ($chk(region)) {
			this.setRegion(region);
		}
	},
	//自驾车
	_driveSearch : function(){
		var driveSearch = this.getDriveSEL();
		var fromEl = driveSearch.getElement('input.from');
		var toEl = driveSearch.getElement('input.to');
		if (this._chkSearch(fromEl , '出发地：请输入地名，例如虎丘') && this._chkSearch(toEl, '目的地：请输入地名，例如拙政园')) {
			this.driveSearch(fromEl.get('value'), toEl.get('value'));
		}
	},
	setDriveSearchInputs: function(from, to){
		var driveSearch = this.getDriveSEL();
		this._setElementValue(driveSearch.getElement('input.from'), from);
		this._setElementValue(driveSearch.getElement('input.to'), to);
	},
	_initDriveSwitchIconEvent : function(){
		var iconEl = this.getDriveSEL().getElement('span.ch_arrow');
		iconEl.addEvent('click', function(element){
			if (element.hasClass('loading')) {
				return ;
			}
			var driveSearch = this.getDriveSEL();
			var fromEl = driveSearch.getElement('input.from');
			var toEl = driveSearch.getElement('input.to');
			if (fromEl.hasClass('title') || toEl.hasClass('title')) {
				return ;
			}
			var fromValue = fromEl.get('value');
			var toValue = toEl.get('value');
			fromEl.set('value', toValue);
			toEl.set('value', fromValue);
			if (this._chkSearch(fromEl) && this._chkSearch(toEl)) {
				this.swapStartAndEnd.run([toValue, fromValue]);
			}
			
		}.bind(this, iconEl));
	},
	addAutoCompleter: function(){
			var regionObj = {
				'苏州市':'S',
				'昆山市':'K',
				'太仓市':'T',
				'常熟市':'C',
				'吴江市':'W',
				'张家港市':'Z'
			}
			//var autoCompleteUrl = 'http://localhost:10000/gimapcore/maps/p';
			var autoCompleteUrl = 'http://'+location.hostname+'/maps/p';
			var inputWord = document.getElement('input.value');
        	var indicator = new Element('img',{
        		'src':'images/spinner.gif',
        		'class':'autocompleter_loading'
        	});
        	indicator.setStyle('display','none');
        	indicator.inject(inputWord,'after');
        	
            new Autocompleter.Request.JSON(inputWord, autoCompleteUrl, {
             	'indicator': indicator,
                'indicatorClass': 'autocompleter_loading',
				'relative':false,
				postData:{'m':'srpbk'},
				ajaxOptions:{'method':'get'},
				postVar:'keyword',
				filterSubset:true,
				width:401,
				onRequest: function(element,request,data,queryValue){
					data.region = regionObj[this.getRegion()];
					//data._dt = new Date().getTime() 
				}.bind(this)
             });
             
             var trf_search = document.getElement('div.trf_search');
             var from = trf_search.getElement('input.from');
             var trf_fIndicator = indicator.clone();
             trf_fIndicator.set('class','trf_fromloading');
             trf_fIndicator.inject(from,'after');
             new Autocompleter.Request.JSON(from, autoCompleteUrl, {
             	'indicator': trf_fIndicator,
                'indicatorClass': 'trf_fromloading',
				'relative':false,
				postData:{'m':'srpbk'},
				ajaxOptions:{'method':'get'},
				postVar:'keyword',
				filterSubset:true,
				width:178,
				onRequest: function(element,request,data,queryValue){
					data.region = regionObj[this.getRegion()];
				}.bind(this)
             });
             
             var to = trf_search.getElement('input.to');
             var trf_tIndicator = indicator.clone();
             trf_tIndicator.set('class','trf_toloading');
             trf_tIndicator.inject(to,'after');
             new Autocompleter.Request.JSON(to, autoCompleteUrl, {
             	'indicator': trf_tIndicator,
                'indicatorClass': 'trf-toloading',
				'relative':false,
				postData:{'m':'srpbk'},
				ajaxOptions:{'method':'get'},
				postVar:'keyword',
				filterSubset:true,
				width:177,
				onRequest: function(element,request,data,queryValue){
					data.region = regionObj[this.getRegion()];
				}.bind(this)
             });
             
             
             var drive_search = document.getElement('div.drive_search');
             var from = drive_search.getElement('input.from');
             var drv_fIndicator = indicator.clone();
             drv_fIndicator.set('class','drv_fromloading');
             drv_fIndicator.inject(from,'after');
             new Autocompleter.Request.JSON(from, autoCompleteUrl, {
             	'indicator': drv_fIndicator,
                'indicatorClass': 'drv_fromloading',
				'relative':false,
				postData:{'m':'srpbk'},
				ajaxOptions:{'method':'get'},
				postVar:'keyword',
				filterSubset:true,
				width:220
             });
             
             var to = drive_search.getElement('input.to');
             var drv_tIndicator = indicator.clone();
             drv_tIndicator.set('class','drv_toloading');
             drv_tIndicator.inject(to,'after');
             new Autocompleter.Request.JSON(to, autoCompleteUrl, {
             	'indicator': drv_tIndicator,
                'indicatorClass': 'drv_toloading',
				'relative':false,
				postData:{'m':'srpbk'},
				ajaxOptions:{'method':'get'},
				postVar:'keyword',
				filterSubset:true,
				width:220
             });
             
             /**
			 var periphery_center = document.id('periphery_center');
			 var center_Indicator = indicator.clone();
             center_Indicator.set('class','center_loading');
             center_Indicator.inject(periphery_center,'after');
			 new Autocompleter.Request.JSON(periphery_center, autoCompleteUrl, {
			 	'indicator': center_Indicator,
                'indicatorClass': 'center_loading',
				'relative':false,
				postData:{'m':'srpbk'},
				ajaxOptions:{'method':'get'},
				postVar:'keyword',
				width:147
             });
             
             var periphery_keyword = document.id('periphery_keyword');
             var keyword_Indicator = indicator.clone();
             keyword_Indicator.set('class','keyword_loading');
             keyword_Indicator.inject(periphery_keyword,'after');
			 new Autocompleter.Request.JSON(periphery_keyword, autoCompleteUrl, {
			 	'indicator': keyword_Indicator,
                'indicatorClass': 'keyword_loading',
				'relative':false,
				postData:{'m':'srpbk'},
				ajaxOptions:{'method':'get'},
				postVar:'keyword',
				width:203
             });
           **/  
	}
	
}
	
</script>




















    </div>
        <script type='text/javascript'>
					(function(){
						var tab = document.getElementById('searchBar_tab_0');
						var content = document.getElementById('searchBar_tabcontent_0');
						if (tab && content) {
							tab.className += " active";
							content.className += " active";
						}
					})();
				</script>
            <div id='hotContainer'>
                <table border='0' cellpadding='0' cellspacing='0' id='tb_hot'>
                    <tr>
                        <th class="td_0">地图服务</th>
                        <th class="td_1">交通出行</th>
                        <th class="td_2">餐饮娱乐</th>
                        <th class="td_3">金融服务</th>
                        <th class="td_4">生活服务</th>
                        <th class="td_5">商场购物</th>
                        <th class="td_6">旅游住宿</th>
                    </tr>
                    <tr>
						<td class="td_0">
							<a target="_blank" href="http://m.sz-map.com/" class="hot_message fontweight realtime_trf">实时公交</a>
                        </td>
                        <td class="td_1">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=公共自行车&region=苏州市" class="hot_message fontweight">公共自行车</a>
                        </td>
                        <td class="td_2">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=李公堤&region=苏州市" class="hot_message ">李公堤</a>
                        </td>
                        <td class="td_3">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=中国银行&region=苏州市" class="hot_message ">中国银行</a>
                        </td>
                        <td class="td_4">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=中国邮政&region=苏州市" class="hot_message ">中国邮政</a>
                        </td>
                        <td class="td_5">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=大润发&region=苏州市" class="hot_message ">大润发</a>
                        </td>
                        <td class="td_6">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=景区&region=苏州市" class="hot_message ">旅游景区</a>
                        </td>
                    </tr>
                    <tr>
						<td class="td_0">
                            <a target="_blank" href="http://sqmap.huangpuqu.sh.cn/" class="hot_message ">上海黄浦</a>
                        </td>
                        <td class="td_1">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=苏州火车站&region=苏州市&id=02D6F1342E374E6FB581FA3E4924E22C" class="hot_message ">苏州火车站</a>
                        </td>
                        <td class="td_2">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=苏州乐园&region=苏州市" class="hot_message ">苏州乐园</a>
                        </td>
                        <td class="td_3">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=工商银行&region=苏州市" class="hot_message ">工商银行</a>
                        </td>
                        <td class="td_4">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=中国电信&region=苏州市" class="hot_message ">中国电信</a>
                        </td>
                        <td class="td_5">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=苏宁电器&region=苏州市" class="hot_message ">苏宁</a>
                        </td>
                        <td class="td_6">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=拙政园&region=苏州市" class="hot_message ">拙政园</a>
                        </td>
                    </tr>
                    <tr>
						<td class="td_0">
                            <a target="_blank" href="http://sipac.sz-map.com/" class="hot_message ">工业园区地图</a>
                        </td>
                        <td class="td_1">
                        	<a target="_blank" href="poisch.jsp?analyzer=true&name=苏州园区站&region=苏州市&id=E4E0A048C83D4C498E14AC3C690DE585" class="hot_message ">园区火车站</a>
                        </td>
                        <td class="td_2">
                            <a target="_blank" href="poisch.jsp?analyzer=false&name=真人CS&region=苏州市" class="hot_message fontweight">真人CS</a>
                        </td>
                        <td class="td_3">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=建设银行&region=苏州市" class="hot_message ">建设银行</a>
                        </td>
                        <td class="td_4">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=航空售票&region=苏州市" class="hot_message ">航空售票</a>
                        </td>
                        <td class="td_5">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=圆融时代广场&region=苏州市" class="hot_message ">圆融广场</a>
                        </td>
                        <td class="td_6">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=博物馆&region=苏州市" class="hot_message ">博物馆</a>
                        </td>
                    </tr>
                    <tr>
						<td class="td_0">
                            <a target="_blank" href="http://snd.sz-map.com/" class="hot_message ">高新区地图</a>
                        </td>
                        <td class="td_1">
							<a target="_blank" href="poisch.jsp?analyzer=true&name=苏州新区站&region=苏州市&id=0A2DCD34FFE149768B5E161DFFEB9027" class="hot_message ">新区火车站</a>
                        </td>
                        <td class="td_2">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=星巴克&region=苏州市" class="hot_message ">星巴克</a>
                        </td>
                        <td class="td_3">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=江苏银行&region=苏州市" class="hot_message ">江苏银行</a>
                        </td>
                        <td class="td_4">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=客票代售&region=苏州市" class="hot_message ">火车票代售</a>
                        </td>
                        <td class="td_5">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=绿宝广场&region=苏州市" class="hot_message ">绿宝广场</a>
                        </td>
                        <td class="td_6">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=汉庭快捷&region=苏州市" class="hot_message ">汉庭快捷</a>
                        </td>
                    </tr>
                    <tr>
						<td class="td_0">
                            <a target="_blank" href="http://blog.sz-map.com/" class="hot_message fontweight">地图网大字报</a>
                        </td>
                        <td class="td_1">
                            <a target="_blank" href="poisch.jsp?analyzer=true&id=6F2641B37EDC4089BBB3D04509D45B03&name=上海虹桥国际机场&region=苏州市" class="hot_message ">上海虹桥机场</a>
                        </td>
                        <td class="td_2">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=必胜客&region=苏州市" class="hot_message ">必胜客</a>
                        </td>
                        <td class="td_3">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=东吴证券&region=苏州市" class="hot_message ">东吴证券</a>
                        </td>
                        <td class="td_4">
                            <a target="_blank" href="http://www.uhui.cn/home.action" class="hot_message uhui">U惠</a>
                        </td>
                        <td class="td_5">
                            <a style='color:blue' target="_blank" href="poisch.jsp?analyzer=true&name=SM城市广场&region=苏州市" class="hot_message ">SM城市广场</a>
                        </td>
                        <td class="td_6">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=锦江之星&region=苏州市" class="hot_message ">锦江之星</a>
                        </td>
                    </tr>
                    <tr>
                        <td class="td_0">
                            <a target="_blank" href="http://product.sz-map.com/" class="hot_message ">地理图示系统</a>
                        </td>
                        <td class="td_1">
                            <a target="_blank" href="poisch.jsp?analyzer=true&id=DF228B73CEE54D1CAA07592B3573FF38&name=苏南硕放国际机场&region=苏州市" class="hot_message ">苏南硕放机场</a>
                        </td>
                        <td class="td_2">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=都可茶饮&region=苏州市" class="hot_message ">都可茶饮</a>
                        </td>
                        <td class="td_3">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=中国人寿&region=苏州市" class="hot_message ">中国人寿</a>
                        </td>
                        <td class="td_4">
                        </td>
                        <td class="td_5">
                            <a target="_blank" href="poisch.jsp?analyzer=true&name=金鹰国际购物中心&region=苏州市" class="hot_message ">金鹰购物中心</a>
                        </td>
                        <td class="td_6">
                        </td>
                    </tr>
                </table>
                
                <div id="Wrapper">
					<div id="Slider" class="nivoo-slider">
						<a target="_blank"  href="http://product.sz-map.com/">
							<img src="images/special/map_intro.png"  height="100px" width="585px" />
						</a>
						<!-- 
						<a target="_blank"  href="http://www.map315.com/">
							<img src="images/special/ycmap.png"  height="100px" width="585px" />
						</a>
						<a target="_blank"  href="http://221.231.0.10:9080/ycsport/front/">
							<img src="images/special/ycsports.png"  height="100px" width="585px" />
						</a>
						 -->
						<a target="_blank"  href="http://dmw.sz-map.com/">
							<img src="images/special/szdmw.png"  height="100px" width="585px" />
						</a>
					
						<a target="_blank"  href="http://brand.sz-map.com/bicycle/">
							<img src="images/special/bicycle.png"  height="100px" width="585px" />
						</a>
						<a target="_blank"  href="http://www.sz-map.com/static/sercom/">
							<img src="images/special/sercom.png"  height="100px" width="585px" />
						</a>
						<a target="_blank"  href="http://www.sz-map.com/static/suzhou/">
							<img src="images/special/suzhou.png"  height="100px" width="585px" />
						</a>
						<a target="_blank"  href="http://www.huangpuqu.sh.cn/shhp/infodetail/?infoid=138fc1ec-5561-4a57-9804-00b824e88427&categoryNum=002001">
							<img src="images/special/HP.png"  height="100px" width="585px" />
						</a>
					</div>
				</div>
                
                
                <div id='businessHot'>
                    <div id="businessImgs">
                        <div>
                             <a target="_blank" title="工商银行" href="poisch.jsp?analyzer=false&name=工商银行&region=苏州市"><img src="images/business/hot_bss_1.gif"></a>
                        </div>
                        <div>
                            <a target="_blank" title="邻里中心" href="poisch.jsp?analyzer=false&name=邻里中心&region=苏州市"><img src="images/business/hot_bss_2.gif"></a>
                        </div>
                        <div>
                            <a target="_blank" title="大数据地理图示系统" href="http://product.sz-map.com/"><img src="images/business/hot_bss_9.png"></a>
                        </div>
                        <div>
                            <a target="_blank" title="肯德基" href="poisch.jsp?analyzer=false&name=肯德基&region=苏州市"><img src="images/business/hot_bss_4.gif"></a>
                        </div>
                        <div>
                            <a target="_blank" title="真人CS" href="poisch.jsp?analyzer=false&name=真人CS&region=苏州市"><img src="images/business/hot_bss_8.gif"></a>
                        </div>
                        <div>
                            <a target="_blank" title="AT结婚网" href="http://www.atjiehun.com/"><img src="images/business/atjiehun.png"></a>
                        </div>
                        <div>
                            <a target="_blank" title="园林档案馆" href="poisch.jsp?analyzer=true&name=园林档案馆&region=苏州市"><img src="images/business/yuanlin.gif"></a>
                        </div>
                        <div>
                            <a target="_blank" title="好得家建材家具广场" href="http://brand.sz-map.com/hdcity/"><img src="images/business/hot_bss_7_up_0622.gif"></a>
                        </div>
                    </div>
                    <p>
                        <a href="javascript:;" title="更多">更多&gt;&gt;</a>
                    </p>
                </div>
            </div>
            
        






        <!---->
<script type='text/javascript'>
	var Head = {
		_homeUrl: 'http://www.sz-map.com',
		homepage: function(objIn){//设为首页
			try{
				objIn.style.behavior='url(#default#homepage)';
				objIn.setHomePage(this._homeUrl);
			}
			catch(e){alert("您现在使用的浏览器无法自动设为首页，请手动设置！");}
		},
		addFavorite: function(){//添加为收藏
			var url = this._homeUrl;
			var title = "苏州地图网";
			if (window.sidebar) window.sidebar.addPanel(title, url, "");
			else if( document.all ) window.external.AddFavorite(url, title);
			else if( window.opera && window.print ) return true;
		}
	};
</script>
<style>
<!--
body{margin: 0; padding: 0;}
#footer {width: 100%;text-align: center;font-size: 12px;}
#footer p a {color: #333333;margin-left: 6px;margin-right: 6px;text-decoration: none;}
#footer p.copyright {font-family: 'tahoma';}
#footer p a.recruitment {color: red;}
#footer a.footer_icon img {border: none;}
-->
</style>
<div id='footer'>
	<p>
      	<a title='关于我们' href='http://blog.sz-map.com/aboutus/' target='_blank'>关于我们</a>|
		<a title='公司资质' href='help/aptitude.html' target='_blank'>公司资质</a>|
		<a title='招贤纳士' href='http://blog.sz-map.com/recruitment/' target='_blank' class='recruitment'>招贤纳士</a>|
		<a title='法律声明' href='http://blog.sz-map.com/announcement/' target='_blank'>法律声明</a>|
		<a title='联系我们' href='http://blog.sz-map.com/contact/' target='_blank'>联系我们</a>|
		<a title='合作伙伴' href='help/blogroll.html#partner' target='_blank'>合作伙伴</a>|
		<a title='友情链接' href='help/blogroll.html#links' target='_blank'>友情链接</a>|
		<a title='设为首页' href='javascript:void(0);' onclick='Head.homepage(this);'>设为首页</a>|
		<a title='加入收藏' href='javascript:void(0);' onclick='Head.addFavorite();'>加入收藏</a>
	</p>
	<p class='copyright'>©2012苏州地图网 审图号：苏S（2014）018号 【甲测资字32002001】 【苏ICP备10005648】 </p>
	<a class='footer_icon' href='http://www.szgswljg.gov.cn/getcompanyinfor.action?website1=www.sz-map.com' target='_blank'><img src='images/szicb.gif' /></a>
	<a class='footer_icon' href='http://js.cyberpolice.cn/webpage/index.jsp' target='_blank'><img src='images/gt.gif'></a>
</div>

        <script type="text/javascript" src='js/special/NivooSlider.js?v=20131112'></script>
        <script type="text/javascript" src='js/main.js?v=20131112'></script>
        <script type="text/javascript">window.addEvent('domready', InitPage.initIndex.bind(InitPage));
        </script>
        <!---->
<!-- 流量统计 -->
<div style='visibility: hidden; width: 0px; height: 0px; overflow: hidden; display: block;'>
	<script type="text/javascript">  
	/**
	(function() {
    var ga = document.createElement('script');     ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:'   == document.location.protocol ? 'https://ssl'   : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
	**/
   </script>
</div>
    </body>
</html>
